<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å¦‚ä½•ä¸Šä¼ è‡ªå·±çš„å·¥å…·ç±»åˆ°MavenCentralé‡Œï¼Ÿ</title>
      <link href="/2023/09/21/how-to-publish-your-code-to-maven-central/"/>
      <url>/2023/09/21/how-to-publish-your-code-to-maven-central/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘å·¥ä½œä¹Ÿæ¯”è¾ƒå¿™ï¼Œéš¾å¾—æœ‰æ—¶é—´é—²ä¸‹æ¥åœ¨è‡ªå·±çš„åšå®¢ä¸­å†™ç¯‡æ–‡ç« ã€‚è·ç¦»ä¸Šæ¬¡å‘è¡¨æ–‡ç« å·²ç»æœ‰ <strong>10ä¸ªæœˆäº†</strong>ï¼Œæ•…èµ¶ç´§æ°´ä¸€ç¯‡æ–‡ç« å‡ºæ¥ã€‚</p><p>è¿™ç¯‡æ–‡ç« å°†è®²è¿°å¦‚ä½•å°†è‡ªå·±å†™çš„å·¥å…·ç±»æˆ–è€…å¼€æºæ¡†æ¶æ‰“åŒ…å‘å¸ƒåˆ° <code>MavenCentral</code> ä¸­ï¼Œè®©è‡ªå·±çš„æœ‹å‹æˆ–è€…åŒäº‹èƒ½å¤Ÿè¿œç¨‹ä½¿ç”¨ä½ çš„ä»£ç ã€‚</p><div class="note blue icon modern"><i class="note-icon fas fa-bullhorn"></i><p>æ¯”å¦‚ï¼Œåœ¨ <code>build.gradle</code> ä¸­åŠ å…¥ä¾èµ–ï¼š<code>implementation(&quot;io.github.cofbro:mvvmutils:1.0.0&quot;)</code>ï¼Œå°±èƒ½å¤Ÿå°†ä½ çš„ <code>jaråŒ…</code> ä¸‹è½½åˆ°æœ¬åœ°ä½¿ç”¨ã€‚</p></div><p>â˜‘ï¸ æ¥ä¸‹æ¥ï¼Œæˆ‘å°†ä»¥æˆæœ¬æœ€å°ã€æ•ˆç‡æœ€é«˜çš„æ–¹æ³•å¸¦ä½ å®Œæˆæ•´ä¸ªè¿‡ç¨‹ï¼Œé‚£ä¹ˆè¿›å…¥æ­£é¢˜ã€‚</p><h2 id="å‡†å¤‡å¥½åŸææ–™"><a href="#å‡†å¤‡å¥½åŸææ–™" class="headerlink" title="å‡†å¤‡å¥½åŸææ–™"></a>å‡†å¤‡å¥½åŸææ–™</h2><p>ç°åœ¨ä½ æƒ³æŠŠä½ å†™çš„å®Œç¾æ— æ•Œç²¾å¦™çš„ä»£ç å‘å¸ƒåˆ° <code>MavenCentral</code> ä¸­ï¼Œé¦–å…ˆéœ€è¦ä¸Šä¼ åˆ° <code>github</code> ä¸­ã€‚</p><p><em>ps:è¿™ä¸€æ­¥ä¸ä¼šçš„åŒå­¦è¯·è‡ªè¡Œç™¾åº¦âš¡</em></p><h2 id="æ³¨å†Œä¸€ä¸ª-sonatype-è´¦å·"><a href="#æ³¨å†Œä¸€ä¸ª-sonatype-è´¦å·" class="headerlink" title="æ³¨å†Œä¸€ä¸ª sonatype è´¦å·"></a>æ³¨å†Œä¸€ä¸ª <code>sonatype</code> è´¦å·</h2><p>è¿›å…¥å®˜ç½‘ <a href="https://issues.sonatype.org/" title="èµ¶ç´§æ³¨å†Œå§">sonatype</a></p><p><img src="https://cofbro.github.io/2023/09/21/how-to-publish-your-code-to-maven-central/issue.png"><br>ç‚¹å‡» <code>æ–°å»º</code> ï¼Œç„¶å <code>é—®é¢˜ç±»å‹</code> é€‰æ‹© <strong>New Project</strong>ï¼Œ<code>æ¦‚è¦</code> å°±éšä¾¿è¾“ä¸€ä¸ªç›¸å…³çš„åå­—å°±okã€‚ </p><p><img src="https://cofbro.github.io/2023/09/21/how-to-publish-your-code-to-maven-central/issue_detail.png"><br>æ¥ä¸‹æ¥ï¼š</p><ul><li><code>Group Id: io.github.&lt;Your github username&gt;</code></li><li><code>Project URL: è¿™é‡Œå°±æ˜¯ä½ pushåˆ°githubä»“åº“çš„åœ°å€</code></li><li><code>SCM url: &lt;Project URL&gt;.git</code> </li><li><code>Username(s): Username of your sonatype</code></li></ul><p>å…¨éƒ¨é…ç½®å®Œåç‚¹å‡»å³ä¸‹è§’å®Œæˆã€‚</p><h2 id="è®¤è¯ä½ çš„Github"><a href="#è®¤è¯ä½ çš„Github" class="headerlink" title="è®¤è¯ä½ çš„Github"></a>è®¤è¯ä½ çš„Github</h2><p>ä¸Šè¿°æ­¥éª¤å®Œæˆåï¼Œä¼šæœ‰ç›¸å…³äººå‘˜åœ¨ä½ çš„ <code>issue</code> ä¸‹è¿›è¡Œè¯„è®ºã€‚<br><img src="https://cofbro.github.io/2023/09/21/how-to-publish-your-code-to-maven-central/comment1.png"></p><p>å¤§æ¦‚æ„æ€æ˜¯ï¼š</p><div class="note blue icon modern"><i class="note-icon fas fa-bullhorn"></i><p>1ï¸âƒ£. åœ¨ä½ çš„ <code>Github</code> è´¦å·ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º <code>OSSRH-xxxxx</code> çš„ä»“åº“ä»¥è¯æ˜ä½ æ˜¯è´¦å·æ‹¥æœ‰è€…ã€‚</p><p>2ï¸âƒ£. å®Œæˆåå›å¤æ­¤è¯„è®ºã€‚</p></div><p><strong>ç…§åšåï¼Œå‡ºç°ä¸‹è¿°è¯„è®ºå³ä»£è¡¨é€šè¿‡éªŒè¯</strong><br><img src="https://cofbro.github.io/2023/09/21/how-to-publish-your-code-to-maven-central/comment2.png"></p><h2 id="å°†ä»£ç æ¨é€åˆ°-Maven-Central"><a href="#å°†ä»£ç æ¨é€åˆ°-Maven-Central" class="headerlink" title="å°†ä»£ç æ¨é€åˆ° Maven Central"></a>å°†ä»£ç æ¨é€åˆ° <code>Maven Central</code></h2><p>åœ¨ä½ æƒ³è¦ä¸Šä¼ è‡³ä¸­å¤®ä»“åº“çš„æ¨¡å—ä¸­çš„ <code>build.gradle</code> ä¸­ï¼ŒåŠ å…¥ä»¥ä¸‹ä»£ç ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// ç”¨äºæ‰“åŒ…æºä»£ç çš„ä»»åŠ¡</span><br><span class="line">task androidSourcesJar(type: Jar) &#123;</span><br><span class="line">    archiveClassifier.set(&#x27;sources&#x27;)</span><br><span class="line">    from android.sourceSets.main.java.srcDirs</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ç”¨äºæŠŠaaræ‰“åŒ…åˆ°mavenä»“åº“çš„ä»»åŠ¡</span><br><span class="line">afterEvaluate &#123;</span><br><span class="line">    publishing &#123;</span><br><span class="line">        publications &#123;</span><br><span class="line">            release(MavenPublication) &#123;</span><br><span class="line">                from components.release</span><br><span class="line">                artifact androidSourcesJar</span><br><span class="line">                groupId = &#x27;io.github.cofbro&#x27; // group id</span><br><span class="line">                artifactId = &#x27;mvvmutils&#x27; // åº“åç§°</span><br><span class="line">                version = &#x27;1.0.0&#x27; // åº“ç‰ˆæœ¬</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        repositories &#123;</span><br><span class="line">            maven &#123;</span><br><span class="line">                allowInsecureProtocol = true // ä»“åº“é»˜è®¤ä¸å…è®¸ä½¿ç”¨éhttpsåè®®ï¼Œæ‰€ä»¥è¿™é‡Œè®¾ç½®ä¸ºå…è®¸</span><br><span class="line">                url &#x27;https://s01.oss.sonatype.org/content/repositories/releases/&#x27; // mavenä»“åº“åœ°å€</span><br><span class="line">                credentials &#123;</span><br><span class="line">                    username &#x27;cofbro&#x27;     // mavenä»“åº“è´¦å·-sonatype</span><br><span class="line">                    password &#x27;xxxxxxxx&#x27;   // mavenä»“åº“å¯†ç -sonatype</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åå¯¹æ¨¡å—è¿›è¡Œ<code>build</code> ï¼ŒæˆåŠŸåå³å¯åœ¨ <a href="https://s01.oss.sonatype.org/" title="ç‚¹å‡»è¯•è¯•">Mavenä»“åº“</a> ä¸­æ‰¾åˆ°ä½ çš„ <code>JaråŒ…</code> ã€‚<br><img src="https://cofbro.github.io/2023/09/21/how-to-publish-your-code-to-maven-central/success.png"></p><h2 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h2><p>å­¦ä¼šäº†å—ï¼Ÿå­¦ä¼šäº†è¿˜ä¸èµ¶ç´§å‘å¸ƒä¸€æ¬¡ä½ çš„ä»£ç ï¼ŸğŸ˜ğŸ˜</p>]]></content>
      
      
      <categories>
          
          <category> Java Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java Anroid </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ThreadLocalè¯¦è§£</title>
      <link href="/2022/10/24/example/"/>
      <url>/2022/10/24/example/</url>
      
        <content type="html"><![CDATA[<h2 id="ThreadLocalæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ThreadLocalæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ThreadLocalæ˜¯ä»€ä¹ˆï¼Ÿ"></a>ThreadLocalæ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>ThreadLocalæ˜¯çº¿ç¨‹ä¹‹é—´è¿›è¡Œåä½œå’Œå…±äº«çš„é‡è¦å·¥å…·ï¼Œå¯ä»¥ä¿è¯å¹¶å‘ä¸­çš„çº¿ç¨‹å®‰å…¨ã€‚</p><p>å½“æˆ‘ä»¬å®šä¹‰å¥½äº†ThreadLocalå˜é‡åï¼Œæ¯ä¸ªçº¿ç¨‹å°±ä¼šæŒæœ‰è¿™ä¸ªå˜é‡çš„å‰¯æœ¬ï¼Œå„ä¸ªçº¿ç¨‹å°±å¯ä»¥å•ç‹¬æ“ä½œè¿™äº›å˜é‡è€Œä¸ä¼šäº’ç›¸å½±å“ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨é”çš„æ–¹å¼æ¥ä»£æ›¿ï¼Œç”¨ThreadLocalè¿™ç§æ–¹æ¡ˆä¸è¿‡æ˜¯ç”¨äº†ç©ºé—´æ¥æ¢æ—¶é—´äº†ã€‚</p><p><img src="https://c2.im5i.com/2022/11/17/2mmj6.png"></p><div class="note blue icon modern"><i class="note-icon fas fa-bullhorn"></i><p>ä¸€å¥è¯ï¼ŒThreadLocalå¯ä»¥é¿å…å¹¶å‘åœºæ™¯ä¸‹çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå› ä¸ºä½ è®¿é—®ThreadLocalå˜é‡å®é™…æ“ä½œçš„æ˜¯è‡ªå·±çº¿ç¨‹ä¸­ä¿å­˜çš„å‰¯æœ¬ã€‚</p></div><h2 id="ThreadLocalçš„ä½¿ç”¨"><a href="#ThreadLocalçš„ä½¿ç”¨" class="headerlink" title="ThreadLocalçš„ä½¿ç”¨"></a>ThreadLocalçš„ä½¿ç”¨</h2><p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨mainçº¿ç¨‹ä¸­å¼€å¯äº”ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½å»ä¿®æ”¹ <strong>expresså¯¹è±¡</strong> ä¸­çš„ThreadLocalå˜é‡çš„å€¼ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ˜¯ä¸ªä»€ä¹ˆæƒ…å†µã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public class Express &#123;</span><br><span class="line">    //å®šä¹‰ ThreadLocal å˜é‡ï¼Œå¹¶å°†å®ƒçš„å€¼åˆå§‹åŒ–æˆ100</span><br><span class="line">    ThreadLocal&lt;Integer&gt; tl = new ThreadLocal&lt;Integer&gt;() &#123;</span><br><span class="line">        //é‡å†™ initialVlaue() æ–¹æ³•ï¼Œå°†å…¶èµ‹å€¼100</span><br><span class="line">        @Override</span><br><span class="line">        protected Integer initialValue() &#123;</span><br><span class="line">            return 100;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    public Express()&#123;&#125;</span><br><span class="line"></span><br><span class="line">    public void changeThreadLocalVariable(int num) &#123;</span><br><span class="line">        //set() æ–¹æ³•ï¼Œç”¨æ¥è®¾ç½® ThreadLocal çš„å€¼</span><br><span class="line">        tl.set(num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class Test &#123;</span><br><span class="line">    //é™æ€å˜é‡ express</span><br><span class="line">    private static final Express express = new Express();</span><br><span class="line">    public static class A extends Thread &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void run() &#123;</span><br><span class="line">            //ä»¥æ¯ä¸ª Thread çš„ id ä½œä¸ºå€¼ï¼Œé‡æ–°è®¾ç½®å½“å‰çº¿ç¨‹ä¸­çš„ ThreadLocal å˜é‡å‰¯æœ¬çš„å€¼</span><br><span class="line">            int id = (int) Thread.currentThread().getId();</span><br><span class="line">            //å‰¯æœ¬è®¾å€¼</span><br><span class="line">            express.changeThreadLocalVariable(id);</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + &quot;ä¿®æ”¹åçš„å€¼ä¸ºï¼š&quot; + express.tl.get());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws InterruptedException &#123;</span><br><span class="line">       for (int i = 0; i &lt; 5; i++) &#123;</span><br><span class="line">        //ä»¥æ­¤å¯åŠ¨äº”ä¸ªçº¿ç¨‹</span><br><span class="line">           new A().start();</span><br><span class="line">       &#125;</span><br><span class="line">        System.out.println(&quot;numå®é™…çš„å€¼ä¸ºï¼š&quot; + express.tl.get());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œåç»“æœå¦‚ä¸‹ï¼šæˆ‘ä»¬å‘ç°å®é™…çš„numå€¼ä¾ç„¶æ˜¯100ï¼Œè€Œå…¶ä»–äº”ä¸ªå­çº¿ç¨‹ä¸­çš„numå€¼åˆ™å·²ç»è¢«ä¿®æ”¹äº†ï¼Œè¿™ä¾¿è¯å®äº† ThreadLocal å˜é‡ï¼Œä¼šè®©æ¯ä¸ªçº¿ç¨‹æ‹¥æœ‰å…¶ä¸€ä¸ªå‰¯æœ¬ï¼Œåœ¨å­çº¿ç¨‹ä¸­éƒ½æ˜¯è®¿é—®å’Œæ“ä½œè¿™ä¸ªå‰¯æœ¬ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Thread-0ä¿®æ”¹åçš„å€¼ä¸ºï¼š20</span><br><span class="line">Thread-4ä¿®æ”¹åçš„å€¼ä¸ºï¼š24</span><br><span class="line">Thread-1ä¿®æ”¹åçš„å€¼ä¸ºï¼š21</span><br><span class="line">Thread-2ä¿®æ”¹åçš„å€¼ä¸ºï¼š22</span><br><span class="line">Thread-3ä¿®æ”¹åçš„å€¼ä¸ºï¼š23</span><br><span class="line">numå®é™…çš„å€¼ä¸ºï¼š100</span><br></pre></td></tr></table></figure><h2 id="ThreadLocalçš„åŸç†è§£æ"><a href="#ThreadLocalçš„åŸç†è§£æ" class="headerlink" title="ThreadLocalçš„åŸç†è§£æ"></a>ThreadLocalçš„åŸç†è§£æ</h2><p>åœ¨ Thread ç±»ä¸­æœ‰ä¸€ä¸ªæˆå‘˜å˜é‡æ˜¯ threadLocals</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ThreadLocal.ThreadLocalMap threadLocals = null;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå˜é‡çš„ä½œç”¨å°±æ˜¯ç”¨æ¥ä¿å­˜å…¶å®ƒçº¿ç¨‹ä¸­ <strong>ThreadLocal</strong> å˜é‡çš„å‰¯æœ¬ã€‚å› æ­¤æ¯ä¸ªçº¿ç¨‹ä¸­éƒ½ä¼šæœ‰ä¸€ä¸ª <code>threadLocals</code>ï¼Œä¸è¿‡æœ€å¼€å§‹éƒ½æ˜¯ nullï¼Œç­‰å¾…ç€ä½ ç»™å®ƒè®¾ç½®ã€‚ä¸‹é¢ç»™å¤§å®¶ç”»äº†ä¸€å¼ å›¾ï¼Œä¾¿äºæ•´ä½“ä¸Šå¯¹ <code>ThreadLocal</code> ä¸€ä¸ªæ€»ä½“çš„è®¤è¯†ã€‚</p><p><img src="https://c2.im5i.com/2022/11/18/2x9z2.png"></p><p>ä»ä¸Šé¢è¿™å¼ å›¾æˆ‘ä»¬å¯ä»¥å¤§æ¦‚çŸ¥é“ï¼š</p><p>1.æ¯ä¸ªçº¿ç¨‹ä¸­éƒ½ä¼šæœ‰ä¸€ä¸ª <code>ThreadLocalMap</code> å˜é‡ã€‚</p><p>2.<code>ThreadLocalMap</code> ä¸­å†…éƒ¨æ˜¯ä¸€ä¸ªä¸ª <code>Entry</code> ï¼Œå…¶ä¸­çš„ <strong>key</strong> æ˜¯ <code>ThreadLocal</code> æœ¬èº«ï¼Œè€Œ <strong>value</strong> æ˜¯åˆ›å»º <code>ThreadLocal</code> æ—¶çš„å€¼ã€‚</p><h3 id="ThreadLocalMap-æºç "><a href="#ThreadLocalMap-æºç " class="headerlink" title="ThreadLocalMap æºç "></a>ThreadLocalMap æºç </h3><div class="note red icon modern"><i class="note-icon fas fa-battery-half"></i><p>ä»¥ä¸‹ä»…å±•ç¤ºéƒ¨åˆ†ç›¸å…³æºç ï¼Œå·²çœç•¥æ‰æ— å…³ä»£ç ï¼Œä¾¿äºå¤§å®¶ç†è§£ã€‚</p></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">static class ThreadLocalMap &#123;</span><br><span class="line">    </span><br><span class="line">    //å¼±å¼•ç”¨</span><br><span class="line">    static class Entry extends WeakReference&lt;ThreadLocal&lt;?&gt;&gt; &#123;</span><br><span class="line"></span><br><span class="line">        private static final int INITIAL_CAPACITY = 16;</span><br><span class="line"></span><br><span class="line">        Object value;</span><br><span class="line"></span><br><span class="line">        Entry(ThreadLocal&lt;?&gt; k, Object v) &#123;</span><br><span class="line">            super(k);</span><br><span class="line">            value = v;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //Entryæ•°ç»„ï¼Œç”¨äºå¤šä¸ª ThreadLocal&lt;T&gt; çš„å‚¨å­˜</span><br><span class="line">    private Entry[] table;</span><br><span class="line">    </span><br><span class="line">    //åˆ›å»ºThreadLocalMapï¼ŒThreadLocalä½œä¸ºkeyï¼Œä»¥ThreadLocalä¸­çš„æ³›å‹ä¸ºå€¼</span><br><span class="line">    ThreadLocalMap(ThreadLocal&lt;?&gt; firstKey, Object firstValue) &#123;</span><br><span class="line">        table = new Entry[INITIAL_CAPACITY];</span><br><span class="line">        int i = firstKey.threadLocalHashCode &amp; (INITIAL_CAPACITY - 1);</span><br><span class="line">        //åˆ›å»º Entry</span><br><span class="line">        table[i] = new Entry(firstKey, firstValue);</span><br><span class="line">        size = 1;</span><br><span class="line">        setThreshold(INITIAL_CAPACITY);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="set-æ–¹æ³•æºç "><a href="#set-æ–¹æ³•æºç " class="headerlink" title="set() æ–¹æ³•æºç "></a>set() æ–¹æ³•æºç </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">public void set(T value) &#123;</span><br><span class="line">    //è·å–å½“å‰çº¿ç¨‹</span><br><span class="line">    Thread t = Thread.currentThread();</span><br><span class="line">    //æ‹¿åˆ°å½“å‰çº¿ç¨‹çš„ ThreadLocal.ThreadLocalMap å˜é‡ threadLocals</span><br><span class="line">    ThreadLocalMap map = getMap(t);</span><br><span class="line">    if (map != null)</span><br><span class="line">        //å¦‚æœä¸ä¸º threadLocals ä¸ä¸ºç©ºå°±è°ƒç”¨ ThreadLocalMap ä¸­çš„ set æ–¹æ³•</span><br><span class="line">        map.set(this, value);</span><br><span class="line">    else</span><br><span class="line">        //ç©ºçš„è¯å°±åˆ›å»ºä¸€ä¸ª ThreadLocalMap å˜é‡ï¼Œå¹¶æŠŠ value ä¿å­˜è¿›å»</span><br><span class="line">        createMap(t, value);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">//ThreadLocalMap ä¸­çš„ set() æ–¹æ³•</span><br><span class="line">//è¿™é‡Œæ˜¯çœŸæ­£ç»™entryè®¾ç½®çš„åœ°æ–¹</span><br><span class="line">private void set(ThreadLocal&lt;?&gt; key, Object value) &#123;</span><br><span class="line"></span><br><span class="line">    // We don&#x27;t use a fast path as with get() because it is at</span><br><span class="line">    // least as common to use set() to create new entries as</span><br><span class="line">    // it is to replace existing ones, in which case, a fast</span><br><span class="line">    // path would fail more often than not.</span><br><span class="line"></span><br><span class="line">    Entry[] tab = table;</span><br><span class="line">    int len = tab.length;</span><br><span class="line">    //ç»è¿‡å¤æ‚ä½è¿ç®—è·å¾—entryæ•°ç»„ä¸­çš„å¯¹åº”çš„ä¸‹è¡¨</span><br><span class="line">    int i = key.threadLocalHashCode &amp; (len-1);</span><br><span class="line"></span><br><span class="line">    for (Entry e = tab[i];</span><br><span class="line">        e != null;</span><br><span class="line">        e = tab[i = nextIndex(i, len)]) &#123;</span><br><span class="line">        ThreadLocal&lt;?&gt; k = e.get();</span><br><span class="line"></span><br><span class="line">        if (k == key) &#123;</span><br><span class="line">            e.value = value;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        //å¯¹ key ä¸º null çš„entryæ¸…é™¤ï¼Œä½†æ˜¯æ¸…é™¤ä¸æ˜¯éå¸¸åŠæ—¶ï¼Œä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Œå› æ­¤å½“æˆ‘ä»¬ç”¨å®ŒThreadLocalæ—¶ä¸€å®šè¦è®°å¾— remove()</span><br><span class="line">        if (k == null) &#123;</span><br><span class="line">            replaceStaleEntry(key, value, i);</span><br><span class="line">            return;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        //åˆ›å»ºentryå¹¶ä¿å­˜å€¼</span><br><span class="line">        tab[i] = new Entry(key, value);</span><br><span class="line">        int sz = ++size;</span><br><span class="line">        if (!cleanSomeSlots(i, sz) &amp;&amp; sz &gt;= threshold)</span><br><span class="line">            rehash();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="get-æ–¹æ³•æºç "><a href="#get-æ–¹æ³•æºç " class="headerlink" title="get() æ–¹æ³•æºç "></a>get() æ–¹æ³•æºç </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">public T get() &#123;</span><br><span class="line">    //è·å–å½“å‰çº¿ç¨‹</span><br><span class="line">    Thread t = Thread.currentThread();</span><br><span class="line">    //æ‹¿åˆ°å½“å‰çº¿ç¨‹çš„ ThreadLocal.ThreadLocalMap å˜é‡ threadLocals</span><br><span class="line">    ThreadLocalMap map = getMap(t);</span><br><span class="line">    if (map != null) &#123;</span><br><span class="line">        //å¦‚æœä¸ä¸º threadLocals ä¸ä¸ºç©ºå°±è°ƒç”¨ getEntry() æ–¹æ³•</span><br><span class="line">        ThreadLocalMap.Entry e = map.getEntry(this);</span><br><span class="line">        if (e != null) &#123;</span><br><span class="line">            @SuppressWarnings(&quot;unchecked&quot;)</span><br><span class="line">            //å¦‚æœ e ä¸ä¸º nullï¼Œå°±è¿”å›entryçš„value</span><br><span class="line">            T result = (T)e.value;</span><br><span class="line">            return result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //å¦‚æœmapæ˜¯ç©ºï¼Œå°±è°ƒç”¨setInitialValue()æ–¹æ³•ï¼Œå®é™…ä¸Šæœ€ç»ˆè¿”å›çš„æ˜¯ null</span><br><span class="line">    return setInitialValue();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">//getEntry() æ–¹æ³•</span><br><span class="line">//çœŸæ­£å¾—åˆ° value çš„æ–¹æ³•</span><br><span class="line">private Entry getEntry(ThreadLocal&lt;?&gt; key) &#123;</span><br><span class="line">    //ç»è¿‡å¤æ‚ä½è¿ç®—è·å¾—entryæ•°ç»„ä¸­çš„å¯¹åº”çš„ä¸‹æ ‡</span><br><span class="line">    int i = key.threadLocalHashCode &amp; (table.length - 1);</span><br><span class="line">    Entry e = table[i];</span><br><span class="line">    if (e != null &amp;&amp; e.get() == key)</span><br><span class="line">        //entry ä¸ä¸º null ä¸”æœ‰ç›¸åº”çš„ key å°±è¿”å›å¯¹åº”æ•°ç»„çš„å…ƒç´ å€¼</span><br><span class="line">        return e;</span><br><span class="line">    else</span><br><span class="line">        //ä¸æ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„è¯å°±ä¼šè°ƒç”¨ getEntryAfterMiss()</span><br><span class="line">        return getEntryAfterMiss(key, i, e);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>getEntryAfterMiss()è¿™ä¸ªæ–¹æ³•ä¼šåˆ¤æ–­ <code>entry</code> æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºå°±ä¼šç›´æ¥è¿”å› <code>null</code>ï¼Œå¦åˆ™å°†è¿›ä¸€æ­¥åˆ¤æ–­ <strong>key</strong> æ˜¯å¦ä¸ºç©ºï¼Œè‹¥ä¸ä¸ºç©ºå°±è¿”å›æ­¤ <code>entry</code>ï¼Œå¦‚æœä¸ºç©ºé‚£ä¹ˆå°±ä¼šåšä¸€æ³¢æ¸…ç†ï¼Œæ¸…ç†æ‰è¿‡æ—¶çš„ <code>entry</code> ã€‚</p><h3 id="remove-æ–¹æ³•æºç "><a href="#remove-æ–¹æ³•æºç " class="headerlink" title="remove() æ–¹æ³•æºç "></a>remove() æ–¹æ³•æºç </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//è¿™ä¸ªæ–¹æ³•å°±æ˜¯ç”¨æ¥æ¸…é™¤ threadLocals çš„ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼</span><br><span class="line">public void remove() &#123;</span><br><span class="line">    ThreadLocalMap m = getMap(Thread.currentThread());</span><br><span class="line">    if (m != null)</span><br><span class="line">        m.remove(this);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ThreadLocal-çš„-Entry-ä¸­çš„-Key-ä¸ºä»€ä¹ˆè¦ç”¨å¼±å¼•ç”¨ï¼Ÿ"><a href="#ThreadLocal-çš„-Entry-ä¸­çš„-Key-ä¸ºä»€ä¹ˆè¦ç”¨å¼±å¼•ç”¨ï¼Ÿ" class="headerlink" title="ThreadLocal çš„ Entry ä¸­çš„ Key ä¸ºä»€ä¹ˆè¦ç”¨å¼±å¼•ç”¨ï¼Ÿ"></a>ThreadLocal çš„ Entry ä¸­çš„ Key ä¸ºä»€ä¹ˆè¦ç”¨å¼±å¼•ç”¨ï¼Ÿ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//WeakReference --------------&gt; å¼±å¼•ç”¨</span><br><span class="line">static class Entry extends WeakReference&lt;ThreadLocal&lt;?&gt;&gt; &#123;</span><br><span class="line">    /** The value associated with this ThreadLocal. */</span><br><span class="line">    Object value;</span><br><span class="line"></span><br><span class="line">    Entry(ThreadLocal&lt;?&gt; k, Object v) &#123;</span><br><span class="line">        super(k);</span><br><span class="line">        value = v;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¯´è¿™ä¸ªé—®é¢˜ä¹‹å‰æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ <code>JDK</code> ä¸ºæˆ‘ä»¬æä¾›äº†å“ªäº›å¼•ç”¨ï¼š</p><ul><li><strong>å¼ºå¼•ç”¨</strong> ï¼š åƒ <code>Objective o = new Object()</code> è¿™ç§ç›´æ¥ç”¨ <code>=</code> å¼•ç”¨çš„å°±å±äºå¼ºå¼•ç”¨ï¼Œåœ¨æ¯æ¬¡ <code>GC</code> æ—¶ä¼šè¿›è¡Œ <strong>æ ¹å¯è¾¾åˆ†æ</strong>ï¼Œå¦‚æœèƒ½å¤Ÿä¸ <strong>GCRoots</strong> ç›¸å…³è”ï¼Œé‚£ä¹ˆå°±æ°¸è¿œä¸ä¼šè¢«åƒåœ¾å›æ”¶ã€‚</li><li><strong>è½¯å¼•ç”¨</strong>ï¼šä¸€äº›æœ‰ç”¨ä½†æ˜¯å¹¶éå¿…éœ€ã€‚ç”¨è½¯å¼•ç”¨å…³è”çš„å¯¹è±¡ï¼Œç³»ç»Ÿå°†è¦å‘ç”Ÿå†…å­˜æº¢å‡ºï¼ˆOuyOfMemoryï¼‰ä¹‹å‰ï¼Œè¿™äº›å¯¹è±¡å°±ä¼šè¢«å›æ”¶ï¼Œå¦‚æœè¿™æ¬¡å›æ”¶åè¿˜æ˜¯æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œæ‰ä¼šæŠ›å‡ºå†…å­˜æº¢å‡ºã€‚</li><li><strong>å¼±å¼•ç”¨</strong>ï¼šä¸€äº›æœ‰ç”¨ï¼ˆç¨‹åº¦æ¯”è½¯å¼•ç”¨æ›´ä½ï¼‰ä½†æ˜¯å¹¶éå¿…éœ€ã€‚ç”¨å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡ï¼Œåªèƒ½ç”Ÿå­˜åˆ°ä¸‹ä¸€æ¬¡åƒåœ¾å›æ”¶ä¹‹å‰ï¼ŒGC å‘ç”Ÿæ—¶ï¼Œä¸ç®¡å†…å­˜å¤Ÿä¸å¤Ÿï¼Œéƒ½ä¼šè¢«å›æ”¶ã€‚</li><li><strong>è™šå¼•ç”¨</strong>ï¼šæœ€å¼±ï¼Œå®ƒéšæ—¶å¯èƒ½è¢«å›æ”¶æ‰ã€‚åƒåœ¾å›æ”¶çš„æ—¶å€™æ”¶åˆ°ä¸€ä¸ªé€šçŸ¥ï¼Œä¸»è¦ç”¨æ¥ç›‘æ§åƒåœ¾å›æ”¶å™¨æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</li></ul><p>ç…§è¿™ä¹ˆè¯´çš„è¯å¼±å¼•ç”¨èƒ½å¤Ÿåœ¨ <code>GC</code> æ—¶è¢«æ¸…é™¤æ‰ï¼Œé‚£ç”¨åœ¨ <code>Entryä¸­çš„Key</code> ä¸­æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Œç”¨å¼ºå¼•ç”¨éš¾é“å°±ä¸è¡Œäº†å—ï¼Ÿ</p><p>è¯¶ï¼Œç­”æ¡ˆæ˜¯è¿˜çœŸä¸è¡Œã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ <code>Entry</code> åœ¨å †é‡Œçš„ç»“æ„ï¼š<br><img src="https://c2.im5i.com/2022/11/18/2zDyj.png"></p><p>å¦‚æœ <code>Entry</code> ä¸­çš„ <code>key</code> æ˜¯å¼ºå¼•ç”¨ï¼Œé‚£ä¹ˆå½“ <code>ThreadLocal</code> å˜é‡ <code>tl</code> æ‰‹åŠ¨è®¾ç½®ä¸º null æ—¶ï¼Œç”±äº <code>Entry</code> ä¸­è¿˜æœ‰å¯¹ <code>ThreadLocal</code> å¯¹è±¡çš„å¼ºå¼•ç”¨ï¼Œå› æ­¤å®ƒæ— æ³•è¢«å›æ”¶ã€‚è€Œæˆ‘ä»¬æ ˆä¸­ <code>tl</code> å˜é‡å·²ç»æ˜¯ <code>null</code>ï¼Œæ— æ³•é€šè¿‡ <code>key</code> æ¥è®¿é—® <code>Entry</code> ä¸­çš„å˜é‡äº†ï¼Œä½†è¿™ä¸ª <code>Entry</code> ç”±äºæŒæœ‰ä¸€ä¸ªå¼ºå¼•ç”¨åˆä¸ä¼šè¢«åƒåœ¾å›æ”¶ï¼Œå› æ­¤è¿™å°±é€ æˆäº† <strong>å†…å­˜æ³„æ¼</strong> ã€‚</p><p>é‚£æˆ‘ä»¬æ¥çœ‹çœ‹ç”¨ <strong>å¼±å¼•ç”¨</strong> æ˜¯ä»€ä¹ˆæƒ…å†µï¼Œå½“æˆ‘ä»¬ä½¿ç”¨å®Œ <code>tl</code> å˜é‡åå°†å…¶è®¾ç½®ä¸º <code>null</code> åï¼Œå› ä¸ºæ˜¯ <code>å¼±å¼•ç”¨</code>ï¼Œå› æ­¤ <code>ThreadLocal</code> ä¼šè¢«åƒåœ¾å›æ”¶ã€‚å½“è¢«å›æ”¶ä¹‹åï¼Œ <code>Entry</code> ä¸­çš„ <code>key</code> å°±æ˜¯ <code>null</code> äº†ï¼Œè€Œä¹‹å‰æˆ‘ä»¬è®²åˆ°è¿‡åœ¨ <code>get()</code>ï¼Œ<code>set()</code>ï¼Œ<code>remove()</code>æ–¹æ³•ä¸­éƒ½ä¼šå¯¹ <code>key</code> ä¸º <code>null</code> çš„ <code>entry</code> è¿›è¡Œæ¸…é™¤å¤„ç†ï¼Œå› æ­¤ä¸ä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Œè¿™å°±æ˜¯ <code>JDK</code> ç”¨ <strong>è™šå¼•ç”¨</strong> çš„ç²¾å¦™ä¹‹å¤„ã€‚</p><div class="note pink icon modern"><i class="note-icon fas fa-car"></i><p>å› æ­¤å»ºè®®å¤§å®¶åœ¨ç”¨å®Œ <code>ThreadLocal</code> å˜é‡ä¹‹åä¸€å®šè®°å¾—è¦è¿›è¡Œ <code>tl.remove()</code> æ“ä½œï¼Œç”¨æ¥é¿å…å†…å­˜æ³„æ¼è¿™ä¸€é—®é¢˜ã€‚</p></div>]]></content>
      
      
      <categories>
          
          <category> Javaå¤šçº¿ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Androidä¹å®«æ ¼è§£é”è§†å›¾</title>
      <link href="/2022/07/20/android-unlockView/"/>
      <url>/2022/07/20/android-unlockView/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä»Šå¤©æˆ‘ä»¬æ¥æ‰‹å†™ä¸€ä¸ªå…³äºæ‰‹æœºä¹å®«æ ¼è§£é”çš„ä¸€ä¸ª <code>view</code> ï¼Œæˆ‘ä»¬å°†å„ç§æ–¹æ³•åŒ…æ‹¬å‘å¤–éƒ¨ä¼ å‡ºå¯†ç çš„åŠŸèƒ½è¿›è¡Œå°è£…ï¼Œå†™æˆæˆ‘ä»¬è‡ªå·±çš„ä¸€ä¸ª <code>view</code> ã€‚</p><h2 id="æ•ˆæœå±•ç¤º"><a href="#æ•ˆæœå±•ç¤º" class="headerlink" title="æ•ˆæœå±•ç¤º"></a>æ•ˆæœå±•ç¤º</h2><p><img src="https://s3.bmp.ovh/imgs/2022/07/20/c8bc218def416211.png"></p><blockquote><p>è¯´æ˜ï¼šæ­¤è§†å›¾ä¸­çš„å­æ§ä»¶å…¨éƒ¨éƒ½æ˜¯ <code>ImageView</code> ï¼Œè¿™é‡Œæ²¡æœ‰ç”¨åˆ°ç»˜åˆ¶</p></blockquote><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>æˆ‘ä»¬é¦–å…ˆæ¥è¯´æ˜ä¸€ä¸‹è¿™ä¸ªå°demoçš„ä¸€äº›ç»†èŠ‚ã€‚</p><p>1.å·²ç»ç‚¹äº®çš„ç‚¹ä¸èƒ½é‡å¤ç‚¹äº®</p><p>2.å·²ç»ç‚¹äº®çš„ç‚¹ä¸èƒ½ä¸å…¶ä»–ä»»æ„ä¸€ç‚¹ä¹‹é—´å½¢æˆè¿çº¿</p><p>3.å½“æ‰‹æŒ‡å®Œæˆä¹å®«æ ¼è§£é”æ—¶ï¼Œè¦å‘å¤–éƒ¨ï¼Œå¦‚ <code>Activity</code> ä¼ é€’ <code>password</code> ,ç”±å¤–éƒ¨æ¥åˆ¤æ–­å¯†ç æ˜¯å¦æ­£ç¡®</p><h3 id="ç•Œé¢çš„å¸ƒå±€"><a href="#ç•Œé¢çš„å¸ƒå±€" class="headerlink" title="ç•Œé¢çš„å¸ƒå±€"></a>ç•Œé¢çš„å¸ƒå±€</h3><p>é¦–å…ˆä»ç•Œé¢çš„å¸ƒå±€å¼€å§‹è¯´èµ·ï¼Œä¹å®«æ ¼é¡¾åæ€ä¹‰æœ‰ä¹ä¸ªç‚¹ï¼Œå…¶æ¬¡å°±æ˜¯6æ¡æ¨ªçº¿ï¼Œ6æ¡ç«–çº¿ï¼Œ4æ¡å‘å³ä¸‹æ–¹å€¾æ–œçš„çº¿ä»¥åŠ4æ¡å‘å·¦ä¸‹æ–¹å€¾æ–œçš„çº¿ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨ä»£ç çš„æ–¹å¼åˆ›å»ºè¿™äº›è§†å›¾ã€‚</p><p>å¾ˆæ˜¾ç„¶æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå®¹å™¨æ¥å®¹çº³ä¸‹è¿™äº›å­æ§ä»¶ï¼Œå› æ­¤æˆ‘ä»¬è‡ªå·±å–åçš„è§†å›¾ <code>PicUnlockView</code> éœ€è¦ç»§æ‰¿ <code>ViewGruop</code> ï¼Œå¹¶ä¸”å®ƒçš„ä¸‰ä¸ªæ„é€ æ–¹æ³•æˆ‘ä»¬éƒ½å†™å‡ºæ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class PicUnlockView : ViewGroup &#123;</span><br><span class="line">    /**</span><br><span class="line">    *   æœ‰ä¸‰ä¸ªæ„é€ æ–¹æ³•ï¼Œå…¶ä¸­ç¬¬ä¸‰ä¸ªæ„é€ æ–¹æ³•</span><br><span class="line">    *   çš„ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ï¼š</span><br><span class="line">    *   1.ä¸Šä¸‹æ–‡</span><br><span class="line">    *   2.å¸ƒå±€å‚æ•°ï¼Œå®ƒçš„ç±»å‹æ˜¯é›†åˆï¼Œé‡Œé¢æ”¾çš„æ˜¯å„ç§å¸ƒå±€å‚æ•°</span><br><span class="line">    *   3.å¸ƒå±€æ ·å¼</span><br><span class="line">    */</span><br><span class="line">    constructor(context: Context) : super(context) &#123;</span><br><span class="line">        //æˆ‘ä»¬å°†æ‰€æœ‰è§†å›¾çš„åˆ›å»ºéƒ½æ”¾åœ¨initUi()é‡Œé¢</span><br><span class="line">        initUi()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    constructor(context: Context, attrs: AttributeSet) : super(context, attrs) &#123;</span><br><span class="line">        initUi()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    constructor(context: Context, attrs: AttributeSet, style: Int) : super(context, attrs, style) &#123;</span><br><span class="line">        initUi()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ä¹ä¸ªç‚¹çš„åˆ›å»ºåŠæ˜¾ç¤º"><a href="#ä¹ä¸ªç‚¹çš„åˆ›å»ºåŠæ˜¾ç¤º" class="headerlink" title="ä¹ä¸ªç‚¹çš„åˆ›å»ºåŠæ˜¾ç¤º"></a>ä¹ä¸ªç‚¹çš„åˆ›å»ºåŠæ˜¾ç¤º</h4><p>åœ¨åˆ›å»º9ä¸ªç‚¹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ¥è®¡ç®—ä¸€ä¸‹å¿…è¦çš„å‚æ•°ï¼Œç”±äºæˆ‘ä»¬å¾…ä¼šä¼šå¯¹åˆ›å»ºå¥½çš„ç‚¹è¿›è¡Œå¸ƒå±€ï¼Œå› æ­¤ä¼šé‡å¤ç”¨åˆ°ä¸¤ä¸ªç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆå°†å®ƒè®¡ç®—å‡ºæ¥å¹¶å£°æ˜æˆå…¨å±€å˜é‡ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//å·²æµ‹é‡çˆ¶å®¹å™¨çš„å®½é«˜</span><br><span class="line">//ç”±äºçˆ¶å®¹å™¨çš„å®½é«˜åœ¨è¿™ä¸ªæ—¶å€™æ‰ä¼šè¢«æµ‹é‡å‡ºæ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬spaceåœ¨è¿™é‡Œè®¡ç®—</span><br><span class="line">override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) &#123;</span><br><span class="line">    //è®¡ç®—ä¸¤ä¸ªç‚¹ä¹‹é—´çš„é—´è·</span><br><span class="line">    space = (width - 3 * dotSize) / 2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ˜ç™½åœ¨æ‰‹æŒ‡æ‹–åŠ¨æˆ–ç‚¹å‡»çš„è¿‡ç¨‹ä¸­éœ€è¦å°†ç¬¦åˆæ¡ä»¶çš„ç‚¹å’Œçº¿æ¡æ˜¾ç¤ºå‡ºæ¥ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•èƒ½åšåˆ°å‘¢ï¼Ÿæ€ä¹ˆæ‰èƒ½è®©ä»£ç æ˜ç™½æˆ‘ä»¬çš„æ„å›¾å‘¢ï¼Ÿ</p><p>è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥å¼•å…¥ <code>tag</code> å€¼ï¼Œå°†æ¯ä¸ªç‚¹çš„ <code>tag</code> å€¼ä»¥æ­¤è®¾ç½®æˆ <code>1..9</code> ï¼Œæ¥ç€å°±å°†ä¸¤ç‚¹ä¹‹é—´çš„çº¿æ®µç”¨è¿™ä¸¤ä¸ªç‚¹çš„ <code>tag</code> æ‹¼æ¥èµ·æ¥ï¼Œæˆä¸ºè¿™æ¡çº¿æ®µçš„ <code>tag</code> å€¼ï¼Œæ¯”å¦‚ç¬¬ä¸€æ¡æ¨ªçº¿å°±æ˜¯ <code>12</code> ï¼Œç„¶åå°†è¿™äº› <code>tag</code> å­˜åœ¨ä¸€ä¸ªé›†åˆä¸­ã€‚</p><p>è¿™æ ·å½“æˆ‘ä»¬æ‰‹æŒ‡åœ¨å±å¹•ä¸Šæ»‘åŠ¨çš„æ—¶å€™ï¼Œå°±å¯ä»¥ç®—å‡ºæ‰‹æŒ‡ç»è¿‡ä¸¤ç‚¹çš„ <code>tag</code> å€¼ï¼Œè¿›è€Œæ¨å‡ºä¸¤ç‚¹é—´çš„çº¿æ®µçš„ <code>tag</code> å€¼ï¼Œæœ€ååˆ¤æ–­è¿™ä¸ª <code>tag</code> å€¼æ˜¯å¦å­˜åœ¨ï¼Œè‹¥å­˜åœ¨åˆ™æ˜¾ç¤º <code>tag</code> ç›¸å¯¹åº”çš„çº¿æ®µã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">//è¿™ä¸ªæ–¹æ³•ç”¨æ¥åˆ›å»º9ä¸ªç‚¹</span><br><span class="line">private fun initNineDot() &#123;</span><br><span class="line">    for (i in 1..9) &#123;</span><br><span class="line">        ImageView(context).apply &#123;</span><br><span class="line">            //ç»™æ¯å¼ å›¾ç‰‡è®¾ç½®æœ€åˆæ˜¾ç¤ºçš„å›¾ç‰‡</span><br><span class="line">            setImageResource(R.drawable.dot_normal)</span><br><span class="line">            //è®¾ç½®æ¯ä¸ªç‚¹çš„ tag å€¼</span><br><span class="line">            tag = &quot;$i&quot;</span><br><span class="line">            //å°†æ¯ä¸ª ImageView åŠ åˆ°å®¹å™¨ä¸­å»</span><br><span class="line">            addView(this)</span><br><span class="line">            //æ”¶é›†å·²ç»åˆ›å»ºå¥½çš„ç‚¹</span><br><span class="line">            dotViews.add(this)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//è¿™ä¸ªæ–¹æ³•ç”¨æ¥æŒ‡å®šè¿™9ä¸ªç‚¹å¦‚ä½•å¸ƒå±€å’Œæ˜¾ç¤º</span><br><span class="line">private fun layoutNineDot() &#123;</span><br><span class="line">    for (row in 0..2) &#123;</span><br><span class="line">        for (column in 0..2) &#123;</span><br><span class="line">            //æŒ‡å®šæ¯ä¸ªå›¾ç‰‡çš„ å·¦ ä¸Š å³ ä¸‹ å„ä¸ªä½ç½®</span><br><span class="line">            val left = column * (dotSize + space)</span><br><span class="line">            val top = row * (dotSize + space)</span><br><span class="line">            val right = left + dotSize</span><br><span class="line">            val bottom = top + dotSize</span><br><span class="line">            /**</span><br><span class="line">            *   æ¯ä¸ªè§†å›¾æ·»åŠ åˆ°å®¹å™¨ä¹‹åï¼Œåä¸€ä¸ªè§†å›¾ä¼šé‡å åœ¨å‰ä¸€ä¸ªè§†å›¾ä¸Š</span><br><span class="line">            *   ç¬¬ä¸€ä¸ªè¢«æ·»åŠ ä¸Šå»çš„ç´¢å¼•æ˜¯0ï¼Œç¬¬äºŒä¸ªå°±æ˜¯1...</span><br><span class="line">            *   å› æ­¤å¯ä»¥ç”¨ç´¢å¼•æ¥æ‹¿åˆ°æ¯ä¸ªè§†å›¾ï¼Œå¹¶å°†å…¶æ‘†æ”¾åœ¨åˆé€‚çš„ä½ç½®</span><br><span class="line">            *   ç”¨ getChildAt(index) æ¥å¾—åˆ°è§†å›¾</span><br><span class="line">            */</span><br><span class="line">            val index = row * 3 + column</span><br><span class="line">            val dotView = getChildAt(index)</span><br><span class="line">            //å°†è¿™ä¸ªå­æ§ä»¶è¿›è¡Œå¸ƒå±€ï¼Œå‘Šè¯‰å®ƒå› è¯¥åœ¨çˆ¶å®¹å™¨ä¸­å¦‚ä½•æ˜¾ç¤º</span><br><span class="line">            dotView.layout(left, top, right, bottom)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="å…­æ¡æ¨ªçº¿çš„åˆ›å»ºåŠæ˜¾ç¤º"><a href="#å…­æ¡æ¨ªçº¿çš„åˆ›å»ºåŠæ˜¾ç¤º" class="headerlink" title="å…­æ¡æ¨ªçº¿çš„åˆ›å»ºåŠæ˜¾ç¤º"></a>å…­æ¡æ¨ªçº¿çš„åˆ›å»ºåŠæ˜¾ç¤º</h4><p>ç”±äºå…­æ¡æ¨ªçº¿å’Œä¸Šé¢ä¹ä¸ªç‚¹çš„åˆ›å»ºå’Œæ˜¾ç¤ºå¤§åŒå°å¼‚ï¼Œè¿™é‡Œå°±çœç•¥äº†ä¸€äº›æ³¨é‡Šï¼Œå…¶å®é“ç†éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè®¡ç®— <code>tag</code> å€¼ï¼Œè®¡ç®—å¯¹åº” <code>view</code> çš„ <code>index</code> å€¼ï¼Œè®¡ç®— <code>left</code> <code>top</code> <code>right</code> <code>bottom</code> å¹¶è¿›è¡Œå¯¹åº”çš„å¸ƒå±€ï¼Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">private fun initHorizontalLine() &#123;</span><br><span class="line">    /**</span><br><span class="line">    *   è¿™æ˜¯å…­æ¡æ¨ªçº¿å¯¹åº”çš„ tag å€¼</span><br><span class="line">    *   12 23</span><br><span class="line">    *   45 56</span><br><span class="line">    *   78 89</span><br><span class="line">    */</span><br><span class="line">    var tag = 0</span><br><span class="line">    for (i in 0..5) &#123;</span><br><span class="line">        ImageView(context).apply &#123;</span><br><span class="line">            setImageResource(R.drawable.line_horizontal)</span><br><span class="line">            if (i == 0) &#123;</span><br><span class="line">                tag = 12</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                tag += i % 2 * 11 + (i + 1) % 2 * 22</span><br><span class="line">            &#125;</span><br><span class="line">            this.tag = tag</span><br><span class="line">            Log.d(TAG, &quot;tag: $tag&quot;)</span><br><span class="line">            Log.d(TAG, &quot;initLandscapeLine: &quot;)</span><br><span class="line">            addView(this)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private fun layoutHorizontalLine() &#123;</span><br><span class="line">    for (row in 0..2) &#123;</span><br><span class="line">        for (column in 0..1) &#123;</span><br><span class="line">            val left = dotSize + column * (dotSize + space)</span><br><span class="line">            val top = dotSize / 2 + row * lineSize</span><br><span class="line">            val right = left + space</span><br><span class="line">            val bottom = top + dp2px(2)</span><br><span class="line"></span><br><span class="line">            //æ‰¾åˆ°è¿™æ ¹çº¿åœ¨çˆ¶å®¹å™¨ä¸­çš„ç´¢å¼•</span><br><span class="line">            val index = 9 + row * 2 + column</span><br><span class="line">            val lineView = getChildAt(index)</span><br><span class="line">            lineView.layout(left, top, right, bottom)</span><br><span class="line">            lineView.visibility = INVISIBLE</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å…­æ¡ç«–çº¿çš„åˆ›å»ºä¸æ˜¾ç¤º"><a href="#å…­æ¡ç«–çº¿çš„åˆ›å»ºä¸æ˜¾ç¤º" class="headerlink" title="å…­æ¡ç«–çº¿çš„åˆ›å»ºä¸æ˜¾ç¤º"></a>å…­æ¡ç«–çº¿çš„åˆ›å»ºä¸æ˜¾ç¤º</h4><p>è¿™å…­æ¡ç«–çº¿å’Œä¸Šé¢çš„æ°´å¹³çº¿åˆ›å»ºæ²¡æœ‰ä»€ä¹ˆå·®å¼‚ï¼Œå› æ­¤ä¸‹é¢ç›´æ¥ç»™å‡ºä»£ç ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">//åˆ›å»ºå…­æ¡ç«–çº¿</span><br><span class="line">private fun initVerticalLine() &#123;</span><br><span class="line">    //14 25 36</span><br><span class="line">    //47 58 69</span><br><span class="line">    var tag = 0</span><br><span class="line">    for (i in 0..5) &#123;</span><br><span class="line">        ImageView(context).apply &#123;</span><br><span class="line">            setImageResource(R.drawable.line_vertical)</span><br><span class="line">            if (i == 0) &#123;</span><br><span class="line">                tag = 14</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                tag += 11</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            this.tag = tag</span><br><span class="line">            addView(this)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//å¯¹è¿™å…­æ¡ç«–çº¿è¿›è¡Œå¸ƒå±€</span><br><span class="line">private fun layoutVerticalLine() &#123;</span><br><span class="line">    for (row in 0..1) &#123;</span><br><span class="line">        for (column in 0..2) &#123;</span><br><span class="line">            val left = dotSize / 2 + column * (dotSize + space)</span><br><span class="line">            val top = dotSize + row * (dotSize + space)</span><br><span class="line">            val right = left + dp2px(2)</span><br><span class="line">            val bottom = top + space</span><br><span class="line"></span><br><span class="line">            //æ‰¾åˆ°è¿™æ ¹çº¿åœ¨çˆ¶å®¹å™¨ä¸­çš„ç´¢å¼•</span><br><span class="line">            val index = 15 + row * 3 + column</span><br><span class="line">            val lineView = getChildAt(index)</span><br><span class="line">            lineView.layout(left, top, right, bottom)</span><br><span class="line">            lineView.visibility = INVISIBLE</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4æ¡å‘å³å€¾æ–œçš„ç›´çº¿"><a href="#4æ¡å‘å³å€¾æ–œçš„ç›´çº¿" class="headerlink" title="4æ¡å‘å³å€¾æ–œçš„ç›´çº¿"></a>4æ¡å‘å³å€¾æ–œçš„ç›´çº¿</h4><p>ä¸ŠåŒï¼Œåªä¸è¿‡è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ç”±äºå‡ æ¡çº¿éƒ½æ˜¯å¯¹è§’çº¿ï¼Œè€Œæˆ‘ä»¬çš„ç‚¹éƒ½æ˜¯åœ†ç‚¹ï¼Œå› æ­¤è€ƒè™‘çº¿æ¡<code>left</code> <code>top</code> å€¼çš„æ—¶å€™éœ€è¦å¼•å…¥æ ¹å·ï¼Œè¿™é‡Œè™½ç„¶è®¡ç®—ä¸å¤æ‚ï¼Œä½†æ˜¯é€šè¿‡ä»£ç å†™å‡ºæ¥è¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦çš„ï¼Œéœ€è¦æˆ‘ä»¬ä»”ç»†æ•²æ•²ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">//åˆ›å»ºå››æ¡å‘å³å€¾æ–œçš„ç›´çº¿</span><br><span class="line">private fun initSlashLine() &#123;</span><br><span class="line">    //15 26</span><br><span class="line">    //48 59</span><br><span class="line">    var tag = 0</span><br><span class="line">    for (i in 0..3) &#123;</span><br><span class="line">        ImageView(context).apply &#123;</span><br><span class="line">            setImageResource(R.drawable.line_right)</span><br><span class="line">            if (i == 0) &#123;</span><br><span class="line">                tag = 15</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                tag += (i % 2) * 11 + (i + 1) % 2 * 22</span><br><span class="line">            &#125;</span><br><span class="line">            this.tag = tag</span><br><span class="line">            Log.d(TAG, &quot;initSlashLine: tag = $tag&quot;)</span><br><span class="line">            addView(this)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//å¯¹è¿™å››æ¡ç›´çº¿è¿›è¡Œå¸ƒå±€</span><br><span class="line">private fun layoutSlashLine() &#123;</span><br><span class="line">    for (row in 0..1) &#123;</span><br><span class="line">        for (column in 0..1) &#123;</span><br><span class="line">            val left = dotSize / 2 + sqrt(2.0) / 4 * dotSize + column * (dotSize + space)</span><br><span class="line">            val top = dotSize / 2 + sqrt(2.0) * dotSize / 4 + row * (dotSize + space)</span><br><span class="line">            val right = left + space + (dotSize / 2 - sqrt(2.0) * dotSize.toDouble() / 4) * 2</span><br><span class="line">            val bottom = top + space + (dotSize / 2 - sqrt(2.0) * dotSize.toDouble() / 4) * 2</span><br><span class="line"></span><br><span class="line">            //æ‰¾åˆ°è¿™æ ¹çº¿åœ¨çˆ¶å®¹å™¨ä¸­çš„ç´¢å¼•</span><br><span class="line">            val index = 21 + row * 2 + column</span><br><span class="line">            val lineView = getChildAt(index)</span><br><span class="line">            lineView.layout(left.toInt(), top.toInt(), right.toInt(), bottom.toInt())</span><br><span class="line">            lineView.visibility = INVISIBLE</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4æ¡å‘å·¦å€¾æ–œçš„ç›´çº¿"><a href="#4æ¡å‘å·¦å€¾æ–œçš„ç›´çº¿" class="headerlink" title="4æ¡å‘å·¦å€¾æ–œçš„ç›´çº¿"></a>4æ¡å‘å·¦å€¾æ–œçš„ç›´çº¿</h4><p>ä¸ŠåŒï¼Œè¿™é‡Œç›´æ¥ç»™å‡ºä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">private fun initLLine() &#123;</span><br><span class="line">    //24 35</span><br><span class="line">    //57 68</span><br><span class="line">    var tag = 0</span><br><span class="line">    for (i in 0..3) &#123;</span><br><span class="line">        ImageView(context).apply &#123;</span><br><span class="line">            setImageResource(R.drawable.line_left)</span><br><span class="line">            if (i == 0) &#123;</span><br><span class="line">                tag = 24</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                tag += (i % 2) * 11 + (i + 1) % 2 * 22</span><br><span class="line">            &#125;</span><br><span class="line">            this.tag = tag</span><br><span class="line">            addView(this)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private fun layoutLLine() &#123;</span><br><span class="line">    for (row in 0..1) &#123;</span><br><span class="line">        for (column in 0..1) &#123;</span><br><span class="line">            val left = dotSize / 2 + sqrt(2.0) / 4 * dotSize + column * (dotSize + space)</span><br><span class="line">            val top = dotSize / 2 + sqrt(2.0) * dotSize / 4 + row * (dotSize + space)</span><br><span class="line">            val right = left + space + (dotSize / 2 - sqrt(2.0) * dotSize.toDouble() / 4) * 2</span><br><span class="line">            val bottom = top + space + (dotSize / 2 - sqrt(2.0) * dotSize.toDouble() / 4) * 2</span><br><span class="line"></span><br><span class="line">            //æ‰¾åˆ°è¿™æ ¹çº¿åœ¨çˆ¶å®¹å™¨ä¸­çš„ç´¢å¼•</span><br><span class="line">            val index = 25 + row * 2 + column</span><br><span class="line">            val lineView = getChildAt(index)</span><br><span class="line">            lineView.layout(left.toInt(), top.toInt(), right.toInt(), bottom.toInt())</span><br><span class="line">            lineView.visibility = INVISIBLE</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç•Œé¢çš„é€»è¾‘"><a href="#ç•Œé¢çš„é€»è¾‘" class="headerlink" title="ç•Œé¢çš„é€»è¾‘"></a>ç•Œé¢çš„é€»è¾‘</h3><p>ç°åœ¨æˆ‘ä»¬æ¥æ€è€ƒä¸€ä¸‹è¿™ä¸ªç•Œé¢çš„é€»è¾‘ï¼Œå½“æˆ‘ä»¬æ‰‹æŒ‡ç‚¹å‡»æˆ–è€…æ»‘åŠ¨æˆ–è€…æŠ¬èµ·æ—¶ï¼Œè¿™ä¸ª <code>view</code> åº”è¯¥ä½œå‡ºæ€æ ·çš„å›åº”ï¼Œåº”è¯¥æ˜¾ç¤ºä»€ä¹ˆæ ·çš„å†…å®¹ï¼Œæœ€åè¿˜æœ‰æ€ä¹ˆå°†å¯†ç ä¼ é€’ç»™å¤–éƒ¨å»ã€‚</p><h4 id="è§£é”å›¾æ¡ˆçš„å®ç°"><a href="#è§£é”å›¾æ¡ˆçš„å®ç°" class="headerlink" title="è§£é”å›¾æ¡ˆçš„å®ç°"></a>è§£é”å›¾æ¡ˆçš„å®ç°</h4><p>æˆ‘ä»¬å•ç‹¬ç”¨ä¸€ä¸ªæ–¹æ³• <code>dealWithTouchPoint()</code>ï¼Œå¤„ç†æ‰‹æŒ‡æŒ‰ä¸‹æˆ–æ»‘åŠ¨åè§†å›¾ç›¸åº”çš„é€»è¾‘ã€‚é€šè¿‡ç»™æ¯ä¸€ä¸ªå°ç‚¹åŠ ä¸Š <code>çŸ©å½¢åŒºåŸŸ(Rect)</code>ï¼Œç„¶åä½¿ç”¨é‡Œé¢çš„æ–¹æ³• <code>contains()</code> æ¥åˆ¤æ–­å½“å‰è§¦æ‘¸ä½ç½®æ˜¯å¦åœ¨è¿™ä¸ªå°ç‚¹ä¸Šã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">private fun dealWithTouchPoint(x: Float, y: Float) &#123;</span><br><span class="line">    dotViews.forEach &#123;</span><br><span class="line">        //ç»™æ¯ä¸ªç‚¹åŠ ä¸Šä¸€ä¸ªçŸ©å½¢åŒºåŸŸ</span><br><span class="line">        val rect = RectF(</span><br><span class="line">            it.x,</span><br><span class="line">            it.y,</span><br><span class="line">            it.x + it.width,</span><br><span class="line">            it.y + it.height</span><br><span class="line">        )</span><br><span class="line">        if (rect.contains(x, y)) &#123;</span><br><span class="line">            //åˆ¤æ–­æ˜¯ä¸æ˜¯ç¬¬ä¸€ä¸ªç‚¹</span><br><span class="line">            if (lastSelectedDotView == null) &#123;</span><br><span class="line">                //ç›´æ¥ç‚¹äº®</span><br><span class="line">                changeSelectedDotViewStatus(it, ViewStatus.SELECTED)</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                val lastTag = (lastSelectedDotView!!.tag as String).toInt()</span><br><span class="line">                val currentTag = (it.tag as String).toInt()</span><br><span class="line">                //è·å–ä¸¤ç‚¹é—´çº¿çš„tag</span><br><span class="line">                val lineTag = if (lastTag &lt; currentTag)</span><br><span class="line">                    lastTag * 10 + currentTag</span><br><span class="line">                else</span><br><span class="line">                    currentTag * 10 + lastTag</span><br><span class="line">                //åˆ¤æ–­tagsæ•°ç»„ä¸­æ˜¯å¦æœ‰è¿™ä¸ªå€¼</span><br><span class="line">                if (allLineTags.contains(lineTag)) &#123;</span><br><span class="line">                    //å­˜åœ¨è¿™æ¡çº¿ï¼Œä½¿ç”¨tagå°†å®ƒæ‹¿åˆ°</span><br><span class="line">                    val lineView = findViewWithTag&lt;ImageView&gt;(lineTag)</span><br><span class="line">                    if (!allSelectedDotViews.contains(it)) &#123;</span><br><span class="line">                        //ç‚¹äº®ç‚¹</span><br><span class="line">                        changeSelectedDotViewStatus(it, ViewStatus.SELECTED)</span><br><span class="line">                        if (!allSelectedLineViews.contains(lineView)) &#123;</span><br><span class="line">                            //ç‚¹äº®çº¿</span><br><span class="line">                            changeSelectedLineStatus(lineView, ViewStatus.SELECTED)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å‘å¤–éƒ¨ä¼ é€’å¯†ç "><a href="#å‘å¤–éƒ¨ä¼ é€’å¯†ç " class="headerlink" title="å‘å¤–éƒ¨ä¼ é€’å¯†ç "></a>å‘å¤–éƒ¨ä¼ é€’å¯†ç </h4><p>æˆ‘ä»¬ä½¿ç”¨é«˜é˜¶å‡½æ•°(callback)æ¥å®ç°å¤–éƒ¨ä¼ å€¼çš„åŠŸèƒ½ã€‚é€šè¿‡å¤–éƒ¨æ¥æ¥æ”¶è¿™ä¸ªå¯†ç ï¼Œå†ä½œç›¸åº”çš„é€»è¾‘ï¼Œæ¯”å¦‚åˆ¤æ–­å¯†ç æ˜¯å¦æ­£ç¡®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var callback: ((String) -&gt; Unit)? = null</span><br><span class="line">private fun dealWithResult() &#123;</span><br><span class="line">    callback?.let &#123;</span><br><span class="line">        it(passwordBuilder.toString())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å½“å‰è¿™ä¸ª <code>view</code> å¤ç”¨æ€§è¾ƒé«˜ï¼Œå®Œæˆäº†ä¸€å¥—å¯†ç è§†å›¾è¯¥æœ‰çš„åŠŸèƒ½ï¼Œä½†ä¸è¶³çš„æ˜¯çº¿æ¡æ²¡æœ‰é€šè¿‡ç»˜åˆ¶å®Œæˆï¼Œè€Œæ˜¯ä¾é å›¾ç‰‡ã€‚</p><p>è¿™é‡Œæä¾›çš„ä»…ä¸ºéƒ¨åˆ†æ ¸å¿ƒä»£ç ï¼Œå®Œæ•´ä»£ç è¯·è§ï¼š<a href="https://github.com/cofbro/android-unlockView">https://github.com/cofbro/android-unlockView</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Demo </tag>
            
            <tag> Kotlin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Androidç‰ˆè®¡ç®—å™¨</title>
      <link href="/2022/07/12/HomemadeCalculator/"/>
      <url>/2022/07/12/HomemadeCalculator/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è®¡ç®—å™¨æ˜¯æ¯ä¸ªæ‰‹æœºè‡ªå¸¦çš„å¿…å¤‡åŠŸèƒ½ï¼Œç”Ÿæ´»ä¸­å¸¸ç”¨æ¥è®¡ç®—æ¯”è¾ƒå¤§å‹å¤æ‚çš„æ•°æ®ï¼Œä»Šå¤©æˆ‘å‡†å¤‡è‡ªå·±å†™ä¸€ä¸ªè®¡ç®—å™¨APPå‡ºæ¥ï¼Œä»¥å·©å›ºAndroidå­¦ä¹ ã€‚</p><hr><h2 id="åˆ†æä¸è®¾è®¡"><a href="#åˆ†æä¸è®¾è®¡" class="headerlink" title="åˆ†æä¸è®¾è®¡"></a>åˆ†æä¸è®¾è®¡</h2><p>å¯¹äºæ•´ä¸ªè®¡ç®—å™¨è½¯ä»¶çš„ç¼–å†™ï¼Œæˆ‘ä»¬åˆ†ä¸ºä¸¤å¤§éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯UIè®¾è®¡ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯é€»è¾‘å®ç°ã€‚</p><h3 id="UIè®¾è®¡"><a href="#UIè®¾è®¡" class="headerlink" title="UIè®¾è®¡"></a>UIè®¾è®¡</h3><p>é€šå¸¸ç¨‹åºçŒ¿ä¸éœ€è¦æ‡‚å¤ªå¤šçš„UIè®¾è®¡ï¼Œä½†æ˜¯ç®€å•çš„UIè®¾è®¡æˆ‘ä»¬è¿˜æ˜¯éœ€è¦å­¦ä¼šã€‚è®¡ç®—å™¨æˆ‘ä»¬è§å¾—å¤šäº†ï¼Œæœ€å¸¸è§çš„å°±æ˜¯é¡¶éƒ¨ä¸€ä¸ªæ–¹å½¢çš„æ˜¾ç¤ºå±ï¼Œæ¥ç€ä¸‹é¢å°±æ˜¯10å¤šä¸ªæŒ‰é”®ï¼Œè¿™äº›æŒ‰é”®å¤§å¤šæ˜¯åœ†å½¢çš„ï¼Œæœ‰äº†è¿™äº›å¸¸è¯†ï¼Œæˆ‘ä»¬å€’ä¸å¦¨ç”»ä¸ªå›¾ã€‚</p><p><img src="https://s1.328888.xyz/2022/07/12/Lk8qi.png"></p><p>è¿™å°±æ˜¯æ•´ä¸ªè®¡ç®—å™¨å¤§æ¦‚çš„æ ·å­ã€‚</p><h4 id="ç¡®å®šå¸ƒå±€"><a href="#ç¡®å®šå¸ƒå±€" class="headerlink" title="ç¡®å®šå¸ƒå±€"></a>ç¡®å®šå¸ƒå±€</h4><p>é‚£ä¹ˆæ¥ä¸‹æ¥å°±æ˜¯çœŸæ­£å®ç°UIç•Œé¢çš„æ—¶å€™äº†ã€‚<br>ä¸ªäººè§‰å¾—ç°åœ¨constraintLayoutï¼ˆçº¦æŸå¸ƒå±€ï¼‰æœ€å¥½ç”¨ï¼Œå› ä¸ºåŠ¨åŠ¨æ‰‹æŒ‡å°±èƒ½å®æ—¶ä¸ºä½ å±•ç°UIç•Œé¢ï¼Œç‰¹åˆ«ç›´è§‚ä¸æ–¹ä¾¿ï¼Œå› æ­¤æ ¹æ ‡ç­¾å°±æ˜¯constraintlayoutäº†ã€‚</p><p>æ•´ä¸ªå¸ƒå±€æ˜¯è¿™æ ·çš„</p><p><img src="https://s1.328888.xyz/2022/07/13/LoxuF.png"></p><h4 id="ç¡®å®šè§†å›¾ç§ç±»å’Œæ•°ç›®"><a href="#ç¡®å®šè§†å›¾ç§ç±»å’Œæ•°ç›®" class="headerlink" title="ç¡®å®šè§†å›¾ç§ç±»å’Œæ•°ç›®"></a>ç¡®å®šè§†å›¾ç§ç±»å’Œæ•°ç›®</h4><p>æ˜¾ç¤ºå±å°±æ˜¯ä¸€ä¸ªTextViewï¼Œè€Œå…¶ä½™çš„æŒ‰é”®éƒ½æ˜¯Buttonï¼Œæ€»çš„æ¥è¯´å°±æ˜¯éœ€è¦16ä¸ªButtonå’Œ3ä¸ªiconå›¾æ ‡ä»¥åŠä¸€ä¸ªTextViewï¼Œä¸ºæ¯ä¸ªButtonå’Œiconä»¥åŠTextViewæ·»åŠ ç›‘å¬äº‹ä»¶ï¼Œå®ç°ç›¸åº”çš„é€»è¾‘å³å¯ã€‚</p><h4 id="å®ç°åœ†å½¢Button"><a href="#å®ç°åœ†å½¢Button" class="headerlink" title="å®ç°åœ†å½¢Button"></a>å®ç°åœ†å½¢Button</h4><p>ä¸ºäº†èƒ½æ”¹å˜Buttonçš„é¢œè‰²ä»¥åŠæ ·å¼ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸¤ä¸ª <code>theme</code> ä¸­å°† style ä¸­çš„ parent æ”¹ä¸º</p><p><code>&lt;style name=&quot;Theme.xxx&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar.Bridge&quot;&gt;&lt;/style&gt;</code></p><p>åœ¨ <code>res -&gt; drawable</code> æ–‡ä»¶å¤¹ä¸­æ–°å»ºä¸€ä¸ªxmlæ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œå³å¯å®ç°åœ†å½¢Button</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    android:shape=&quot;oval&quot;&gt;</span><br><span class="line">    &lt;corners android:radius=&quot;25dp&quot; /&gt;   &lt;!-- è®¾ç½®åœ†è§’å¼§åº¦ --&gt;</span><br><span class="line">    &lt;solid android:color=&quot;#fafafa&quot; /&gt;   &lt;!-- è®¾ç½®èƒŒæ™¯é¢œè‰² --&gt;</span><br><span class="line">    &lt;size</span><br><span class="line">        android:width=&quot;40dp&quot;</span><br><span class="line">        android:height=&quot;40dp&quot; /&gt;        &lt;!-- è®¾ç½®å¤§å° --&gt;</span><br><span class="line">    &lt;stroke</span><br><span class="line">        android:width=&quot;0dp&quot;</span><br><span class="line">        android:color=&quot;#fff&quot; /&gt;         &lt;!-- è®¾ç½®æè¾¹å¤§å°ä¸é¢œè‰² --&gt;</span><br><span class="line">&lt;/shape&gt;</span><br></pre></td></tr></table></figure><h4 id="è®¾ç½®æ¸å˜è‰²"><a href="#è®¾ç½®æ¸å˜è‰²" class="headerlink" title="è®¾ç½®æ¸å˜è‰²"></a>è®¾ç½®æ¸å˜è‰²</h4><p>åŒæ ·ä¹Ÿåœ¨ <code>res -&gt; drawable</code> æ–‡ä»¶å¤¹ä¸­æ–°å»ºxmlæ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</span><br><span class="line">    &lt;gradient</span><br><span class="line">        android:startColor=&quot;#74b981&quot;    &lt;!-- èµ·å§‹è‰²å½© --&gt;</span><br><span class="line">        android:endColor=&quot;#a1d47e&quot;      &lt;!-- ç»“æŸè‰²å½© --&gt;</span><br><span class="line">        android:angle=&quot;45&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">&lt;/shape&gt;</span><br></pre></td></tr></table></figure><h4 id="æ›´æ”¹å­—ä½“æ ·å¼"><a href="#æ›´æ”¹å­—ä½“æ ·å¼" class="headerlink" title="æ›´æ”¹å­—ä½“æ ·å¼"></a>æ›´æ”¹å­—ä½“æ ·å¼</h4><p>é¦–å…ˆä¸‹è½½ä¸€ä¸ªå­—ä½“å‹ç¼©åŒ…ï¼Œå°† <code>xxx.ttf</code> è§£å‹åˆ° <code>res -&gt; font</code> (å¦‚æœæ²¡æœ‰fontæ–‡ä»¶å¤¹å°±åˆ›å»ºä¸€ä¸ª)ï¼Œç„¶ååœ¨ <code>activity_main.xml</code> ä¸­ä½¿ç”¨å³å¯ï¼Œå¦‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button</span><br><span class="line">    ...</span><br><span class="line">    android:fontFamily=&quot;@font/myfont&quot;/&gt;</span><br></pre></td></tr></table></figure><h4 id="å¼•å…¥iconfontå›¾æ ‡"><a href="#å¼•å…¥iconfontå›¾æ ‡" class="headerlink" title="å¼•å…¥iconfontå›¾æ ‡"></a>å¼•å…¥iconfontå›¾æ ‡</h4><h5 id="åœ¨iconfontå®˜ç½‘ä¸‹è½½å¯¹åº”çš„å›¾æ ‡å¹¶åŠ åˆ°é¡¹ç›®ä¸­"><a href="#åœ¨iconfontå®˜ç½‘ä¸‹è½½å¯¹åº”çš„å›¾æ ‡å¹¶åŠ åˆ°é¡¹ç›®ä¸­" class="headerlink" title="åœ¨iconfontå®˜ç½‘ä¸‹è½½å¯¹åº”çš„å›¾æ ‡å¹¶åŠ åˆ°é¡¹ç›®ä¸­"></a>åœ¨iconfontå®˜ç½‘ä¸‹è½½å¯¹åº”çš„å›¾æ ‡å¹¶åŠ åˆ°é¡¹ç›®ä¸­</h5><p>è¿›å…¥<a href="https://www.iconfont.cn/">iconfontå®˜ç½‘</a>ï¼Œé€‰æ‹©åˆé€‚çš„å›¾æ ‡æ·»åŠ è‡³é¡¹ç›®ï¼Œç„¶åä¸‹è½½å‹ç¼©åŒ…åˆ°æœ¬åœ°ï¼Œæœ€åå°†æ•´ä¸ªè§£å‹åçš„æ–‡ä»¶åŠ åˆ°é¡¹ç›®ä¸­çš„ <code>app -&gt; src -&gt; main -&gt; assets</code>ä¸­ï¼ˆå¦‚æœæ²¡æœ‰assetsæ–‡ä»¶å°±æ–°å»ºä¸€ä¸ªï¼‰</p><h5 id="ç¼–å†™ä¸€ä¸ªå¸®åŠ©ç±»"><a href="#ç¼–å†™ä¸€ä¸ªå¸®åŠ©ç±»" class="headerlink" title="ç¼–å†™ä¸€ä¸ªå¸®åŠ©ç±»"></a>ç¼–å†™ä¸€ä¸ªå¸®åŠ©ç±»</h5><p>åœ¨å°† <code>iconfont</code> æ·»åŠ è‡³é¡¹ç›®ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€ä¸ªå¸®åŠ©ç±»æ‰èƒ½ä½¿å›¾æ ‡æ­£å¸¸åœ¨å±å¹•ä¸Šæ˜¾ç¤ºã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">package com.example.myapp;</span><br><span class="line"></span><br><span class="line">import android.content.Context;</span><br><span class="line">import android.graphics.Typeface;</span><br><span class="line">import android.view.View;</span><br><span class="line">import android.view.ViewGroup;</span><br><span class="line">import android.widget.TextView;</span><br><span class="line"></span><br><span class="line">public class FontManager &#123;</span><br><span class="line">    //æ ¹æ®åœ°å€ï¼Œæ‰¾åˆ°iconfontä¸­çš„iconfont.ttfæ–‡ä»¶</span><br><span class="line">    public static final String ROOT = &quot;iconfonts/&quot;,ICONFONTS = ROOT + &quot;iconfont.ttf&quot;;</span><br><span class="line"></span><br><span class="line">    public static Typeface getTypeface(Context context, String font) &#123;</span><br><span class="line">        return Typeface.createFromAsset(context.getAssets(), font);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //å›¾æ ‡ä¸€èˆ¬éƒ½æ˜¯åŒ…å«åœ¨ä¸€ä¸ªViewGroupä¸­ï¼Œæ¯”å¦‚constraintlayout</span><br><span class="line">    //æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªæ–¹æ³•ï¼Œéå†æŒ‡å®šxml parent å¹¶ä¸”é€’å½’çš„è¦†ç›–æ¯ä¸ªTextViewçš„å­—ä½“</span><br><span class="line">    public static void markAsIconContainer(View v, Typeface typeface) &#123;</span><br><span class="line">        if (v instanceof ViewGroup) &#123;</span><br><span class="line">            ViewGroup vg = (ViewGroup) v;</span><br><span class="line">            for (int i = 0; i &lt; vg.getChildCount(); i++) &#123;</span><br><span class="line">                View child = vg.getChildAt(i);</span><br><span class="line">                markAsIconContainer(child, typeface);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else if (v instanceof TextView) &#123;</span><br><span class="line">            ((TextView) v).setTypeface(typeface);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="åœ¨xmlæ–‡ä»¶ä¸­æ·»åŠ å­—æ®µ"><a href="#åœ¨xmlæ–‡ä»¶ä¸­æ·»åŠ å­—æ®µ" class="headerlink" title="åœ¨xmlæ–‡ä»¶ä¸­æ·»åŠ å­—æ®µ"></a>åœ¨xmlæ–‡ä»¶ä¸­æ·»åŠ å­—æ®µ</h5><p>åœ¨ <code>values -&gt; icons.xml</code>ï¼ˆå¦‚æœæ²¡æœ‰å°±åˆ›å»ºä¸€ä¸ªï¼‰ï¼Œå°†å¯¹åº”çš„iconfontå›¾æ ‡çš„Unicodeç¼–ç ç”¨å­—æ®µåå‚¨å­˜èµ·æ¥ï¼Œä»¥ä¾¿åœ¨ <code>activity_main.xml</code> ä¸­å¼•ç”¨ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;resources&gt;</span><br><span class="line">    &lt;string name=&quot;return0&quot;&gt;&amp;#xe63b;&lt;/string&gt;</span><br><span class="line">    &lt;string name=&quot;calender&quot;&gt;&amp;#xe8b4;&lt;/string&gt;</span><br><span class="line">    &lt;string name=&quot;record&quot;&gt;&amp;#xe600;&lt;/string&gt;</span><br><span class="line">&lt;/resources&gt;</span><br></pre></td></tr></table></figure><p>è€Œ <code>activity_main.xml</code> åº”è¯¥æ˜¯è¿™æ ·å­çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;TextView</span><br><span class="line">    // ...</span><br><span class="line">    android:text=&quot;@string/calender&quot; /&gt;</span><br></pre></td></tr></table></figure><h5 id="ä½¿ç”¨helpç±»æ˜¾ç¤ºå›¾æ ‡"><a href="#ä½¿ç”¨helpç±»æ˜¾ç¤ºå›¾æ ‡" class="headerlink" title="ä½¿ç”¨helpç±»æ˜¾ç¤ºå›¾æ ‡"></a>ä½¿ç”¨helpç±»æ˜¾ç¤ºå›¾æ ‡</h5><p>æ‰€æœ‰å‡†å¤‡å·¥ä½œéƒ½åšå®Œäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è°ƒç”¨helpç±»äº†,åœ¨ <code>MainActivity</code> ä¸­å†™å…¥å¦‚ä¸‹ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//helperå¸®åŠ©ç±», åŠ è½½iconfontsçš„å¿…è¦æ“ä½œ</span><br><span class="line">Typeface iconFont = FontManager.getTypeface(getApplicationContext(), FontManager.ICONFONTS);</span><br><span class="line">FontManager.markAsIconContainer(findViewById(R.id.icons_container), iconFont);</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°±èƒ½çœ‹åˆ°æ­£å¸¸çš„å›¾æ ‡äº†</p><p><img src="https://s1.328888.xyz/2022/07/13/Ls240.jpg"></p><h3 id="é€»è¾‘éƒ¨åˆ†å®ç°"><a href="#é€»è¾‘éƒ¨åˆ†å®ç°" class="headerlink" title="é€»è¾‘éƒ¨åˆ†å®ç°"></a>é€»è¾‘éƒ¨åˆ†å®ç°</h3><p>æˆ‘ä»¬å…ˆæ€»ä½“åˆ†æä¸€ä¸‹ï¼Œå¯¹äºè¿™ä¸ªè®¡ç®—å™¨ï¼Œæœ‰å¾ˆå¤šé‡å¤çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æœ‰11ä¸ªæ•°å­—é”®çš„åŠŸèƒ½éƒ½æå…¶ç›¸ä¼¼ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¸“é—¨å†™ä¸€ä¸ªæ–¹æ³•è¿›è¡Œå°è£…ï¼›è€Œå…¶ä½™çš„4ä¸ªè¿ç®—é”®ä¹Ÿæ˜¯ç±»ä¼¼çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å°è£…ä¸€ä¸ªæ–¹æ³•ç”¨äºå®ç° <code>+ - x Ã·</code> åŠŸèƒ½ï¼Œæœ€åå°±æ˜¯å½’é›¶é”®ä¸ <code>=</code> é”®ï¼Œåªéœ€è¦å•ç‹¬å†™ä¸¤ä¸ªæ–¹æ³•å°±å¥½äº†ã€‚å› æ­¤æˆ‘ä»¬é¦–å…ˆå†™è¿™5ä¸ªæ–¹æ³•ï¼ˆå…¶ä¸­è¿˜åŒ…æ‹¬æ˜¾ç¤ºå°æ•°ç‚¹åŠŸèƒ½çš„æ–¹æ³•ï¼‰ï¼Œåˆ†åˆ«æ˜¯ <code>bindNormalClickEvent</code> , <code>bindSpecialClickEvent</code> , <code>bindCalClickEvent</code> , <code>bindACClickEvent</code> ï¼Œ <code>bindGetResultEvent</code> ã€‚</p><h4 id="bindNormalClickEventæ–¹æ³•"><a href="#bindNormalClickEventæ–¹æ³•" class="headerlink" title="bindNormalClickEventæ–¹æ³•"></a>bindNormalClickEventæ–¹æ³•</h4><p>ä¸ºäº†èƒ½ä½¿ç»‘å®šè¿™ä¸ªåŠ¨ä½œçš„ <code>btn</code> å®Œæˆç›¸åº”æ•°å­—ï¼ˆç¬¦å·ï¼‰åœ¨å±å¹•ä¸Šçš„æ˜¾ç¤ºï¼Œæˆ‘ä»¬è®¾ç½® <code>num</code> æ¥ä¿å­˜è¿™ä¸ªç›¸åº”çš„æ•°å­—ï¼ˆç¬¦å·ï¼‰ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//inputæ˜¯stringBuilderç±»å‹ï¼Œä¿å­˜ç€ä»é”®ç›˜ä¸Šè¾“å…¥çš„å„ä¸ªæ•°å­—ï¼ˆç¬¦å·ï¼‰</span><br><span class="line">public void bindNormalClickEvent(Button btn, String num) &#123;</span><br><span class="line">        btn.setOnClickListener(view -&gt; &#123;</span><br><span class="line">            input.append(num);</span><br><span class="line">            mTextView.setText(input);</span><br><span class="line">            frequency++;    //è®°å½•æ•°å­—ï¼ˆç¬¦å·ï¼‰çš„ä¸ªæ•°</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="bindSpecialClickEventæ–¹æ³•"><a href="#bindSpecialClickEventæ–¹æ³•" class="headerlink" title="bindSpecialClickEventæ–¹æ³•"></a>bindSpecialClickEventæ–¹æ³•</h4><p>è¿™ä¸ªæ–¹æ³•å’Œ <code>bindNormalClickEvent</code> æ–¹æ³•å·®ä¸å¤šï¼Œåªæ˜¯è®°å½•æ˜¯å¦æœ‰å°æ•°ç‚¹ï¼Œæ–¹ä¾¿åé¢æ“ä½œè½¬æ¢æˆ <code>double</code> ç±»å‹çš„æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public void bindSpecialClickEvent(Button btn, String num) &#123;</span><br><span class="line">        btn.setOnClickListener(view -&gt; &#123;</span><br><span class="line">            //special é™å®šäº†ä¸€æ¬¡è®¡ç®—ä¸­åªèƒ½æŒ‰ä¸€æ¬¡ &#x27;.&#x27; é”®ï¼Œspecialåˆå§‹ä¸ºtrue</span><br><span class="line">            if (special) &#123;</span><br><span class="line">                input.append(num);</span><br><span class="line">                mTextView.setText(input);</span><br><span class="line">                frequency++;</span><br><span class="line">                special = false;</span><br><span class="line">                isDecimal = true; //æ•°æ®ä¸­æ˜¯å¦åŒ…å«å°æ•°ç‚¹</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="bindCalClickEvent"><a href="#bindCalClickEvent" class="headerlink" title="bindCalClickEvent"></a>bindCalClickEvent</h4><p>è¿™ä¸ªæ–¹æ³•ç”¨æ¥ç»‘å®š <code>+ - x Ã·</code> çš„æŒ‰é’®çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">public void bindCalClickEvent(Button btn, String num) &#123;</span><br><span class="line">    btn.setOnClickListener(view -&gt; &#123;</span><br><span class="line">        //isOnlySymbolè§„å®š è¿ç®—æŒ‰é’®ä¸€æ¬¡è¿ç®—ä¸­åªèƒ½ç‚¹å‡»ä¸€æ¬¡</span><br><span class="line">        if (isOnlySymbol)&#123;</span><br><span class="line">            symbol = num;</span><br><span class="line">            for (int i = 0; i &lt; frequency; i++) &#123;</span><br><span class="line">                //isDecimalæ¥åˆ¤å®šè¿ç®—æ•°ä¸­æ˜¯å¦æœ‰å°æ•°ç‚¹</span><br><span class="line">                if (isDecimal &amp;&amp; ((int) input.charAt(i) - 46) == 0) &#123;</span><br><span class="line">                    whereDecimal = frequency - i - 1;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            //å°†stringBuilderä¸­çš„å­—ç¬¦ä¸²æå–å‡ºæ¥è½¬åŒ–ä¸º double ç±»å‹çš„æ•°å­—</span><br><span class="line">            int temp = frequency;</span><br><span class="line">            for (int i = 0; i &lt; temp; i++) &#123;</span><br><span class="line">                if (isDecimal &amp;&amp; ((int) input.charAt(i) - 46) == 0) &#123;</span><br><span class="line">                    frequency++;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125;</span><br><span class="line">                firstNum += ((int) input.charAt(i) - 48) * Math.pow(10, frequency - 1 - i);</span><br><span class="line">            &#125;</span><br><span class="line">            //whereDecimal æ ‡è®°äº†å°æ•°ç‚¹çš„ä½ç½®ï¼Œä¸ºè½¬ä¸ºæˆdoubleå‹åšå‡†å¤‡</span><br><span class="line">            if (isDecimal) whereDecimal++;</span><br><span class="line">            firstNum /= Math.pow(10, whereDecimal);</span><br><span class="line">            hasSymbol = true;</span><br><span class="line">            if (input.length() != 0) &#123;</span><br><span class="line">                input.delete(0, temp);</span><br><span class="line">                input.append(num);</span><br><span class="line">                mTextView.setText(input);</span><br><span class="line">                //è¾“å…¥å®Œç¬¬ä¸€ä¸ªæ•°å°†è¿™äº›å±æ€§é‡ç½®ï¼Œä»¥ä¾¿ç¬¬äºŒä¸ªæ•°çš„è¾“å…¥</span><br><span class="line">                frequency = 0;</span><br><span class="line">                isDecimal = false;</span><br><span class="line">                whereDecimal = 0;</span><br><span class="line">                special = true;</span><br><span class="line">            &#125;</span><br><span class="line">            //ç¡®ä¿è¿ç®—æŒ‰é’®ä¸€æ¬¡è¿ç®—ä¸­åªèƒ½ç‚¹å‡»ä¸€æ¬¡</span><br><span class="line">            isOnlySymbol = false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="bindACClickEventæ–¹æ³•"><a href="#bindACClickEventæ–¹æ³•" class="headerlink" title="bindACClickEventæ–¹æ³•"></a>bindACClickEventæ–¹æ³•</h4><p>è¿™æ˜¯è®¡ç®—å™¨çš„ <code>AC</code> å½’é›¶é”®åŠŸèƒ½çš„å®ç°ï¼ŒåŸç†æ˜¯å°†stringBuilderä¸­çš„å­—ç¬¦æ¸…ç©ºï¼Œå°†æ‰€æœ‰å±æ€§å…¨éƒ¨åˆå§‹åŒ–ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public void bindACClickEvent(Button btn) &#123;</span><br><span class="line">    btn.setOnClickListener(view -&gt; &#123;</span><br><span class="line">        input.setLength(0);</span><br><span class="line">        firstNum = 0;</span><br><span class="line">        secondNum = 0;</span><br><span class="line">        mTextView.setText(input);</span><br><span class="line">        special = true;</span><br><span class="line">        frequency = 0;</span><br><span class="line">        isDecimal = false;</span><br><span class="line">        hasSymbol = false;</span><br><span class="line">        hasFirstNum = false;</span><br><span class="line">        isOnlySymbol = true;</span><br><span class="line">        whereDecimal = 0;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="bindGetResultEventæ–¹æ³•"><a href="#bindGetResultEventæ–¹æ³•" class="headerlink" title="bindGetResultEventæ–¹æ³•"></a>bindGetResultEventæ–¹æ³•</h4><p>è¿™ä¸ªæ–¹æ³•åˆå’Œ bindCalClickEvent å¾ˆç›¸ä¼¼ï¼Œåªæ˜¯æœ€åå¤šäº†ä¸€æ®µè¿ç®—ç¬¦åˆ¤å®šçš„ä»£ç ï¼Œåˆ†åˆ«å¯¹åº”ç€ <code>+ - x Ã·</code> ä¸åŒçš„æ“ä½œã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">public void bindGetResultEvent(Button button) &#123;</span><br><span class="line">    button.setOnClickListener(view -&gt; &#123;</span><br><span class="line">        if (hasSymbol) &#123;</span><br><span class="line">            double result;</span><br><span class="line">            input.delete(0, 1);</span><br><span class="line">            for (int i = 0; i &lt; frequency; i++) &#123;</span><br><span class="line">                if (isDecimal &amp;&amp; ((int) input.charAt(i) - 46) == 0) &#123;</span><br><span class="line">                    whereDecimal = frequency - i - 1;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            int temp2 = frequency;</span><br><span class="line">            for (int i = 0; i &lt; temp2; i++) &#123;</span><br><span class="line">                if (isDecimal &amp;&amp; ((int) input.charAt(i) - 46) == 0) &#123;</span><br><span class="line">                    frequency++;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125;</span><br><span class="line">                secondNum += ((int) input.charAt(i) - 48) * Math.pow(10, frequency - 1 - i);</span><br><span class="line">            &#125;</span><br><span class="line">            if (isDecimal) whereDecimal++;</span><br><span class="line">            secondNum /= Math.pow(10, whereDecimal);</span><br><span class="line"></span><br><span class="line">            if (Objects.equals(symbol, &quot;+&quot;)) &#123;</span><br><span class="line">                result = firstNum + secondNum;</span><br><span class="line">            &#125; else if (Objects.equals(symbol, &quot;x&quot;)) &#123;</span><br><span class="line">                result = firstNum * secondNum;</span><br><span class="line">            &#125; else if (Objects.equals(symbol, &quot;Ã·&quot;)) &#123;</span><br><span class="line">                result = firstNum / secondNum;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                result = firstNum - secondNum;</span><br><span class="line">            &#125;</span><br><span class="line">            input.setLength(0);</span><br><span class="line">            input.append(result);</span><br><span class="line">            mTextView.setText(input);</span><br><span class="line">            hasSymbol = false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å…¶ä½™ç‰¹æ®ŠæŒ‰é”®"><a href="#å…¶ä½™ç‰¹æ®ŠæŒ‰é”®" class="headerlink" title="å…¶ä½™ç‰¹æ®ŠæŒ‰é”®"></a>å…¶ä½™ç‰¹æ®ŠæŒ‰é”®</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//è¿™æ˜¯ç»“æŸå½“å‰activityæŒ‰é’®</span><br><span class="line">public void toLastPage(View view) &#123;</span><br><span class="line">    TextView textView = (TextView) view;</span><br><span class="line">    textView.setOnClickListener(view1 -&gt; finish());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//è¿™æ˜¯å¯¹äºæŸäº›åŠŸèƒ½è¿˜æœªå¼€æ”¾çš„æç¤ºæŒ‰é’®</span><br><span class="line">public void onTipping(View view, Context context) &#123;</span><br><span class="line">    view.setOnClickListener(view1 -&gt; Toast.makeText(context, &quot;åŠŸèƒ½æš‚æœªå¼€æ”¾&quot;, Toast.LENGTH_SHORT).show());</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ç»“æœå±•ç¤º"><a href="#ç»“æœå±•ç¤º" class="headerlink" title="ç»“æœå±•ç¤º"></a>ç»“æœå±•ç¤º</h2><p><img src="https://s1.328888.xyz/2022/07/14/LgNwX.jpg"></p><p>æºä»£ç ä»¥åŠç´ æåœ¨ github ä¸Šï¼š<a href="https://github.com/cofbro/Calculator-java-and-kotlin-">https://github.com/cofbro/Calculator-java-and-kotlin-</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Demo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FlyingBirds</title>
      <link href="/2022/07/06/FlyingBirds/"/>
      <url>/2022/07/06/FlyingBirds/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€.å‰è¨€"></a>ä¸€.å‰è¨€</h2><p>å­¦æ ¡å®‰æ’çš„å­¦å¹´è®¾è®¡ï¼Œéœ€è¦äº¤ä¸€ä»½åŸºäºJavaæˆ–c++ç¼–å†™çš„å°æ¸¸æˆï¼Œæˆ‘è‡ªç„¶æ˜¯é€‰æ‹©Javaäº†ï¼Œæˆ‘å‡†å¤‡äº¤ä¸€ä»½ã€Šé£ç¿”çš„å°é¸Ÿã€‹æ¸¸æˆä¸Šå»ã€‚åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹æ•´ä¸ªé¡¹ç›®çš„è¿‡ç¨‹ã€‚</p><p>é£ç¿”çš„å°é¸Ÿæƒ³å¿…å¤§å®¶å°æ—¶å€™éƒ½ç©è¿‡ï¼Œæˆ‘è®°å¾—æˆ‘å½“æ—¶å·å·ç©æ‰‹æœºçš„æ—¶å€™è¿˜ä¸‹è½½è¿‡è¿™ä¸ªæ¸¸æˆï¼Œæ²¡æƒ³åˆ°æœ‰ä¸€å¤©æˆ‘ä¼šäº²æ‰‹å†™è¿™ä¸ªæ¸¸æˆã€‚</p><hr><h2 id="äºŒ-åˆ†æ"><a href="#äºŒ-åˆ†æ" class="headerlink" title="äºŒ.åˆ†æ"></a>äºŒ.åˆ†æ</h2><p>åœ¨å†™ä»£ç é‡è¾ƒå¤šï¼Œç»“æ„ç¨å¤æ‚çš„ç¨‹åºä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å»ºç«‹UMLç±»å›¾ã€‚é¦–å…ˆè¦æ˜ç¡®æœ‰å“ªäº›å¯¹è±¡ï¼Œä»ä»¥å‰æˆ‘ä»¬ç©è¿™ä¸ªæ¸¸æˆçš„ç»éªŒæ¥è¯´ï¼Œç¬¬ä¸€ä¸ªå¿…é¡»æ˜¯è¦æœ‰ä¼šé£çš„å°é¸Ÿï¼Œé‚£ä¹ˆå®ƒæ€ä¹ˆä¼šé£å‘¢ï¼Ÿæˆ‘ä»¬åªéœ€è¦å¤šå¼ å°é¸Ÿæ‰‡åŠ¨ç¿…è†€çš„å›¾ç‰‡ï¼Œç„¶åæŒ‰é¡ºåºåœ¨å±å¹•å‰é—ªè¿‡ï¼Œè¿™ä¸ªå°é¸Ÿå°±åƒå®åœ¨é£è¡Œä¸­çš„çŠ¶æ€äº†ã€‚ç¬¬äºŒï¼Œéœ€è¦å¤©ç©ºç±»å’Œåœ°é¢ç±»ä»¥åŠéšœç¢ç‰©ç±»ã€‚æœ€åæ ¹æ®å„è‡ªéœ€è¦å®ç°çš„åŠŸèƒ½æ¥ç¼–å†™å…¶ç±»ä¸­çš„æ–¹æ³•ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹çœ‹å…·ä½“çš„UMLç±»å›¾ï¼š<br><img src="https://s1.328888.xyz/2022/07/05/5V3P.png"></p><p>æˆ‘ä»¬ç…§ç€UMLç±»å›¾ï¼Œä¸€æ­¥ä¸€æ­¥å‰–æã€‚</p><h4 id="1-Columnç±»"><a href="#1-Columnç±»" class="headerlink" title="1.Columnç±»"></a>1.Columnç±»</h4><p>è¿™ä¸ªå°±æ˜¯éšœç¢ç‰©æŸ±å­ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘å…¶å®½åº¦ä¸é«˜åº¦ä»¥åŠé’¢ç®¡ç©ºéš™ï¼Œè¿™æ ·æ‰èƒ½åˆ¤å®šå°é¸Ÿæ˜¯å¦æ’åœ¨äº†æŸ±å­ä¸Šï¼Œæœ€åè¿˜éœ€è¦ä¸€ä¸ªèƒ½è®©éšœç¢ç‰©æ— é™å¾ªç¯çš„åŠ¨ç”»ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">class Column &#123;</span><br><span class="line">    int column_x, column_y; //é’¢ç®¡çš„ä¸­å¿ƒåæ ‡</span><br><span class="line">    int width, height; //å®½åº¦é«˜åº¦</span><br><span class="line">    int gap = 140; //é’¢ç®¡çš„ç©ºéš™</span><br><span class="line">    Random random = new Random(); //éšæœºåæ ‡</span><br><span class="line">    BufferedImage coBufferImage; //é’¢ç®¡å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">    //æ„é€ æ–¹æ³•ï¼ŒæŒ‡å®šéšœç¢ç‰©çš„å®½åº¦ï¼Œå¹¶ä¸”éšæœºç”Ÿæˆéšœç¢ç‰©çš„é«˜åº¦</span><br><span class="line">    public Column(int x) &#123;</span><br><span class="line">        super();</span><br><span class="line">        File coImage = new File(&quot;images/column.png&quot;);</span><br><span class="line">        try &#123;</span><br><span class="line">            coBufferImage = ImageIO.read(coImage);</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        column_x = x;</span><br><span class="line">        column_y = random.nextInt(180) + 150;</span><br><span class="line">        width = coBufferImage.getWidth();</span><br><span class="line">        height = coBufferImage.getHeight();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // é’¢ç®¡åŠ¨ç”»æ–¹æ³•</span><br><span class="line">    //æ¯æ¬¡éšœç¢ç‰©ä¸­å¿ƒç‚¹åæ ‡å‡1ï¼Œå¦‚æœéšœç¢ç‰©ç¦»å¼€å±</span><br><span class="line">    //å¹•å³ç«¯åˆ™åœ¨å±å¹•å·¦ç«¯é‡æ–°å‡ºç°ï¼Œå¹¶ä¸”éšœç¢ç‰©é«˜åº¦éšæœºç”Ÿæˆ</span><br><span class="line">    public void move() &#123;</span><br><span class="line">        column_x--;</span><br><span class="line">        if (column_x &lt; -width / 2) &#123;</span><br><span class="line">            column_y = random.nextInt(180) + 150;</span><br><span class="line">            column_x = 432 + width / 2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-Groundç±»"><a href="#2-Groundç±»" class="headerlink" title="2.Groundç±»"></a>2.Groundç±»</h4><p>åœ°é¢æˆ‘ä»¬åªéœ€è¦å…³æ³¨åœ°é¢çš„åæ ‡å°±è¡Œäº†ï¼Œå®ƒå’Œä¸Šé¢çš„Columnç±»éå¸¸ç›¸ä¼¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class Ground &#123;</span><br><span class="line">    int ground_x, ground_y; // åœ°é¢çš„åæ ‡</span><br><span class="line">    BufferedImage grBufferImage; // åœ°é¢å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">    public Ground() &#123;</span><br><span class="line">        super();</span><br><span class="line">        File grImage = new File(&quot;images/ground.png&quot;);</span><br><span class="line">        try &#123;</span><br><span class="line">            grBufferImage = ImageIO.read(grImage);</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        //è®¾ç½®åœ°é¢å›¾ç‰‡çš„ä½ç½®</span><br><span class="line">        ground_y = 500;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // åœ°é¢åŠ¨ç”»æ–¹æ³•</span><br><span class="line">    //æ¯æ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•åœ°é¢çš„å›¾ç‰‡å‘å·¦ç§»åŠ¨1ï¼Œ</span><br><span class="line">    //å¦‚æœåœ°é¢å›¾ç‰‡åˆ°è¾¾äº†å°½å¤´å°±ä»æ–°ä½¿å›¾ç‰‡å›åˆ°æœ€åˆä½ç½®ç»§ç»­å‘å·¦ç§»åŠ¨ï¼Œå¦‚æ­¤åå¤ã€‚</span><br><span class="line">    public void move() &#123;</span><br><span class="line">        ground_x--;</span><br><span class="line">        if (ground_x &lt; -110) &#123;</span><br><span class="line">            ground_x = 0;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-Birdç±»"><a href="#3-Birdç±»" class="headerlink" title="3.Birdç±»"></a>3.Birdç±»</h4><p>åˆ°äº†Birdç±»è¿™é‡Œå°±ç¨ç¨æœ‰ç‚¹å¤æ‚äº†ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘çš„å±æ€§ä¹Ÿå˜å¾—å¤šäº†èµ·æ¥ã€‚é¦–å…ˆæœ€å®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯å›¾ç‰‡çš„å®½é«˜å’Œä¸­å¿ƒåæ ‡äº†ï¼Œå…¶æ¬¡æˆ‘ä»¬éœ€è¦è€ƒè™‘å°é¸Ÿåœ¨xè½´å’Œyè½´çš„ç§»åŠ¨é€Ÿåº¦</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">class Bird &#123;</span><br><span class="line">    int bird_x = 60, bird_y = 300; // é¸Ÿçš„ä¸­å¿ƒç‚¹åæ ‡</span><br><span class="line">    int bird_width, bird_height; // é¸Ÿçš„å®½åº¦,é«˜åº¦</span><br><span class="line">    double speed = 20; // é€Ÿåº¦</span><br><span class="line">    double g = 4; // åŠ é€Ÿåº¦</span><br><span class="line">    double s; // è¿åŠ¨è·ç¦»</span><br><span class="line">    double t = 0.3; // è¿åŠ¨æ—¶é—´</span><br><span class="line">    BufferedImage biBufferImage; // é¸Ÿå›¾ç‰‡</span><br><span class="line">    BufferedImage[] images = new BufferedImage[8];</span><br><span class="line"></span><br><span class="line">    public Bird() &#123;</span><br><span class="line">        super();</span><br><span class="line">        //åå¤æŒ‰é¡ºåºç»˜åˆ¶å›¾ç‰‡ä»¥è¾¾åˆ°åŠ¨ç”»çš„æ•ˆæœ</span><br><span class="line">        for (int i = 0; i &lt; images.length; i++) &#123;</span><br><span class="line">            File biImage = new File(&quot;images/&quot; + i + &quot;.png&quot;);</span><br><span class="line">            try &#123;</span><br><span class="line">                images[i] = ImageIO.read(biImage);</span><br><span class="line">            &#125; catch (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        biBufferImage = images[0];</span><br><span class="line">        bird_width = biBufferImage.getWidth();</span><br><span class="line">        bird_height = biBufferImage.getHeight();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //å°é¸Ÿå±•ç¿…åŠ¨ç”»æ–¹æ³•</span><br><span class="line">    //æ¯æ¬¡ç‚¹å‡»é¼ æ ‡å±•ç¿…åå°±æ¢ä¸€å¼ å›¾ç‰‡è¿›è¡Œç»˜åˆ¶</span><br><span class="line">    int index = 0;</span><br><span class="line">    public void change() &#123;</span><br><span class="line">        index++;</span><br><span class="line">        biBufferImage = images[index / 3 % 8];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //å°é¸Ÿç§»åŠ¨çš„æ–¹æ³•</span><br><span class="line">    double ratation; //å€¾æ–œè§’åº¦</span><br><span class="line">    public void move_go() &#123;</span><br><span class="line">        double v0 = speed;</span><br><span class="line">        s = v0 * t - 0.5 * g * t * t;</span><br><span class="line">        double vt = v0 - g * t;</span><br><span class="line">        speed = vt;</span><br><span class="line">        bird_y = bird_y - (int) s;//å°é¸Ÿä¸‹è½åçš„åœ¨yè½´æ–¹å‘çš„ä½ç½®</span><br><span class="line">        ratation = s / 16;</span><br><span class="line">        if (bird_y &lt;= bird_height / 2) &#123;//è¿™é‡Œé™åˆ¶å°é¸Ÿæœ€é«˜åªèƒ½é£åˆ°äº†å±å¹•çš„æœ€ä¸Šæ–¹</span><br><span class="line">            bird_y = bird_height / 2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //é‡æ–°é£ç¿”</span><br><span class="line">    public void refly() &#123;</span><br><span class="line">        speed = 20;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //æ’å‡»åœ°é¢</span><br><span class="line">    //æ’åˆ°äº†åœ°é¢å°±è¿”false</span><br><span class="line">    public boolean hit(Ground ground) &#123;</span><br><span class="line">        return bird_y + bird_height / 2 &gt;= ground.ground_y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //æ’å‡»é’¢ç®¡</span><br><span class="line">    //å¦‚æœç¢°åˆ°äº†é’¢ç®¡çš„å·¦ä¾§ã€å³ä¾§ã€ä¸Šæ–¹å’Œä¸‹æ–¹éƒ½è¿”å›falseï¼Œå¦åˆ™è¿”å›true</span><br><span class="line">    public boolean hit(Column column) &#123;</span><br><span class="line">        int left_x = column.column_x - column.width / 2 - bird_width / 2;</span><br><span class="line">        int right_x = column.column_x + column.width / 2 + bird_width / 2;</span><br><span class="line">        int top_y = column.column_y - column.gap / 2 + bird_height / 2 - 5;</span><br><span class="line">        int down_y = column.column_y + column.gap / 2 - bird_height / 2 + 5;</span><br><span class="line">        if (bird_x &gt; left_x &amp;&amp; bird_x &lt; right_x) &#123;</span><br><span class="line">            if (bird_y &gt; top_y &amp;&amp; bird_y &lt; down_y) &#123;</span><br><span class="line">                return false;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="4-Skyç±»"><a href="#4-Skyç±»" class="headerlink" title="4.Skyç±»"></a>4.Skyç±»</h4><p>Skyç±»æ˜¯æœ¬ç¨‹åºä¸­æœ€å¤æ‚çš„ä¸€ç±»ï¼Œå› ä¸ºå®ƒæ˜¯å…¶ä»–ä¸‰ç±»çš„ç»„åˆï¼Œå¹¶ä¸”å®ƒè‡ªèº«è¦åŒ…å«ç»˜åˆ¶å›¾ç‰‡ä»¥åŠæ¸¸æˆé€»è¾‘çš„ç­‰åŠŸèƒ½ã€‚å¯¹äºæ¸¸æˆé€»è¾‘è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬çš„æƒ³æ³•æ˜¯ç¨‹åºæ¯ç»å†å¾ˆå°çš„ä¸€æ®µæ—¶é—´å°±å¾ªç¯è¿›è¡Œå›¾å½¢çš„ç»˜åˆ¶ï¼Œå¹¶ä¸”è¦æ‰§è¡ŒColumnï¼ŒGroundä¸¤ç±»ä¸­çš„moveæ–¹æ³•ä¸”åˆ¤æ–­ä¸€æ¬¡æ¸¸æˆæ˜¯å¦ç»“æŸï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸­éƒ½è¦ç›‘å¬é”®ç›˜å’Œé¼ æ ‡ç‚¹å‡»äº‹ä»¶æ¥ç›¸åº”Birdä¸­çš„move_goæ–¹æ³•ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br></pre></td><td class="code"><pre><span class="line">class Sky extends JPanel &#123;</span><br><span class="line">    private static final long serialVersionUID = 1L;//æ¸¸æˆç‰ˆæœ¬å·</span><br><span class="line">    BufferedImage bgBufferImage; //èƒŒæ™¯å›¾ç‰‡</span><br><span class="line">    Ground ground = new Ground(); //åœ°é¢</span><br><span class="line">    Column column = new Column(350); //é’¢ç®¡</span><br><span class="line">    Column column2 = new Column(600); //é’¢ç®¡</span><br><span class="line">    static Bird bird = new Bird(); //å°é¸Ÿ</span><br><span class="line">    int score = 0; //æ¸¸æˆå¾—åˆ†</span><br><span class="line">    BufferedImage startBufferImage; //å¼€å§‹å‡†å¤‡ç•Œé¢</span><br><span class="line">    boolean isStart; //æ˜¯å¦å¼€å§‹æ¸¸æˆ</span><br><span class="line">    BufferedImage overBufferImage; //æ¸¸æˆç»“æŸç•Œé¢</span><br><span class="line">    boolean isOver; //æ¸¸æˆæ˜¯å¦ç»“æŸ</span><br><span class="line"></span><br><span class="line">    public Sky() &#123;</span><br><span class="line">        super();</span><br><span class="line">        //è¯»å–å›¾ç‰‡</span><br><span class="line">        File bgImage = new File(&quot;images/bg.png&quot;);</span><br><span class="line">        File starImage = new File(&quot;images/start.png&quot;);</span><br><span class="line">        File overImage = new File(&quot;images/gameover.png&quot;);</span><br><span class="line">        try &#123;</span><br><span class="line">            bgBufferImage = ImageIO.read(bgImage);</span><br><span class="line">            startBufferImage = ImageIO.read(starImage);</span><br><span class="line">            overBufferImage = ImageIO.read(overImage);</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //ç»˜åˆ¶ç•Œé¢æ–¹æ³•</span><br><span class="line">    //ç»˜åˆ¶å›¾ç‰‡éƒ½æ˜¯ä»å·¦ä¸Šè§’å¼€å§‹ç»˜åˆ¶åˆ°å³ä¸‹è§’ç»“æŸ</span><br><span class="line">    @Override</span><br><span class="line">    public void paint(Graphics graphics) &#123;</span><br><span class="line">        //ç”»èƒŒæ™¯</span><br><span class="line">        graphics.drawImage(bgBufferImage, 0, 0, null);</span><br><span class="line">        //è·å–æ–°çš„ç”»ç¬”å¯¹è±¡</span><br><span class="line">        Graphics2D gg = (Graphics2D) graphics;</span><br><span class="line">        gg.rotate(-bird.ratation, bird.bird_x, bird.bird_y);</span><br><span class="line">        //ç”»å°é¸Ÿ</span><br><span class="line">        graphics.drawImage(bird.biBufferImage, bird.bird_x - bird.bird_width</span><br><span class="line">                / 2, bird.bird_y - bird.bird_height / 2, null);</span><br><span class="line">        gg.rotate(bird.ratation, bird.bird_x, bird.bird_y);</span><br><span class="line">        //ç”»é’¢ç®¡</span><br><span class="line">        graphics.drawImage(column.coBufferImage, column.column_x - column.width</span><br><span class="line">                / 2, column.column_y - column.height / 2, null);</span><br><span class="line">        graphics.drawImage(column2.coBufferImage, column2.column_x</span><br><span class="line">                        - column2.width / 2, column2.column_y - column2.height / 2,</span><br><span class="line">                null);</span><br><span class="line">        //ç”»åœ°é¢</span><br><span class="line">        graphics.drawImage(ground.grBufferImage, ground.ground_x,</span><br><span class="line">                ground.ground_y, null);</span><br><span class="line">        //ç”»æ–‡å­—</span><br><span class="line">        graphics.setColor(Color.BLUE);</span><br><span class="line">        graphics.setFont(new Font(&quot;æ¥·ä½“&quot;, Font.ITALIC, 30));</span><br><span class="line">        graphics.drawString(&quot;åˆ†æ•°:&quot; + score, 100, 600);</span><br><span class="line">        //ç”»å¼€å§‹å‡†å¤‡å›¾ç‰‡</span><br><span class="line">        if (!isStart &amp;&amp; !isOver) &#123;</span><br><span class="line">            graphics.drawImage(startBufferImage, 0, 0, null);</span><br><span class="line">        &#125;</span><br><span class="line">        //ç”»ç»“æŸç•Œé¢</span><br><span class="line">        if (isOver) &#123;</span><br><span class="line">            graphics.drawImage(overBufferImage, 0, 0, null);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //æ¸¸æˆå¯åŠ¨é€»è¾‘</span><br><span class="line">    public void action() &#123;</span><br><span class="line">        //å®šä¹‰é¼ æ ‡ç›‘å¬å™¨</span><br><span class="line">        //ç”¨é¼ æ ‡å¯ä»¥æ§åˆ¶å°é¸Ÿåœ¨yè½´ä¸Šçš„ä½ç½®</span><br><span class="line">        MouseAdapter adapter = new MouseAdapter() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void mousePressed(MouseEvent e) &#123;</span><br><span class="line">                // System.out.println(&quot;ç‚¹å‡»äº†é¼ æ ‡&quot;);</span><br><span class="line">                /*</span><br><span class="line">                 * è‹¥æ¸¸æˆç»“æŸé‡æ–°å¼€å§‹æ¸¸æˆ,æ¸¸æˆæ¢å¤åˆå§‹çŠ¶æ€</span><br><span class="line">                 * è‹¥æœªç»“æŸ:é¸Ÿé£èµ·æ¥</span><br><span class="line">                 */</span><br><span class="line">                if (isOver) &#123;</span><br><span class="line">                    bird = new Bird();</span><br><span class="line">                    ground = new Ground();</span><br><span class="line">                    column = new Column(350);</span><br><span class="line">                    column2 = new Column(600);</span><br><span class="line">                    score = 0;</span><br><span class="line">                    isOver = false;</span><br><span class="line">                    isStart = false;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    bird.refly();</span><br><span class="line">                    isStart = true;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        //æ·»åŠ é¼ æ ‡ç›‘å¬äº‹ä»¶</span><br><span class="line">        this.addMouseListener(adapter);</span><br><span class="line">        //å®šä¹‰é”®ç›˜ç›‘å¬å™¨</span><br><span class="line">        //è¿™é‡Œç”¨é”®ç›˜å¯ä»¥æ§åˆ¶å°é¸Ÿåœ¨xè½´å’Œyè½´ä¸Šçš„ä½ç½®</span><br><span class="line">        KeyAdapter keyAdapter = new KeyAdapter() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void keyPressed(KeyEvent e) &#123;</span><br><span class="line">                char charA = e.getKeyChar();</span><br><span class="line">                if (charA == &#x27;w&#x27;) &#123;</span><br><span class="line">                    if (bird.bird_y &gt; 20) &#123;</span><br><span class="line">                        bird.bird_y -= 20;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; else if (charA == &#x27;s&#x27;) &#123;</span><br><span class="line">                    if (bird.bird_y &lt; 465) &#123;</span><br><span class="line">                        bird.bird_y += 20;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; else if (charA == &#x27;a&#x27;) &#123;</span><br><span class="line">                    if (bird.bird_x &gt; 20) &#123;</span><br><span class="line">                        bird.bird_x -= 20;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; else if (charA == &#x27;d&#x27;) &#123;</span><br><span class="line">                    if (bird.bird_x &lt; 395) &#123;</span><br><span class="line">                        bird.bird_x += 20;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; else if (charA == &#x27; &#x27;) &#123;</span><br><span class="line">                    /*</span><br><span class="line">                     * è‹¥æ¸¸æˆç»“æŸé‡æ–°å¼€å§‹æ¸¸æˆ,æ¸¸æˆæ¢å¤åˆå§‹çŠ¶æ€</span><br><span class="line">                     * è‹¥æœªç»“æŸ:é¸Ÿé£èµ·æ¥</span><br><span class="line">                     */</span><br><span class="line">                    if (isOver) &#123;</span><br><span class="line">                        bird = new Bird();</span><br><span class="line">                        ground = new Ground();</span><br><span class="line">                        column = new Column(350);</span><br><span class="line">                        column2 = new Column(600);</span><br><span class="line">                        score = 0;</span><br><span class="line">                        isOver = false;</span><br><span class="line">                        isStart = false;</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        bird.refly();</span><br><span class="line">                        isStart = true;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                super.keyPressed(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        //å°†ä¸Šé¢çš„é”®ç›˜ç›‘å¬äº‹ä»¶åŠ å…¥åˆ°ç¨‹åºä¸­</span><br><span class="line">        this.addKeyListener(keyAdapter);</span><br><span class="line">        this.requestFocus();</span><br><span class="line"></span><br><span class="line">        while (true) &#123;</span><br><span class="line">            //å¾ªç¯æ‰§è¡Œä¸‹é¢æ–¹æ³•</span><br><span class="line">            //åˆ¤æ–­æ¸¸æˆæ˜¯å¦å¼€å§‹</span><br><span class="line">            if (isStart &amp;&amp; !isOver) &#123;</span><br><span class="line">                ground.move();</span><br><span class="line">                column.move();</span><br><span class="line">                column2.move();</span><br><span class="line">                bird.change();</span><br><span class="line">                bird.move_go();</span><br><span class="line">            &#125;</span><br><span class="line">            //åˆ¤æ–­æ’å‡»éšœç¢</span><br><span class="line">            if (bird.bird_x - bird.bird_width / 2 == column.column_x</span><br><span class="line">                    + column.width / 2</span><br><span class="line">                    || bird.bird_x - bird.bird_width / 2 == column2.column_x</span><br><span class="line">                    + column2.width / 2) &#123;</span><br><span class="line">                score++;</span><br><span class="line">            &#125;</span><br><span class="line">            if (bird.hit(ground) || bird.hit(column) || bird.hit(column2)) &#123;</span><br><span class="line">                isStart = false;</span><br><span class="line">                isOver = true;</span><br><span class="line">            &#125;</span><br><span class="line">            try &#123;</span><br><span class="line">                Thread.sleep(20);</span><br><span class="line">            &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            //å†æ¬¡ç»˜åˆ¶ä¸€æ¬¡å›¾å½¢</span><br><span class="line">            repaint();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-mainå‡½æ•°"><a href="#5-mainå‡½æ•°" class="headerlink" title="5.mainå‡½æ•°"></a>5.mainå‡½æ•°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">        // å®šä¹‰ç”»æ¡†</span><br><span class="line">        JFrame jf = new JFrame(&quot;bird_game&quot;);</span><br><span class="line">        jf.setSize(432, 674);</span><br><span class="line">        jf.setAlwaysOnTop(false);</span><br><span class="line">        jf.setLocationRelativeTo(null);</span><br><span class="line">        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        jf.setResizable(false);</span><br><span class="line">        Sky sky = new Sky();</span><br><span class="line">        jf.add(sky);</span><br><span class="line">        // æ˜¾ç¤ºç”»æ¡†</span><br><span class="line">        jf.setVisible(true);</span><br><span class="line">        //æ‰§è¡Œç¨‹åºé€»è¾‘</span><br><span class="line">        sky.action();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><hr><h2 id="ä¸‰-ç»“æœæ¼”ç¤º"><a href="#ä¸‰-ç»“æœæ¼”ç¤º" class="headerlink" title="ä¸‰.ç»“æœæ¼”ç¤º"></a>ä¸‰.ç»“æœæ¼”ç¤º</h2><h4 id="1-æ¸¸æˆå¼€å§‹ç•Œé¢"><a href="#1-æ¸¸æˆå¼€å§‹ç•Œé¢" class="headerlink" title="1.æ¸¸æˆå¼€å§‹ç•Œé¢"></a>1.æ¸¸æˆå¼€å§‹ç•Œé¢</h4><p><img src="https://s1.328888.xyz/2022/07/06/I4S5.png"></p><h4 id="2-æ¸¸æˆè¿›è¡Œç•Œé¢"><a href="#2-æ¸¸æˆè¿›è¡Œç•Œé¢" class="headerlink" title="2.æ¸¸æˆè¿›è¡Œç•Œé¢"></a>2.æ¸¸æˆè¿›è¡Œç•Œé¢</h4><p><img src="https://s1.328888.xyz/2022/07/06/ITlN.png"></p><h4 id="3-æ¸¸æˆç»“æŸç•Œé¢"><a href="#3-æ¸¸æˆç»“æŸç•Œé¢" class="headerlink" title="3.æ¸¸æˆç»“æŸç•Œé¢"></a>3.æ¸¸æˆç»“æŸç•Œé¢</h4><p><img src="https://s1.328888.xyz/2022/07/06/Ihay.png"></p><p>æ•´ä¸ªé£ç¿”çš„å°é¸Ÿåˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œæˆ‘è¿™ä¸ªå­¦å¹´è®¾è®¡ä¹Ÿå·®ä¸å¤šäº†(#^.^#)ã€‚æœ€åé™„ä¸Šæºä»£ç å’Œç´ æï¼Œgithubä»“åº“åœ°å€ï¼š<a href="https://github.com/cofbro/FlyingBird/tree/main">https://github.com/cofbro/FlyingBird/tree/main</a></p>]]></content>
      
      
      <categories>
          
          <category> Diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éšä¾¿è¯´è¯´</title>
      <link href="/2022/07/05/suibiOne/"/>
      <url>/2022/07/05/suibiOne/</url>
      
        <content type="html"><![CDATA[<h1 id="éšä¾¿è¯´è¯´"><a href="#éšä¾¿è¯´è¯´" class="headerlink" title="éšä¾¿è¯´è¯´"></a>éšä¾¿è¯´è¯´</h1><p>è‡ªä»æœŸæœ«å¤ä¹ å‘¨å¼€å§‹æˆ‘å°±å·²ç»å¾ˆä¹…æ²¡æœ‰å†™è¿‡åšå®¢äº†ï¼Œå…¨éƒ½æ˜¯ä¸ºäº†åº”ä»˜å­¦æ ¡é‡Œçš„è€ƒè¯•ï¼ŒçœŸçš„æ˜¯å¤ªå¤šäº†-_-||ï¼Œè¿™å­¦æœŸè€ƒè¯•å¤§æ¦‚æœ‰10å‡ é—¨ï¼Œä¸è¿‡ç»ˆäºç†¬è¿‡è€ƒè¯•æœˆäº†ï¼Œè¿˜æ˜¯ä¸é”™äº†ã€‚</p><hr><p>ç°åœ¨æˆ‘åˆæœ‰äº†æ–°ä»»åŠ¡ï¼Œç¬¬ä¸€ä¸ªæ˜¯å­¦æ ¡å®‰æ’çš„å­¦å¹´è®¾è®¡ï¼Œæˆ‘æ‰“ç®—å°±æ¨¡ä»¿ä¸€ä¸‹ç»å…¸çš„é£ç¿”çš„å°é¸Ÿï¼ˆ(<em>^â–½^</em>)ï¼‰ï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯äº’è”ç½‘+æˆ‘æ‰€è´Ÿè´£çš„ç½‘é¡µè®¾è®¡ï¼Œæœ€åå°±æ˜¯è¿˜è¦å­¦ä¹ å®‰å“è¯¾ç¨‹ï¼Œç¡®å®æŒºç´¯çš„â€¦ä»Šå¹´æš‘å‡ä¹Ÿå°±æ²¡æœ‰äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ‚æ–‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ‰å…³Javaå¤šçº¿ç¨‹</title>
      <link href="/2022/06/17/multithreading/"/>
      <url>/2022/06/17/multithreading/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å…³äºå¤šçº¿ç¨‹"><a href="#ä¸€-å…³äºå¤šçº¿ç¨‹" class="headerlink" title="ä¸€.å…³äºå¤šçº¿ç¨‹"></a>ä¸€.å…³äºå¤šçº¿ç¨‹</h2><p>å¦‚æœè¦å¤„ç†å¤šä¸ªä¸šåŠ¡æ—¶ï¼Œè€Œè¿™äº›ä¸šåŠ¡ä¹‹é—´æ²¡æœ‰å¾ˆå¼ºçš„ä¾èµ–ï¼Œå¦‚Aï¼ŒBï¼ŒCï¼Œæ­¤æ—¶ä¸æŒ‰é¡ºåºæ‰§è¡Œè¿™ä¸‰ä¸ªä¸šåŠ¡ã€‚å½“Aå‡ºç°é˜»å¡æ—¶ï¼Œæ­¤æ—¶CPUæ˜¯ç©ºé—²çš„ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè®©BåŠ è½½è¿›CPUè¿›è¡Œæ‰§è¡Œï¼Œå½“Aæ²¡æœ‰è¢«é˜»å¡æ—¶å†å°†Aè®©CPUæ‰§è¡Œï¼Œè¿™æ ·æ•ˆç‡æ˜æ˜¾è¦é«˜äºé¡ºåºæ‰§è¡Œã€‚å¤šçº¿ç¨‹è§£å†³çš„æ˜¯å¹¶å‘çš„é—®é¢˜ï¼Œç›®çš„æ˜¯ä½¿ä»»åŠ¡æ‰§è¡Œæ•ˆç‡æ›´é«˜ï¼Œå®ç°å‰ææ˜¯â€œé˜»å¡â€ã€‚å®ƒä»¬çœ‹ä¸Šå»æ—¶åŒæ—¶åœ¨æ‰§è¡Œçš„ï¼Œä½†å®é™…ä¸Šåªæ˜¯åˆ†æ—¶é—´ç‰‡ä½¿ç”¨CPUè€Œå·²ã€‚</p><hr><h2 id="äºŒ-è¿›ç¨‹ä¸çº¿ç¨‹"><a href="#äºŒ-è¿›ç¨‹ä¸çº¿ç¨‹" class="headerlink" title="äºŒ.è¿›ç¨‹ä¸çº¿ç¨‹"></a>äºŒ.è¿›ç¨‹ä¸çº¿ç¨‹</h2><p>çº¿ç¨‹æ˜¯æ¯”è¿›ç¨‹æ›´å°ä¸€çº§çš„æ‰§è¡Œå•ä½ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒ…å«å¤šä¸ªçº¿ç¨‹ã€‚å¤šè¿›ç¨‹æ“ä½œç³»ç»Ÿèƒ½åŒæ—¶è¿è¡Œå¤šä¸ªè¿›ç¨‹ï¼ˆç¨‹åºï¼‰ï¼Œç”±äº CPU å…·å¤‡åˆ†æ—¶æœºåˆ¶ï¼Œæ‰€ä»¥æ¯ä¸ªè¿›ç¨‹éƒ½èƒ½å¾ªç¯è·å¾—è‡ªå·±çš„CPU æ—¶é—´ç‰‡ã€‚ç”±äº CPU æ‰§è¡Œé€Ÿåº¦éå¸¸å¿«ï¼Œä½¿å¾—æ‰€æœ‰ç¨‹åºå¥½åƒæ˜¯åœ¨åŒæ—¶è¿è¡Œä¸€æ ·ã€‚æˆ‘ä»¬æœ€å¸¸è§çš„å°±æ˜¯mainæ–¹æ³•å¯ä»¥çœ‹åšä¸€ä¸ªè¿›ç¨‹æˆ–è€…æ˜¯ä¸€ä¸ªä¸»çº¿ç¨‹ï¼Œè€Œåœ¨mainæ–¹æ³•é‡Œé¢å¼€å¯çš„çº¿ç¨‹å°±æ˜¯å…¶å­çº¿ç¨‹ï¼Œä»–ä»¬åŒæ—¶å­˜åœ¨ï¼Œä¹Ÿå¯ä»¥åŒæ—¶è¿è¡Œã€‚</p><hr><h2 id="ä¸‰-å¼€å¯çº¿ç¨‹çš„æ–¹å¼"><a href="#ä¸‰-å¼€å¯çº¿ç¨‹çš„æ–¹å¼" class="headerlink" title="ä¸‰.å¼€å¯çº¿ç¨‹çš„æ–¹å¼"></a>ä¸‰.å¼€å¯çº¿ç¨‹çš„æ–¹å¼</h2><h4 id="1-ç»§æ‰¿Threadç±»"><a href="#1-ç»§æ‰¿Threadç±»" class="headerlink" title="1.ç»§æ‰¿Threadç±»"></a>1.ç»§æ‰¿Threadç±»</h4><p>å®šä¹‰ä¸€ä¸ªç±»ï¼Œç»§æ‰¿Threadç±»ï¼Œå¹¶é‡å†™Threadç±»çš„run()æ–¹æ³•ã€‚run()æ–¹æ³•æ˜¯çº¿ç¨‹è¦å®Œæˆçš„åŠŸèƒ½ã€‚åˆ›å»ºä¸€ä¸ªç»§æ‰¿äº†Threadç±»çš„å¯¹è±¡ï¼Œäº§ç”Ÿä¸€ä¸ªçº¿ç¨‹ã€‚å¹¶ä½¿ç”¨è¯¥å¯¹è±¡çš„startæ–¹æ³•ï¼Œå¯åŠ¨çº¿ç¨‹ã€‚</p><p><em>æ³¨æ„ï¼šå¦‚æœåªæ˜¯è°ƒç”¨run()æ–¹æ³•ï¼Œåªæ˜¯ç›¸å½“äºæ™®é€šè°ƒç”¨äº†æ¬¡æ–¹æ³•ï¼ŒJVMä¸ä¼šå¯åŠ¨çº¿ç¨‹ã€‚å¿…é¡»ä½¿ç”¨start()æ–¹æ³•ï¼ŒJVMè‡ªåŠ¨è°ƒç”¨æ­¤çº¿ç¨‹çš„run()æ–¹æ³•</em></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">public class myThread  extends Thread&#123;</span><br><span class="line">private String name;</span><br><span class="line">public ThreadOne() &#123;&#125;</span><br><span class="line">public ThreadOne(String name) &#123;</span><br><span class="line">super();</span><br><span class="line">this.name = name;</span><br><span class="line">&#125;</span><br><span class="line">public void run() &#123;</span><br><span class="line">for(int i=0;i&lt;10;i++) &#123;</span><br><span class="line">System.out.println(name + i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æµ‹è¯•ç±»</span><br><span class="line"></span><br><span class="line">public class Test &#123;</span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">        myThread t1 = new myThread(&quot;ç¬¬ä¸€ä¸ªçº¿ç¨‹ï¼š&quot;);</span><br><span class="line">        myThread t2 = new myThread(&quot;ç¬¬äºŒä¸ªçº¿ç¨‹ï¼š&quot;);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="2-å®ç°runnableæ¥å£"><a href="#2-å®ç°runnableæ¥å£" class="headerlink" title="2.å®ç°runnableæ¥å£"></a>2.å®ç°runnableæ¥å£</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">public class myThread implements Runnable &#123;</span><br><span class="line">private String name;</span><br><span class="line">public ThreadOne() &#123;</span><br><span class="line">super();</span><br><span class="line">&#125;</span><br><span class="line">public ThreadOne(String name) &#123;</span><br><span class="line">super();</span><br><span class="line">this.name = name;</span><br><span class="line">&#125;</span><br><span class="line">@Override</span><br><span class="line">public void run() &#123;</span><br><span class="line">for(int i = 0; i &lt; 10; i++) &#123;</span><br><span class="line">System.out.println(name + i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æµ‹è¯•ç±»</span><br><span class="line"></span><br><span class="line">public class Test &#123;</span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">        myThread threadOne = new myThread(&quot;ç¬¬ä¸€ä¸ªçº¿ç¨‹ï¼š&quot;);</span><br><span class="line">        myThread threadTwo = new myThread(&quot;ç¬¬äºŒä¸ªçº¿ç¨‹ï¼š&quot;);</span><br><span class="line">        Thread t1 = new Thread(threadOne);</span><br><span class="line">        Thread t2 = new Thread(threadTwo);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ç§å¼€å¯çº¿ç¨‹çš„è¿è¡Œç»“æœéƒ½æ˜¯ä¸¤ä¸ªå­çº¿ç¨‹ï¼ˆt1ï¼Œt2ï¼‰ç›¸äº’äº‰å¤ºCPUèµ„æºï¼Œå¯èƒ½ t1çº¿ç¨‹æ‰§è¡Œäº†ä¸€å°åŠï¼Œt2çº¿ç¨‹å¼€å§‹æ‰§è¡Œäº†ï¼Œè€Œåt1åˆå°†CPUèµ„æºæŠ¢å è¿‡å»ï¼Œè¿™äº›éƒ½æ˜¯éšæœºçš„ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰èƒ½æ§åˆ¶çº¿ç¨‹çš„æ‰§è¡Œé¡ºåºçš„æ–¹æ³•å‘¢ï¼Ÿ</p><ul><li>public void final setPriority(int newPriority)</li><li>public void final getPriority()</li></ul><p>Javaä¸ºæˆ‘ä»¬æä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œå¾ˆæ˜¾ç„¶ä¸€ä¸ªæ˜¯è®¾ç½®ä¼˜å…ˆçº§ï¼Œä¸€ä¸ªæ˜¯è·å–ä¼˜å…ˆçº§ã€‚å…¶ä¸­newPriorityæ˜¯ä¼˜å…ˆæŒ‡æ•°ï¼Œå®ƒè¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ã€‚ä½†æ˜¯ç”¨æ­¤æ–¹æ³•å¯èƒ½ä¼šæœ‰å¼‚å¸¸ã€‚</p><h4 id="3-å¼‚å¸¸"><a href="#3-å¼‚å¸¸" class="headerlink" title="3.å¼‚å¸¸"></a>3.å¼‚å¸¸</h4><p>a.IllegalArgumentException å¦‚æœä¼˜å…ˆçº§ä¸åœ¨MIN_PRIORITYå’ŒMAX_PRIORITYä¹‹é—´å°±ä¼šå‡ºæ­¤å¼‚å¸¸<br><em>æ³¨ï¼šMAX_PRIORITY &#x3D; 10,MIN_PRIORITY &#x3D; 1,NORM_PRIORITY &#x3D; 5,çº¿ç¨‹é»˜è®¤ä¼˜å…ˆçº§ä¸º5</em></p><p>b.SecurityException å¦‚æœå½“å‰çº¿ç¨‹ä¸èƒ½ä¿®æ”¹æ­¤çº¿ç¨‹å°±ä¼šå‡ºæ­¤å¼‚å¸¸</p><p>å› æ­¤æˆ‘ä»¬ç»™ <code>t1</code> è®¾ç½®ä¼˜å…ˆçº§æ—¶ï¼Œä¼šä¼˜å…ˆå°† <code>t1</code> æ‰§è¡Œå®Œæ¯•ï¼ˆè‹¥ä¼˜å…ˆçº§ç›¸ç­‰åˆ™éšæœºæ‰§è¡Œï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t1.setPriority(10)//æ­¤æ—¶ä¼˜å…ˆæ‰§è¡Œä¼˜å…ˆçº§é«˜çš„ï¼Œä¹Ÿå°±æ˜¯t1</span><br></pre></td></tr></table></figure><hr><h2 id="å››-çº¿ç¨‹æ§åˆ¶"><a href="#å››-çº¿ç¨‹æ§åˆ¶" class="headerlink" title="å››.çº¿ç¨‹æ§åˆ¶"></a>å››.çº¿ç¨‹æ§åˆ¶</h2><p>å…³äºçº¿ç¨‹æ§åˆ¶æœ‰ä¸‰ä¸ªæ–¹æ³•ï¼Œ</p><ul><li>static void sleep(long millis)    æš‚åœmillisæ¯«ç§’æ‰§è¡Œæ­¤çº¿ç¨‹</li><li>void join()                       ç­‰å¾…è¿™ä¸ªçº¿ç¨‹æ­»äº¡</li><li>void setDaemon(boolean on)        æ ‡è®°æ­¤ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Œè‹¥æ‰€æœ‰çº¿ç¨‹éƒ½æ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼ŒJVMå°†é€€å‡ºï¼Œä½†ä¸æ˜¯ç«‹å³é€€å‡º</li></ul><h4 id="1-sleep-æ–¹æ³•"><a href="#1-sleep-æ–¹æ³•" class="headerlink" title="1.sleep()æ–¹æ³•"></a>1.sleep()æ–¹æ³•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">public class myThread  extends Thread&#123;</span><br><span class="line">public void run() &#123;</span><br><span class="line">for(int i = 0; i &lt; 10; i++) &#123;</span><br><span class="line">            System.out.println(getName + &quot;:&quot; + i);</span><br><span class="line">            try&#123;</span><br><span class="line">                Thread.sleep(100);</span><br><span class="line">            &#125; catch(InterruptException e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æµ‹è¯•ç±»</span><br><span class="line">public class Test &#123;</span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">        myThread t1 = new myThread();</span><br><span class="line">        myThread t2 = new myThread();</span><br><span class="line">        t1.setName(&quot;cc&quot;)</span><br><span class="line">        t2.setName(&quot;aa&quot;)</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="2-join-æ–¹æ³•"><a href="#2-join-æ–¹æ³•" class="headerlink" title="2.join()æ–¹æ³•"></a>2.join()æ–¹æ³•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">public class myThread  extends Thread&#123;</span><br><span class="line">public void run() &#123;</span><br><span class="line">for(int i=0;i&lt;10;i++) &#123;</span><br><span class="line">System.out.println(getName + &quot;:&quot; + i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æµ‹è¯•ç±»</span><br><span class="line">public class Test &#123;</span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">        myThread t1 = new myThread();</span><br><span class="line">        myThread t2 = new myThread();</span><br><span class="line">        myThread t3 = new myThread();</span><br><span class="line">        t1.setName(&quot;aa&quot;);</span><br><span class="line">        t2.setName(&quot;bb&quot;);</span><br><span class="line">        t3.setName(&quot;cc&quot;);</span><br><span class="line">        try&#123;</span><br><span class="line">            t1.join();</span><br><span class="line">        &#125; catch(InterruptException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">&#125;</span><br><span class="line">    //åªæœ‰å°†t1æ‰§è¡Œå®Œåæ‰ä¼šå¼€å¯t2å’Œt3çº¿ç¨‹</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-setDaemon-æ–¹æ³•"><a href="#3-setDaemon-æ–¹æ³•" class="headerlink" title="3.setDaemon()æ–¹æ³•"></a>3.setDaemon()æ–¹æ³•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">public class myThread  extends Thread&#123;</span><br><span class="line">public void run() &#123;</span><br><span class="line">for(int i=0;i&lt;10;i++) &#123;</span><br><span class="line">System.out.println(getName + &quot;:&quot; + i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æµ‹è¯•ç±»</span><br><span class="line">public class Test &#123;</span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">        myThread t1 = new myThread();</span><br><span class="line">        myThread t2 = new myThread();</span><br><span class="line">        t1.setName(&quot;aa&quot;);</span><br><span class="line">        t2.setName(&quot;bb&quot;);</span><br><span class="line">        Thread.currentThread().setName(&quot;c&quot;);//è®¾ç½®ä¸»çº¿ç¨‹åå­—ä¸ºc</span><br><span class="line">t1.setDaemon(true);</span><br><span class="line">t2.setDaemon(true);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        for(int i = 0; i &lt; 10; i++)&#123;</span><br><span class="line">            System.out.println(Thead.currentThread.getName + &quot;:&quot; + i);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">    //è‹¥ä¸»çº¿ç¨‹æ‰§è¡Œå®Œåï¼ŒJVMå°†å…³é—­ï¼Œç¨‹åºç»“æŸ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="äº”-çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#äº”-çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="äº”.çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"></a>äº”.çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</h2><h4 id="1-javaçº¿ç¨‹å‘¨æœŸ"><a href="#1-javaçº¿ç¨‹å‘¨æœŸ" class="headerlink" title="1.javaçº¿ç¨‹å‘¨æœŸ"></a>1.javaçº¿ç¨‹å‘¨æœŸ</h4><p><img src="https://s1.328888.xyz/2022/06/17/0HNyq.jpg"></p><h4 id="2-çº¿ç¨‹çš„äº”ä¸ªçŠ¶æ€"><a href="#2-çº¿ç¨‹çš„äº”ä¸ªçŠ¶æ€" class="headerlink" title="2.çº¿ç¨‹çš„äº”ä¸ªçŠ¶æ€"></a>2.çº¿ç¨‹çš„äº”ä¸ªçŠ¶æ€</h4><ul><li><p>æ–°å»ºçŠ¶æ€ï¼ˆNewï¼‰ï¼šå½“çº¿ç¨‹å¯¹è±¡å¯¹åˆ›å»ºåï¼Œå³è¿›å…¥äº†æ–°å»ºçŠ¶æ€ï¼Œå¦‚ï¼šThread t &#x3D; new MyThread();</p></li><li><p>å°±ç»ªçŠ¶æ€ï¼ˆRunnableï¼‰ï¼šå½“è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„start()æ–¹æ³•ï¼Œçº¿ç¨‹å³è¿›å…¥å°±ç»ªçŠ¶æ€ã€‚å¤„äºå°±ç»ªçŠ¶æ€çš„çº¿ç¨‹ï¼Œåªæ˜¯è¯´æ˜æ­¤çº¿ç¨‹å·²ç»åšå¥½äº†å‡†å¤‡ï¼Œéšæ—¶ç­‰å¾…CPUè°ƒåº¦æ‰§è¡Œï¼Œå¹¶ä¸æ˜¯è¯´æ‰§è¡Œäº†start()æ–¹æ³•åï¼Œæ­¤çº¿ç¨‹ç«‹å³å°±ä¼šæ‰§è¡Œï¼›</p></li><li><p>è¿è¡ŒçŠ¶æ€ï¼ˆRunningï¼‰ï¼šå½“CPUå¼€å§‹è°ƒåº¦å¤„äºå°±ç»ªçŠ¶æ€çš„çº¿ç¨‹æ—¶ï¼Œæ­¤æ—¶çº¿ç¨‹æ‰å¾—ä»¥çœŸæ­£æ‰§è¡Œï¼Œå³è¿›å…¥åˆ°è¿è¡ŒçŠ¶æ€ã€‚æ³¨ï¼šå°±ç»ªçŠ¶æ€æ˜¯è¿›å…¥åˆ°è¿è¡ŒçŠ¶æ€çš„å”¯ä¸€å…¥å£ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œçº¿ç¨‹è¦æƒ³è¿›å…¥è¿è¡ŒçŠ¶æ€æ‰§è¡Œï¼Œé¦–å…ˆå¿…é¡»å¤„äºå°±ç»ªçŠ¶æ€ä¸­ï¼›</p></li><li><p>é˜»å¡çŠ¶æ€ï¼ˆBlockedï¼‰ï¼šå¤„äºè¿è¡ŒçŠ¶æ€ä¸­çš„çº¿ç¨‹ç”±äºæŸç§åŸå› ï¼Œæš‚æ—¶æ”¾å¼ƒå¯¹CPUçš„ä½¿ç”¨æƒï¼Œåœæ­¢æ‰§è¡Œï¼Œæ­¤æ—¶è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œç›´åˆ°å…¶è¿›å…¥åˆ°å°±ç»ªçŠ¶æ€ï¼Œæ‰æœ‰æœºä¼šå†æ¬¡è¢«CPUè°ƒç”¨ä»¥è¿›å…¥åˆ°è¿è¡ŒçŠ¶æ€ã€‚æ ¹æ®é˜»å¡äº§ç”Ÿçš„åŸå› ä¸åŒï¼Œé˜»å¡çŠ¶æ€åˆå¯ä»¥åˆ†ä¸ºä¸‰ç§ï¼š</p></li><li><p>æ­»äº¡çŠ¶æ€ï¼ˆDeadï¼‰ï¼šçº¿ç¨‹æ‰§è¡Œå®Œäº†æˆ–è€…å› å¼‚å¸¸é€€å‡ºäº†run()æ–¹æ³•</p></li></ul><p>ï¼ˆ1ï¼‰ç­‰å¾…é˜»å¡ï¼šè¿è¡ŒçŠ¶æ€ä¸­çš„çº¿ç¨‹æ‰§è¡Œwait()æ–¹æ³•ï¼Œä½¿æœ¬çº¿ç¨‹è¿›å…¥åˆ°ç­‰å¾…é˜»å¡çŠ¶æ€ï¼›</p><p>ï¼ˆ2ï¼‰åŒæ­¥é˜»å¡ â€“ çº¿ç¨‹åœ¨è·å–synchronizedåŒæ­¥é”å¤±è´¥(å› ä¸ºé”è¢«å…¶å®ƒçº¿ç¨‹æ‰€å ç”¨)ï¼Œå®ƒä¼šè¿›å…¥åŒæ­¥é˜»å¡çŠ¶æ€ï¼›</p><p>ï¼ˆ3ï¼‰å…¶ä»–é˜»å¡ â€“ é€šè¿‡è°ƒç”¨çº¿ç¨‹çš„sleep()æˆ–join()æˆ–å‘å‡ºäº†I&#x2F;Oè¯·æ±‚æ—¶ï¼Œçº¿ç¨‹ä¼šè¿›å…¥åˆ°é˜»å¡çŠ¶æ€ã€‚å½“sleep()çŠ¶æ€è¶…æ—¶ã€join()ç­‰å¾…çº¿ç¨‹ç»ˆæ­¢æˆ–è€…è¶…æ—¶ã€æˆ–è€…I&#x2F;Oå¤„ç†å®Œæ¯•æ—¶ï¼Œçº¿ç¨‹é‡æ–°è½¬å…¥å°±ç»ªçŠ¶æ€ã€‚</p><hr><h2 id="å…­-çº¿ç¨‹å®‰å…¨"><a href="#å…­-çº¿ç¨‹å®‰å…¨" class="headerlink" title="å…­.çº¿ç¨‹å®‰å…¨"></a>å…­.çº¿ç¨‹å®‰å…¨</h2><p>å½“å¤šä¸ªçº¿ç¨‹ä¸­æœ‰å¤šè¯­å¥æ“ä½œåŒä¸€ä¸ªæ•°æ®æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°æ•°æ®å®‰å…¨é—®é¢˜ï¼Œæˆ‘ä»¬ä»¥å–ç¥¨è¿™ä¸ªç»å…¸ä¾‹å­æ¥è¯´æ˜ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">public class Ticket implements Runnable &#123;</span><br><span class="line">    final Object obj = new Object();</span><br><span class="line">    int ticket = 100;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void run() &#123;</span><br><span class="line">        while (true) &#123;</span><br><span class="line">            if (ticket &gt; 0) &#123;</span><br><span class="line">                try &#123;</span><br><span class="line">                    Thread.sleep(100);</span><br><span class="line">                &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + &quot;:&quot; + ticket);</span><br><span class="line">                ticket--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æµ‹è¯•ç±»</span><br><span class="line">public class Test &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Ticket tt = new Ticket();</span><br><span class="line">        Thread t1 = new Thread(tt);</span><br><span class="line">        Thread t2 = new Thread(tt);</span><br><span class="line">        t1.setName(&quot;å”®ç¥¨ä¸€&quot;);</span><br><span class="line">        t2.setName(&quot;å”®ç¥¨äºŒ&quot;);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>t1å’Œt2å…±ç”¨ä¸€ä¸ªèµ„æºï¼Œä»–ä»¬éƒ½ä¼šç›¸äº’äº‰å¤ºCPUèµ„æºï¼Œå½“t1è¢«CPUåŠ è½½åï¼Œå› ä¸ºè°ƒç”¨äº†sleep()æ–¹æ³•å°±ä¼šè¿›å…¥é˜»å¡çŠ¶æ€ï¼Œè¿™æ—¶t2å°±ä¼šè¢«CPUåŠ è½½ï¼Œè¿™å°±ä¼šå‡ºç°å¦‚å›¾æ‰€ç¤ºå”®ç¥¨ä¸€å’Œå”®ç¥¨äºŒäº¤æ›¿å‡ºç°çš„æ•ˆæœã€‚</p><p><img src="https://s1.328888.xyz/2022/06/18/0WmcW.png"></p><p>é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ç§é—®é¢˜å‘¢ï¼Ÿ</p><h4 id="1-ä½¿ç”¨åŒæ­¥ä»£ç å—"><a href="#1-ä½¿ç”¨åŒæ­¥ä»£ç å—" class="headerlink" title="1.ä½¿ç”¨åŒæ­¥ä»£ç å—"></a>1.ä½¿ç”¨åŒæ­¥ä»£ç å—</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">public class Ticket implements Runnable &#123;</span><br><span class="line">    final Object obj = new Object();</span><br><span class="line">    int ticket = 100;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void run() &#123;</span><br><span class="line">        while (true) &#123;</span><br><span class="line">            synchronized (obj) &#123;</span><br><span class="line">                if (ticket &gt; 0) &#123;</span><br><span class="line">                    try &#123;</span><br><span class="line">                        Thread.sleep(100);</span><br><span class="line">                    &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + &quot;:&quot; + ticket);</span><br><span class="line">                    ticket--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æµ‹è¯•ç±»</span><br><span class="line">public class Test &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Ticket tt = new Ticket();</span><br><span class="line">        Thread t1 = new Thread(tt);</span><br><span class="line">        Thread t2 = new Thread(tt);</span><br><span class="line">        t1.setName(&quot;å”®ç¥¨ä¸€&quot;);</span><br><span class="line">        t2.setName(&quot;å”®ç¥¨äºŒ&quot;);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨synchronizedå³å¯ï¼Œå½“t1ç‡å…ˆæŠ¢å åˆ°CPUèµ„æºæ—¶ï¼Œå®ƒå°±ä¸ºè¿™ä¸ªä»£ç å—ä¸Šäº†é”ï¼Œå½“ä»–è°ƒç”¨sleep()æ–¹æ³•è¿›å»é˜»å¡é˜¶æ®µæ—¶ï¼Œt2è¿›å…¥CPUåŠ è½½ï¼Œä½†ç”±äºè¢«ä¸Šäº†é”ï¼Œå› æ­¤t2åªèƒ½ç­‰å¾…t1æ‰§è¡Œç»“æŸï¼Œé‡Šæ”¾äº†CPUèµ„æºæ—¶æ‰èƒ½è¢«CPUåŠ è½½ï¼Œè¿™å°±ä¿è¯äº†æ•°æ®çš„å®‰å…¨ã€‚</p><h4 id="2-ä½¿ç”¨åŒæ­¥æ–¹æ³•"><a href="#2-ä½¿ç”¨åŒæ­¥æ–¹æ³•" class="headerlink" title="2.ä½¿ç”¨åŒæ­¥æ–¹æ³•"></a>2.ä½¿ç”¨åŒæ­¥æ–¹æ³•</h4><p>åœ¨æ–¹æ³•åå‰é¢æ·»åŠ å…³é”®å­—synchronized</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">public class Ticket implements Runnable &#123;</span><br><span class="line">    int ticket = 100;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void run() &#123;</span><br><span class="line">        while (ticket &gt;= 0)&#123;</span><br><span class="line">            sellTicket();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public synchronized void sellTicket() &#123;</span><br><span class="line">        if (ticket &gt; 0) &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                Thread.sleep(100);</span><br><span class="line">            &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + &quot;:&quot; + ticket);</span><br><span class="line">            ticket--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æµ‹è¯•ç±»</span><br><span class="line">public class Test &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Ticket tt = new Ticket();</span><br><span class="line">        Thread t1 = new Thread(tt);</span><br><span class="line">        Thread t2 = new Thread(tt);</span><br><span class="line">        t1.setName(&quot;å”®ç¥¨ä¸€&quot;);</span><br><span class="line">        t2.setName(&quot;å”®ç¥¨äºŒ&quot;);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-Locké”"><a href="#3-Locké”" class="headerlink" title="3.Locké”"></a>3.Locké”</h4><p>ä½¿ç”¨åŒæ­¥ä»£ç å—ä¸èƒ½ç›´è§‚çš„çœ‹åˆ°é”ä¸è§£é”ï¼Œè€ŒLocké”èƒ½æ›´æ¸…æ™°çš„è¡¨è¾¾å¦‚ä½•åŠ é”å’Œé‡Šæ”¾é”ï¼Œæ¯”synchronizedæ–¹æ³•å¯ä»¥æ›´åŠ è·å¾—å¹¿æ³›çš„é”å®šæ“ä½œã€‚</p><p>Lockä¸­çš„ä¸¤ä¸ªæ–¹æ³•</p><ul><li>void lock():è·å¾—é”</li><li>void unlock():é‡Šæ”¾é”</li></ul><p>Lockæ˜¯æ¥å£ä¸èƒ½ç›´æ¥å®ä¾‹åŒ–ï¼Œåªèƒ½é‡‡ç”¨å®ƒçš„å®ç°ç±»ReentrantLockæ¥å®ä¾‹åŒ–ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">import java.util.concurrent.locks.Lock;</span><br><span class="line">import java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line">public class Ticket implements Runnable &#123;</span><br><span class="line">    Lock lock = new ReentrantLock();</span><br><span class="line">    int ticket = 100;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void run() &#123;</span><br><span class="line">        while (true) &#123;</span><br><span class="line">ä½¿ç”¨try&#123;&#125;catch&#123;&#125;è¯­å¥é˜²æ­¢çº¿ç¨‹ä¸­æ–¹æ³•å‡ºé”™å¯¼è‡´ä¸èƒ½æˆåŠŸé‡Šæ”¾é”è€Œä¸€ç›´å ç”¨CPUèµ„æºçš„æƒ…å†µ</span><br><span class="line">            try &#123;</span><br><span class="line">                lock.lock();</span><br><span class="line">                if (ticket &gt; 0) &#123;</span><br><span class="line">                    try &#123;</span><br><span class="line">                        Thread.sleep(10);</span><br><span class="line">                    &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + &quot;:&quot; + ticket);</span><br><span class="line">                    ticket--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;finally &#123;</span><br><span class="line">                lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æµ‹è¯•ç±»</span><br><span class="line">public class Test &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Ticket tt = new Ticket();</span><br><span class="line">        Thread t1 = new Thread(tt);</span><br><span class="line">        Thread t2 = new Thread(tt);</span><br><span class="line">        t1.setName(&quot;å”®ç¥¨ä¸€&quot;);</span><br><span class="line">        t2.setName(&quot;å”®ç¥¨äºŒ&quot;);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Javaå¤šçº¿ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•ç»ƒä¹ ï¼šä¸åŒçš„äºŒå‰æœç´¢æ ‘ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰</title>
      <link href="/2022/06/03/unique-binary-search-trees/"/>
      <url>/2022/06/03/unique-binary-search-trees/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€.å‰è¨€"></a>ä¸€.å‰è¨€</h2><p>LeetCode é¢˜ç›®ï¼š<a href="https://leetcode.cn/problems/unique-binary-search-trees/">96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘</a><br>ç»™ä½ ä¸€ä¸ªæ•´æ•° n ï¼Œæ±‚æ°ç”± n ä¸ªèŠ‚ç‚¹ç»„æˆä¸”èŠ‚ç‚¹å€¼ä» 1 åˆ° n äº’ä¸ç›¸åŒçš„ äºŒå‰æœç´¢æ ‘ æœ‰å¤šå°‘ç§ï¼Ÿè¿”å›æ»¡è¶³é¢˜æ„çš„äºŒå‰æœç´¢æ ‘çš„ç§æ•°ã€‚</p><p><code>ç¤ºä¾‹ 1ï¼š</code></p><blockquote><p>è¾“å…¥ï¼šn &#x3D; 3<br>è¾“å‡ºï¼š5</p></blockquote><p><code>ç¤ºä¾‹2ï¼š</code></p><blockquote><p>è¾“å…¥ï¼šn &#x3D; 1<br>è¾“å‡ºï¼š1</p></blockquote><p>é¢˜ç›®å¾ˆç®€æ´ï¼Œä½†æ˜¯åˆ†æèµ·æ¥å´æœ‰ç‚¹å¤æ‚ï¼Œé¦–å…ˆææ¸…æ¥šä»€ä¹ˆæ˜¯äºŒå‰æœç´¢æ ‘ã€‚äºŒå‰æœç´¢æ ‘åˆ†ä¸ºå·¦å­æ ‘å’Œå³å­æ ‘ï¼Œå·¦å­æ ‘è¿˜èƒ½å†åˆ†ä¸ºå·¦å­æ ‘å’Œå³å­æ ‘ï¼Œå°±åƒè¿™æ ·ï¼š<br><img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic4.zhimg.com%2Fv2-06ce569cea6d80d3a649ff69b4de1cc4_1440w.jpg%3Fsource%3D172ae18b&refer=http%3A%2F%2Fpic4.zhimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1656745281&t=9da45f912e7d67e118a778a2b40aa5f7"></p><p>äºŒå‰æœç´¢æ ‘æœ‰ä¸‰ä¸ªæ¡ä»¶ï¼š</p><ol><li>è‹¥å®ƒçš„å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºå®ƒçš„<a href="https://baike.baidu.com/item/%E6%A0%B9%E7%BB%93%E7%82%B9/9795570">æ ¹ç»“ç‚¹</a>çš„å€¼</li><li>è‹¥å®ƒçš„å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼</li><li>å®ƒçš„å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æœç´¢æ ‘</li></ol><h2 id="äºŒ-åˆ†ææ€è€ƒ"><a href="#äºŒ-åˆ†ææ€è€ƒ" class="headerlink" title="äºŒ.åˆ†ææ€è€ƒ"></a>äºŒ.åˆ†ææ€è€ƒ</h2><p>æˆ‘ä»¬å°† dp æ•°ç»„å®šä¹‰ä¸º 1 åˆ° n äº’ä¸ç›¸åŒçš„äºŒå‰æœç´¢æ ‘çš„ä¸ªæ•°ï¼Œå…ˆæ¥å°è¯•å†™å†™ <code>n = 1</code> å’Œ <code>n = 2</code>çš„æƒ…å†µ<br><img src="https://s1.328888.xyz/2022/06/02/WeHL2.png"></p><p>è¿™ä¸¤ä¸ªå…¶å®è¿˜æŒºç®€å•çš„ï¼Œå†æ¥çœ‹çœ‹ <code>n = 3</code> çš„æ—¶å€™<br><img src="https://s1.328888.xyz/2022/06/02/We884.png"><br>è¿™ä¸ªæ—¶å€™ä¸åŒçš„äºŒå‰æœç´¢æ ‘å°±æœ‰ 5 ä¸ªäº†ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™äº”ä¸ªæ˜¯æ€ä¹ˆæ ¹æ®å‰é¢çš„ç»“æœæ¨å¯¼å‡ºæ¥çš„ã€‚æ­¤å›¾ç‰‡ä¸­å‰ä¸¤æ£µæ ‘æ˜¯æ ¹æ® dp[2]ä¸­çš„ç¬¬ä¸€ä¸ªäºŒå‰æœç´¢æ ‘å¾—å‡ºæ¥çš„ï¼Œä»–ä»¬ç»“æ„éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯æ²¡æœ‰å·¦å­æ ‘ï¼Œå³å­æ ‘æœ‰ä¸¤ä¸ªç»“ç‚¹ã€‚è€Œ dp[3]ä¸­çš„ç¬¬ä¸‰å’Œç¬¬å››æ£µæ ‘åŒç†å’Œ dp[2]ä¸­çš„ç¬¬äºŒæ£µæ ‘ç»“æ„ç›¸åŒã€‚</p><p>é‚£ä¹ˆ dp[3]ä¸­æœ€åä¸€æ£µæ ‘æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Œæˆ‘ä»¬å°†çœ¼å…‰æ”¾å®½ä¸€ç‚¹ï¼Œè¿™æ—¶å€™ä¼šå‘ç°å®ƒå’Œ dp[1]ä¸­é‚£æ£µæ ‘ç»“æ„å¾ˆç›¸ä¼¼ï¼</p><p>ç»§ç»­æ¢ç´¢ä¸€ä¸‹è¿™ä¸ªè§„å¾‹ï¼š</p><ul><li>äºŒå‰æœç´¢æ ‘å½“ä»¥ <code>1</code> ä¸ºèµ·ç‚¹æ—¶ï¼Œå®ƒçš„ä¸ªæ•°ä¸ºå³å­æ ‘çš„ä¸ªæ•° dp[2]ï¼›</li><li>äºŒå‰æœç´¢æ ‘å½“ä»¥ <code>2</code> ä¸ºèµ·ç‚¹æ—¶ï¼Œå®ƒçš„ä¸ªæ•°ä¸ºå³å­æ ‘çš„ä¸ªæ•° dp[1] * å·¦å­æ ‘çš„ä¸ªæ•° dp[1]ï¼›</li><li>äºŒå‰æœç´¢æ ‘å½“ä»¥ <code>3</code> ä¸ºèµ·ç‚¹æ—¶ï¼Œå®ƒçš„ä¸ªæ•°ä¸ºå·¦å­æ ‘çš„ä¸ªæ•° dp[2]ï¼›<br>åˆ™æ€»å…±çš„äºŒå‰æœç´¢æ ‘ä¸ºï¼š<code>dp[2] + dp[1] * dp[1] + dp[2]</code><br><em>æ³¨ï¼šå®šä¹‰ dp[0] &#x3D; 1ï¼Œä½¿ä¹‹ç¬¦åˆä¸‹é¢é€šå¼çš„è§„å¾‹</em></li></ul><p>æˆ‘ä»¬å°†è¿™ä¸ªè§„å¾‹æ‰©å±•åˆ° <code>n</code>ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—å‡ºä» 1 åˆ° n ä¸ºèµ·ç‚¹çš„æ¯ä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„ä¸ªæ•°ï¼Œå› æ­¤éœ€è¦å¾ªç¯æ¥éå†ï¼Œåˆ™æ€»å…±çš„äºŒå‰æœç´¢æ ‘ä¸ºï¼š<code>dp[i] += dp[i - j] * dp[j -1]</code>ï¼Œå…¶ä¸­<code>i</code> ä¸ºå¤–å±‚å¾ªç¯ä¸”<code>i &lt;= n</code>ï¼Œ<code>j</code> ä¸ºå†…å±‚å¾ªç¯ä¸” <code>j &lt;= i</code>ã€‚<br>ä¸ºäº†éªŒè¯ä¸€ä¸‹è¿™ä¸ªè§„å¾‹ï¼Œæˆ‘ä»¬ç»§ç»­å¾€ä¸‹å†™ä¸€ç»„äºŒå‰æœç´¢æ ‘ï¼Œå½“<code>n = 4</code>æ—¶<br><img src="https://s1.328888.xyz/2022/06/02/We53C.png"></p><p>å…¶ä¸­äºŒå‰æœç´¢æ ‘ä¸ºä¸ªæ•°ä¸ºï¼š<code>dp[0] * dp[3] + dp[1] * dp[2] + dp[2] * dp[1] + dp[3] * dp[0] = 14</code>ï¼Œç¡®å®ç¬¦åˆä¸Šè¿°è§„å¾‹â€¦</p><h2 id="ä¸‰-ä»£ç "><a href="#ä¸‰-ä»£ç " class="headerlink" title="ä¸‰.ä»£ç "></a>ä¸‰.ä»£ç </h2><p>åˆ†æå®Œäº†ï¼Œç°åœ¨å°±æ¥çœ‹çœ‹ä»£ç ï¼Œå¦‚æœè¿˜æœ‰ç‚¹ç–‘æƒ‘è¯´ä¸å®šçœ‹äº†ä»£ç å°±è±ç„¶å¼€æœ—äº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int numTrees(int n) &#123;</span><br><span class="line">        int[] dp = new int[n + 1];</span><br><span class="line">        dp[0] = 1;</span><br><span class="line">        dp[1] = 1;</span><br><span class="line">        for(int i = 2; i &lt;= n; i++)&#123;</span><br><span class="line">            for(int j = 1; j &lt;= i; j++)&#123;</span><br><span class="line">                dp[i] += dp[i - j] * dp[j -1];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ps.è™½ç„¶ä»£ç åªæœ‰è¿™ä¹ˆç‚¹ï¼Œä½†æ˜¯åˆ†æå’Œæ€è€ƒè¿‡ç¨‹å´è¿œè¿œä¸æ­¢è¿™ç‚¹ï¼Œè¦æƒ³æŒæ¡åŠ¨æ€è§„åˆ’è¿˜å¾—å¤šåŠ ç»ƒä¹ å’Œæ€»ç»“å•Šã€‚</p>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> ç®—æ³•ç»ƒä¹  </tag>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kotlinä¹‹lambda è¡¨è¾¾å¼ä¸é«˜é˜¶å‡½æ•°</title>
      <link href="/2022/06/02/lambda/"/>
      <url>/2022/06/02/lambda/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-lambda-è¡¨è¾¾å¼"><a href="#ä¸€-lambda-è¡¨è¾¾å¼" class="headerlink" title="ä¸€.lambda è¡¨è¾¾å¼"></a>ä¸€.lambda è¡¨è¾¾å¼</h2><p>lambda åœ¨ Java é‡Œé¢ä¹Ÿæœ‰ï¼Œä¸è¿‡ Kotlin ä¸­çš„ lambda ä½¿ç”¨èµ·æ¥æ›´æ–¹ä¾¿ã€æ›´çµæ´»ã€‚<br>lambda å…¶å®å°±æ˜¯åŒ¿åå‡½æ•°ï¼Œèƒ½ä½¿ä»£ç å˜å¾—æ›´åŠ çµæ´»ç®€æ´ï¼Œå…¶è¡¨è¾¾å¼ä¸º: <code>&#123;å˜é‡å®šä¹‰ -&gt; ä»£ç å—&#125;</code> ï¼Œ å¦‚ï¼š<code>&#123; a, b -&gt; a + b &#125;</code></p><blockquote><p>lambda å‡½æ•°æ˜¯ä¸€ä¸ªå¯ä»¥æ¥æ”¶ä»»æ„å¤šä¸ªå‚æ•°(åŒ…æ‹¬å¯é€‰å‚æ•°)å¹¶ä¸”è¿”å›å•ä¸ªè¡¨è¾¾å¼å€¼çš„å‡½æ•°</p></blockquote><p>1ã€lambda å‡½æ•°æ¯”è¾ƒè½»ä¾¿ï¼Œå³ç”¨å³ä»ï¼Œå¾ˆé€‚åˆéœ€è¦å®Œæˆä¸€é¡¹åŠŸèƒ½ï¼Œä½†æ˜¯æ­¤åŠŸèƒ½åªåœ¨æ­¤ä¸€å¤„ä½¿ç”¨ï¼Œè¿åå­—éƒ½å¾ˆéšæ„çš„æƒ…å†µä¸‹ï¼›<br>2ã€åŒ¿åå‡½æ•°ï¼Œä¸€èˆ¬ç”¨æ¥ç»™ filterï¼Œ map è¿™æ ·çš„å‡½æ•°å¼ç¼–ç¨‹æœåŠ¡;<br>3ã€ä½œä¸ºå›è°ƒå‡½æ•°ï¼Œä¼ é€’ç»™æŸäº›åº”ç”¨ï¼Œæ¯”å¦‚æ¶ˆæ¯å¤„ç†</p><ul><li>å®Œæ•´çš„ <code>lambda</code> è¡¨è¾¾å¼</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">val method: (num1: Int, num2: Int) -&gt; Boolean = &#123; a: Int,b: Int -&gt;</span><br><span class="line">        a &lt; b</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å®Œæ•´è¯­æ³•å½¢å¼çš„å‚æ•°å£°æ˜æ”¾åœ¨åœ†æ‹¬å·å†…ï¼Œå…¶ä¸­ <code>num1</code> å’Œ <code>num2</code>åªæ˜¯å˜é‡çš„å£°æ˜ï¼Œå¯ä»¥ä¸å†™ï¼Œä½†æ˜¯åé¢çš„å‡½æ•°ä½“å¿…é¡»å®šä¹‰ç›¸åº”çš„å˜é‡ï¼ˆaï¼Œbï¼‰ï¼Œå¹¶æœ‰å¯é€‰çš„ç±»å‹æ ‡æ³¨ï¼Œ å‡½æ•°ä½“è·Ÿåœ¨ä¸€ä¸ª <code>-&gt;</code> ç¬¦å·ä¹‹åã€‚å¦‚æœæ¨æ–­å‡ºçš„è¯¥ <code>lambda</code> çš„è¿”å›ç±»å‹ä¸æ˜¯ <code>Unit</code>ï¼Œé‚£ä¹ˆè¯¥ lambda ä¸»ä½“ä¸­çš„æœ€åä¸€ä¸ªï¼ˆæˆ–å¯èƒ½æ˜¯å•ä¸ªï¼‰ è¡¨è¾¾å¼ä¼šè§†ä¸ºè¿”å›å€¼ã€‚</p><p>å…³äº <code>-&gt;</code>:<br>a.å…¶å‚æ•°ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰åœ¨ -&gt; ä¹‹å‰å£°æ˜<br>b.å‡½æ•°ä½“ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰åœ¨ -&gt; åé¢</p><ul><li>å› æ­¤ <code>lambda</code> è¡¨è¾¾å¼å¯ä»¥ç®€åŒ–æˆä¸‹é¢è¿™ç§</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">val method: (Int, Int) -&gt; Boolean = &#123; a, b -&gt;</span><br><span class="line">        a &lt; b //å‡½æ•°ä½“ä¸­æœ€åä¸€è¡Œè¡¨è¾¾å¼å³ä¸º lambda çš„è¿”å›å€¼</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>è¿˜èƒ½çœç•¥å‡½æ•°çš„å£°æ˜ï¼Œåªç•™ä¸‹å‡½æ•°ä½“</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val method= &#123; a: Int, b: Int -&gt; a &lt; b &#125;//Kotlinå¯ä»¥è‡ªåŠ¨æ¨æ–­è¿”å›ç±»å‹ï¼Œä¹Ÿå¯çœç•¥è¿”å›å€¼ç±»å‹çš„å£°æ˜</span><br></pre></td></tr></table></figure><ul><li>å½“ <code>lambda</code> ä¸­æœ‰æœªç”¨åˆ°çš„å‚æ•°æ—¶å¯ä»¥ç”¨ <code>_</code> è¡¨ç¤º</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">val method: (num1: Int, num2: Int) -&gt; Boolean = &#123; _, _ -&gt;</span><br><span class="line">        true</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒ-é«˜é˜¶å‡½æ•°"><a href="#äºŒ-é«˜é˜¶å‡½æ•°" class="headerlink" title="äºŒ.é«˜é˜¶å‡½æ•°"></a>äºŒ.é«˜é˜¶å‡½æ•°</h2><p>é«˜é˜¶å‡½æ•°å°±æ˜¯ä»¥å‡½æ•°ä¸ºå‚æ•°çš„ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œé€šå¸¸ä¸ <code>lambda</code> é…åˆèµ·æ¥ä¸€èµ·ä½¿ç”¨ï¼Œå³ <code>lambda</code> ä½œä¸ºå‚æ•°ã€‚</p><ul><li>é«˜é˜¶å‡½æ•°çš„å£°æ˜å®ç°ä¸è°ƒç”¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">val sum = &#123; x: Int -&gt; x&#125;</span><br><span class="line"></span><br><span class="line">fun method(age: Int, lambda: (a: Int) -&gt; Int): Int &#123;</span><br><span class="line">        return lambda(10 * age)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">method(10, sum)</span><br></pre></td></tr></table></figure><ul><li>å½“ç„¶é«˜é˜¶å‡½æ•°è°ƒç”¨å‚æ•°ä¹Ÿå¯ä»¥ç›´æ¥æ”¾ <code>lambda</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fun method(age: Int, lambda: (a: Int) -&gt; Int): Int &#123;</span><br><span class="line">        return lambda(10 * age)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">method(10, lambda = &#123; a -&gt; a.and(20) &#125;)</span><br></pre></td></tr></table></figure><ul><li>it éšå¼å‚æ•°<br>å½“ <code>lambda</code> ä¸­åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ï¼Œä½ ä¸å¿…å†å»å•ç‹¬å®šä¹‰ä¸€ä¸ªå˜é‡æ¥æ¥æ”¶å®ƒï¼ŒKotlin æä¾›äº† <code>it</code> å‚æ•°ï¼Œä»£è¡¨çš„æ˜¯ä½ å£°æ˜ <code>lambda</code> æ—¶å®šä¹‰çš„é‚£ä¸ªå”¯ä¸€å‚æ•°ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fun method(age: Int, lambda: (a: Int) -&gt; Int): Int &#123;</span><br><span class="line">        return lambda(10 * age)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">method(10, lambda = &#123;it.and(20)&#125;)//è¿™é‡Œçš„ it å°±æ˜¯å‰é¢å£°æ˜ä¸­çš„ a</span><br></pre></td></tr></table></figure><ul><li>å½“é«˜é˜¶å‡½æ•°ä¸­çš„æœ€åä¸€ä¸ªå‚æ•°æ˜¯ <code>lambda</code> è¡¨è¾¾å¼æ—¶ï¼Œ<code>lambda</code>å¯ä»¥æ”¾åœ¨åœ†æ‹¬å·å¤–é¢</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">fun method(age: Int, lambda: (a: Int) -&gt; Int): Int &#123;</span><br><span class="line">        return lambda(10 * age)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">method(10)&#123;</span><br><span class="line">        it.and(20)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">//å½“é«˜é˜¶å‡½æ•°åªæœ‰ lambda ä½œä¸ºå‚æ•°æ—¶ï¼Œåœ†æ‹¬å·ä¹Ÿèƒ½çœç•¥</span><br><span class="line">fun myMethod(lambda: (a: Int) -&gt; Int): Int &#123;</span><br><span class="line">        return lambda(10 * age)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">myMethod &#123;</span><br><span class="line">        it.and(20)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸‰-æ‹“å±•å‡½æ•°ä¸é«˜é˜¶å‡½æ•°"><a href="#ä¸‰-æ‹“å±•å‡½æ•°ä¸é«˜é˜¶å‡½æ•°" class="headerlink" title="ä¸‰.æ‹“å±•å‡½æ•°ä¸é«˜é˜¶å‡½æ•°"></a>ä¸‰.æ‹“å±•å‡½æ•°ä¸é«˜é˜¶å‡½æ•°</h2><p>æ‰©å±•å‡½æ•°æ˜¯æŒ‡åœ¨ä¸€ä¸ªç±»ä¸Šå¢åŠ ä¸€ç§æ–°çš„å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰ï¼Œé€šå¸¸åœ¨æŸä¸ªç±»åé¢åŠ  <code>.</code> å’Œ <code> æ–¹æ³•å</code>ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ™®é€šçš„æ‰©å±•å‡½æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fun String.myPrint()&#123;</span><br><span class="line">    println(this)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ç†Ÿæ‚‰æ™®é€šçš„æ‰©å±•å‡½æ•°ä¹‹åï¼Œæˆ‘ä»¬å¾€é‡Œé¢åŠ ä¸€ä¸ª <code>æ³›å‹</code> å’Œ <code>lambda</code> è¿›å»ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//Standard.ktæ˜¯Kotlinåº“çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå®šä¹‰äº†ä¸€äº›åŸºæœ¬inlineå‡½æ•°ã€‚</span><br><span class="line">//åœ¨c/c++ä¸­ï¼Œä¸ºäº†è§£å†³ä¸€äº›é¢‘ç¹è°ƒç”¨çš„å°å‡½æ•°å¤§é‡æ¶ˆè€—æ ˆç©ºé—´çš„é—®é¢˜</span><br><span class="line">//ç‰¹åˆ«çš„å¼•å…¥äº†inlineä¿®é¥°ç¬¦ï¼Œè¡¨ç¤ºä¸ºå†…è”å‡½æ•°</span><br><span class="line">inline fun &lt;T&gt; T.myAlso(block: (T) -&gt; Unit): Unit &#123;</span><br><span class="line">    //æ³›å‹è¡¨ç¤ºä»»ä½•ç±»å‹ï¼Œåªæœ‰åœ¨è°ƒç”¨çš„æ—¶å€™æ‰ä¼šåˆ¤æ–­ä½ å†™çš„å±äºå“ªä¸ªç±»å‹</span><br><span class="line">    block(this)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//Personæ˜¯ä¸ªç±»ï¼Œé‡Œé¢æœ‰ä¸ªå±æ€§ age</span><br><span class="line">val p = Person(10)//age = 10</span><br><span class="line"></span><br><span class="line">p.myAlso &#123;</span><br><span class="line">        it.age = 30//å°† p çš„ age ä¿®æ”¹ä¸º30</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>å½“ <code>lambda</code> ä¹Ÿæ˜¯ä¸€ä¸ªæ‰©å±•å‡½æ•°æ—¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">inline fun &lt;T&gt; T.myApply(block: T.() -&gt; T): T &#123;</span><br><span class="line">    return this.block()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//Personæ˜¯ä¸ªç±»ï¼Œé‡Œé¢æœ‰ä¸ªå±æ€§ age</span><br><span class="line">val p = Person(10)</span><br><span class="line">    p.myApply &#123;</span><br><span class="line">        this.age = 20//å°† p çš„ age ä¿®æ”¹ä¸º20</span><br><span class="line">        this//lambda è¿”å›å€¼</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kotlin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•ç»ƒä¹ ï¼šæ•´æ•°æ‹†åˆ†ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰</title>
      <link href="/2022/05/30/integer-break/"/>
      <url>/2022/05/30/integer-break/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€.å‰è¨€"></a>ä¸€.å‰è¨€</h2><p>æœ€è¿‘ä¸€ç›´åœ¨äº†è§£åŠ¨æ€è§„åˆ’ï¼Œè¿™æ˜¯ LeetCode ä¸Šé¢çš„ä¸€é“åŠ¨è§„çš„é¢˜ã€‚</p><p><a href="https://leetcode.cn/problems/integer-break/">343. æ•´æ•°æ‹†åˆ†</a></p><p>ç»™å®šä¸€ä¸ªæ­£æ•´æ•° Â <code>n</code>Â ï¼Œå°†å…¶æ‹†åˆ†ä¸º Â <code>k</code>Â  ä¸ª Â <strong>æ­£æ•´æ•°</strong>Â  çš„å’Œï¼ˆÂ <code>k &gt;= 2</code>Â ï¼‰ï¼Œå¹¶ä½¿è¿™äº›æ•´æ•°çš„ä¹˜ç§¯æœ€å¤§åŒ–ã€‚<br>è¿”å› Â <em>ä½ å¯ä»¥è·å¾—çš„æœ€å¤§ä¹˜ç§¯</em>Â ã€‚</p><p><code>ç¤ºä¾‹1ï¼š</code></p><blockquote><p>è¾“å…¥: n &#x3D; 2<br>è¾“å‡º: 1<br>è§£é‡Š: 2 &#x3D; 1 + 1, 1 Ã— 1 &#x3D; 1ã€‚</p></blockquote><p><code>ç¤ºä¾‹2ï¼š</code></p><blockquote><p>è¾“å…¥: n &#x3D; 10<br>è¾“å‡º: 36</p></blockquote><p>è§£é‡Š: 10 &#x3D; 3 + 3 + 4, 3 Ã— 3 Ã— 4 &#x3D; 36ã€‚</p><hr><h2 id="äºŒ-æ€è·¯"><a href="#äºŒ-æ€è·¯" class="headerlink" title="äºŒ.æ€è·¯"></a>äºŒ.æ€è·¯</h2><p>è¯´åˆ°åŠ¨æ€è§„åˆ’ï¼Œæˆ‘è®¤ä¸ºæœ€é‡è¦çš„å°±æ˜¯ç¡®å®šè‡ªå·±çš„ <code>dpæ•°ç»„</code> çš„å«ä¹‰ï¼Œå…¶æ¬¡å°±æ˜¯ <code>é€’æ¨å…¬å¼</code> äº†ã€‚</p><ul><li>ç¡®å®š <code>dp[i]</code> çš„å«ä¹‰</li></ul><p>æˆ‘ä»¬é‡æ–°æµè§ˆä¸€éé¢˜ï¼Œç»™å®šä¸€ä¸ªæ­£æ•´æ•° <code>n</code> ï¼Œéœ€è¦å°†å®ƒåˆ†æˆè‹¥å¹²ä¸ªæ•´æ•°ï¼Œè¿”å›æœ€å¤§çš„ä¹˜ç§¯ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å®šä¹‰ <code>dp[i]</code> è¡¨ç¤ºæ¯ä¸ªæ­£æ•´æ•°æ‹†åˆ†ä¸ºè‹¥å¹²ä¸ªæ­£æ•´æ•°æ‰€å¯¹åº”çš„æœ€å¤§ä¹˜ç§¯ï¼Œè‹¥è¦ç¡®å®š <code>dp[i]</code> çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ® <code>dp[i]</code> ä»¥å‰çš„å…ƒç´ è¿›è¡Œè¿ç®—ä»è€Œå¾—åˆ°æœ€å¤§çš„<br><code>dp[i]</code> çš„å€¼ã€‚</p><ul><li>ç¡®å®š <code>dp[i]</code> çš„å€¼</li></ul><p><code>dp[i]</code> çš„å€¼æ˜¯ç”±ä¸¤ç§æ–¹å¼æ¥å…±åŒç¡®å®šçš„ã€‚<br>ç¬¬ä¸€ï¼Œ<code>dp[i] = dp[i - j] * j</code> å…¶ä¸­ <code>i</code> ä»£è¡¨å¤–å±‚å¾ªç¯ï¼Œ <code>j</code> ä»£è¡¨å†…å±‚å¾ªç¯ï¼Œ<code>j</code> ä» <code>1</code> å¼€å§‹é€ä¸ªæ±‚å‡º <code>dp[i]</code> ï¼Œæœ€åå–æœ€å¤§å€¼ã€‚<br>ç¬¬äºŒï¼Œ<code>dp[i]</code> &#x3D; <code>(i - j) * j</code>ï¼ŒåŒä¸Šï¼Œä¹Ÿæ˜¯å–æœ€å¤§å€¼ã€‚ä¸Šé¢é‚£ç§æ–¹å¼æ˜¯å°† <code>i</code> åˆ†æˆäº† <code>n</code> ä¸ª <code>(n &gt; 2)</code>ã€‚è€Œè¿™ç§æ–¹å¼æ˜¯å°† <code>i</code> åˆ†æˆäº†<code>n</code> ä¸ª <code>(n = 2)</code>ã€‚</p><ul><li>ç¡®å®šé€’æ¨å…¬å¼</li></ul><p>å…¶å®åˆ°è¿™é‡Œï¼Œé€’æ¨å…¬å¼å¤§è‡´æ ·å¼ä¹Ÿå°±å‡ºæ¥äº†:<br><code>dp[i] = Math.max(dp[i], Math.max(dp[i - j] * j, (i - j) * j))</code> ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šæœ‰äººé—®ä¸ºä»€ä¹ˆè¿˜è¦æ¯”è¾ƒä¸€æ¬¡ <code>dp[i]</code> å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬å†…å±‚å¾ªç¯ä¸­ä¸€å‘¨åï¼Œä¼šç®—å‡ºå¾ˆå¤š <code>dp[i]</code> ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿å­˜æœ€å¤§çš„ <code>dp[i]</code>ã€‚</p><hr><h2 id="ä¸‰-ä»£ç "><a href="#ä¸‰-ä»£ç " class="headerlink" title="ä¸‰.ä»£ç "></a>ä¸‰.ä»£ç </h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int integerBreak(int n) &#123;</span><br><span class="line">        int[] dp = new int[n + 1];</span><br><span class="line">        //dp[2]å¯¹åº”çš„å€¼åº”è¯¥æ˜¯1ï¼Œè€Œdp[2]ä¹‹å‰çš„å…ƒç´ åœ¨æ­¤é—®é¢˜ä¸­æ— å®é™…æ„ä¹‰ï¼Œå› æ­¤æ— éœ€åˆå§‹åŒ–</span><br><span class="line">        dp[2] = 1;</span><br><span class="line">        for(int i = 3; i &lt;= n; i++)&#123;</span><br><span class="line">            for(int j = 1; j &lt;= i - j; j++)&#123;</span><br><span class="line">                dp[i] = Math.max(dp[i], Math.max(dp[i - j] * j, j * (i - j)));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ—¶é—´å¤æ‚åº¦ O(n^2)</p><ul><li>é¢˜å¤–è¯<br>è¿™é“é¢˜ç”¨åŠ¨æ€è§„åˆ’çš„è¯æ—¶é—´å¤æ‚åº¦ä¼¼ä¹æœ‰ç‚¹é«˜ï¼Œå…¶å®è¿™é“é¢˜å¯ä»¥ç”¨æ•°å­¦æ–¹æ³•æ¥å†™çš„ï¼Œè¿™é‡Œç”¨åˆ°ä¸€ä¸ªç»“è®ºï¼šå½“æ•´æ•° <code>n</code> å°½å¯èƒ½åœ°ç­‰åˆ†ä¸º <code>3</code>æ—¶ä¹˜ç§¯æœ€å¤§ã€‚å¦‚æœæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å»è¯æ˜ä¸€ä¸‹ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int integerBreak(int n) &#123;</span><br><span class="line">        if(n &lt;= 3) return n - 1;</span><br><span class="line">        int a = n / 3, b = n % 3;</span><br><span class="line">        //å½“ n åˆ†åˆšå¥½èƒ½åˆ†æˆè‹¥å¹²ä¸ª 3 æ—¶</span><br><span class="line">        if(b == 0) return (int)Math.pow(3, a);</span><br><span class="line">        //å½“ n å°½å¯èƒ½åˆ†æˆ 3 æ—¶ï¼Œä½™å‡ºä¸€ä¸ª 1</span><br><span class="line">        if(b == 1) return (int)Math.pow(3, a - 1) * 4;</span><br><span class="line">        //å½“ n å°½å¯èƒ½åˆ†æˆ 3 æ—¶ï¼Œä½™å‡ºä¸€ä¸ª 2</span><br><span class="line">        return (int)Math.pow(3, a) * 2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ—¶é—´å¤æ‚åº¦ï¼šO(1)</p>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> ç®—æ³•ç»ƒä¹  </tag>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoæ›´æ¢ä¸»é¢˜ä¹‹Butterfly</title>
      <link href="/2022/05/27/ChengeToButterfly/"/>
      <url>/2022/05/27/ChengeToButterfly/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€.å‰è¨€"></a>ä¸€.å‰è¨€</h2><p>å‰æ®µæ—¶é—´æ­å»ºå¥½äº† Hexo æ¡†æ¶å¹¶ç”¨ä¸Šäº† Fluid ä¸»é¢˜ï¼Œåæ¥ä¸çŸ¥é“æ€ä¹ˆå›äº‹ï¼Œæˆ‘çš„ Fluid ä¸»é¢˜å‡ºäº†ç‚¹é—®é¢˜ï¼Œæ­£å¥½å¯¹æˆ‘æ¥è¯´ Fluid ä¸»é¢˜æœ‰ç‚¹å¤ªç®€çº¦äº†ï¼Œç´¢æ€§æ¢äº†ä¸€ä¸ª Butterfly ä¸»é¢˜ã€‚ä¸‹é¢è¯´çš„ä¸€äº›é…ç½®çš„æ•ˆæœå¯ä»¥å‚è€ƒæˆ‘çš„åšå®¢ï¼š<a href="https://cofbro.github.io/">cofbro çš„åšå®¢ - Hello Iâ€™m cofbro</a><br>å¦‚æœè¿˜æ²¡æœ‰å®‰è£… Hexoï¼Œå¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« â€”â€”<a href="https://www.jianshu.com/p/265ff281e159">Hello Hexoï¼ä¸€æ¬¾é«˜æ•ˆçš„ä¸ªäººåšå®¢æ¡†æ¶ </a></p><h2 id="äºŒ-Butterfly-çš„ä¸‹è½½"><a href="#äºŒ-Butterfly-çš„ä¸‹è½½" class="headerlink" title="äºŒ.Butterfly çš„ä¸‹è½½"></a>äºŒ.Butterfly çš„ä¸‹è½½</h2><p>æ‰“å¼€ä½ çš„ Hexo æ ¹ç›®å½•ï¼Œç‚¹å‡»é¼ æ ‡å³é”®ï¼Œè¿›å…¥ <code>Git Bash Here</code>ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-theme-butterfly</span><br></pre></td></tr></table></figure><p>éšåå’±ä»¬ä¾æ¬¡è¿›å…¥ <code>Hexo -&gt; themes -&gt; butterfly</code> æ‰¾åˆ° <code>_config.yml</code> æ–‡ä»¶ï¼Œå°†é‡Œé¢çš„å†…å®¹å¤åˆ¶åˆ° Hexo æ ¹ç›®å½•ä¸­çš„ <code>_config.butterfly.yml(å¦‚æœæ²¡æœ‰å°±åˆ›å»º)</code>ã€‚</p><h2 id="ä¸‰-å…³äº-Butterfly-é…ç½®"><a href="#ä¸‰-å…³äº-Butterfly-é…ç½®" class="headerlink" title="ä¸‰.å…³äº Butterfly é…ç½®"></a>ä¸‰.å…³äº Butterfly é…ç½®</h2><blockquote><p>æ³¨æ„ï¼šæœ¬æ–‡ä»…å±•ç¤ºéƒ¨åˆ†é…ç½®ï¼Œå¦‚éœ€æ›´å¤šè¯·å‚è€ƒ<a href="https://butterfly.js.org/">Butterfly - A Simple and Card UI Design theme for Hexo</a></p></blockquote><h3 id="1-config-yml-ä¸­çš„é…ç½®"><a href="#1-config-yml-ä¸­çš„é…ç½®" class="headerlink" title="1._config.yml ä¸­çš„é…ç½®"></a>1._config.yml ä¸­çš„é…ç½®</h3><ul><li><p>æ‰“å¼€æ ¹ç›®å½•ä¸­çš„ <code>_config.yml</code> æ–‡ä»¶ï¼Œæ‰¾åˆ° <code>theme</code> å°†å…¶ä¿®æ”¹ä¸º <code>Butterfly</code> ï¼Œä»¥åé…ç½®æ›´æ”¹å°±åœ¨è¿™é‡Œé¢ã€‚</p></li><li><p>çœ‹æ¿å¨˜åŠŸèƒ½ï¼šéœ€è¦å…ˆå®‰è£…</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure><p>å†è¿›å…¥ <code>_config.yml</code> åœ¨æœ€ååŠ ä¸Šï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">live2d:</span><br><span class="line">    enable: true #æ˜¯å¦æ˜¾ç¤ºçœ‹æ¿å¨˜</span><br><span class="line">    scriptFrom: local</span><br><span class="line">    model:</span><br><span class="line">        use: live2d-widget-model-tororo #éœ€è¦ä¸åé¢çš„å‘½ä»¤ç›¸åŒï¼Œç›´æ¥æ›´æ¢åå­—å³å¯</span><br><span class="line">    display:</span><br><span class="line">        position: left #å®½é«˜ä»¥åŠä½ç½®è‡ªå·±çœ‹ç€è°ƒ</span><br><span class="line">        width: 200</span><br><span class="line">        height: 300</span><br><span class="line">    mobile:</span><br><span class="line">        show: true #æ˜¯å¦åœ¨æ‰‹æœºè¿›è¡Œæ˜¾ç¤º</span><br></pre></td></tr></table></figure><p>åœ¨é€šè¿‡ npm ä¸‹è½½å¯¹åº”çš„æ¨¡å‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install live2d-widget-model-tororo #å¯¹åº”çš„æ¨¡å‹å‘½ä»¤ï¼Œè¿™æ˜¯åªå°ç™½çŒ«</span><br></pre></td></tr></table></figure><p>å…¶ä»–çš„æ¨¡å‹è§<a href="https://blog.csdn.net/wang_123_zy/article/details/87181892"> Hexo æ·»åŠ  Live2D çœ‹æ¿å¨˜+æ¨¡å‹é¢„è§ˆ</a></p><h3 id="2-config-butterfly-yml-ä¸­çš„é…ç½®"><a href="#2-config-butterfly-yml-ä¸­çš„é…ç½®" class="headerlink" title="2._config.butterfly.yml ä¸­çš„é…ç½®"></a>2._config.butterfly.yml ä¸­çš„é…ç½®</h3><ul><li>åˆ›å»ºé¡µï¼š<br>åˆšæ¢ä¸»é¢˜åï¼Œé™¤äº†ä¸»é¡µå¥½åƒéƒ½æ˜¯éœ€è¦ä½ è‡ªå·±å»åˆ›å»ºçš„ï¼Œä¸‹é¢è¿™äº›å‘½ä»¤å°±æ˜¯åˆ›å»ºé¡µçš„ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">hexo new page about #åˆ›å»ºå…³äºé¡µ</span><br><span class="line"></span><br><span class="line">hexo new page tags #åˆ›å»ºæ ‡ç­¾é¡µ</span><br><span class="line"></span><br><span class="line">hexo new page categories #åˆ›å»ºåˆ†ç±»é¡µ</span><br><span class="line"></span><br><span class="line">hexo new page categories #åˆ›å»ºåˆ†ç±»é¡µ</span><br><span class="line"></span><br><span class="line">hexo new page link #åˆ›å»ºå‹é“¾é¡µ</span><br></pre></td></tr></table></figure><ul><li>å…¶ä»–åŸºç¡€é…ç½®</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">    é¦–é¡µ: / || fas fa-home</span><br><span class="line">    å½’æ¡£: /archives/ || fas fa-archive</span><br><span class="line">    æ ‡ç­¾: /tags/ || fas fa-tags</span><br><span class="line">    åˆ†ç±»: /categories/ || fas fa-folder-open</span><br><span class="line">    #èœå•||fas fa-list:</span><br><span class="line">    #éŸ³ä¹: /music/ || fas fa-music</span><br><span class="line">    #ç”µå½±: /movies/ || fas fa-video</span><br><span class="line">    å‹é“¾: /link/ || fas fa-link</span><br><span class="line">    å…³äº: /about/ || fas fa-heart</span><br><span class="line"></span><br><span class="line">ä¸Šé¢æ˜¯ä¸€äº›å³ä¸Šè§’çš„æ ‡ç­¾ï¼Œå¯ä»¥è‡ªå®šä¹‰é€‰æ‹©</span><br></pre></td></tr></table></figure><ul><li>ä¸‹é¢è¿™ä¸ªæ˜¯å±€éƒ¨æœç´¢ï¼Œä¸è¿‡éœ€è¦é€šè¿‡ npm å®‰è£…</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">local_search:</span><br><span class="line">    enable: true</span><br><span class="line">    preload: false</span><br><span class="line">    CDN:</span><br><span class="line">    labels:</span><br><span class="line">    input_placeholder: Search for Posts</span><br><span class="line">    hits_empty: &quot;We didn&#x27;t find any results for the search: $&#123;query&#125;&quot;</span><br><span class="line"># å¦‚æœæ²¡æœ‰æŸ¥åˆ°å†…å®¹ç›¸å…³å†…å®¹æ˜¾ç¤º</span><br></pre></td></tr></table></figure><ul><li>æ‰“å­—æœºæ•ˆæœ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">subtitle:</span><br><span class="line">    enable: true</span><br><span class="line">    # Typewriter Effect (æ‰“å­—æ•ˆæœ)</span><br><span class="line">    effect: true</span><br><span class="line">    # loop (å¾ªç’°æ‰“å­—)</span><br><span class="line">    loop: true</span><br><span class="line">    # source èª¿ç”¨ç¬¬ä¸‰æ–¹æœå‹™</span><br><span class="line">    # source: true</span><br><span class="line">    # source: 1 https://hitokoto.cn/</span><br><span class="line">    # source: 2 http://yijuzhan.com/</span><br><span class="line">    # source: 3 https://www.jinrishici.com/</span><br><span class="line">    # subtitle æœƒå…ˆé¡¯ç¤º source , å†é¡¯ç¤º sub çš„å…§å®¹</span><br><span class="line">    source: 4</span><br><span class="line">    # å¦‚æœé—œé–‰æ‰“å­—æ•ˆæœï¼Œsubtitle åªæœƒé¡¯ç¤º sub çš„ç¬¬ä¸€è¡Œæ–‡å­—</span><br><span class="line">    sub:</span><br><span class="line">        - æ¢¦æƒ³è¿™ä¸œè¥¿å’Œç»å…¸ä¸€æ · æ°¸è¿œä¸ä¼šå› ä¸ºæ—¶é—´è€Œè¤ªè‰²</span><br><span class="line">        - ä½•å…¶è£å¹¸ ä½•å¾·ä½•èƒ½ #æ³¨æ„è¿™é‡Œçš„æ ¼å¼   ç©ºæ ¼å’Œ &#x27;-&#x27;</span><br></pre></td></tr></table></figure><ul><li>é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">activate_power_mode:</span><br><span class="line">    enable: false</span><br><span class="line">    colorful: true # open particle animation (å†’å…‰ç‰¹æ•ˆ)</span><br><span class="line">    shake: true #  open shake (æŠ–å‹•ç‰¹æ•ˆ)</span><br><span class="line">    mobile: false</span><br><span class="line"></span><br><span class="line"># Mouse click effects: fireworks (é¼ æ¨™é»æ“Šæ•ˆæœ: ç…™ç«ç‰¹æ•ˆ)</span><br><span class="line">fireworks:</span><br><span class="line">    enable: true</span><br><span class="line">    zIndex: 9999 # -1 or 9999</span><br><span class="line">    mobile: false</span><br><span class="line"></span><br><span class="line"># Mouse click effects: Heart symbol (é¼ æ¨™é»æ“Šæ•ˆæœ: æ„›å¿ƒ)</span><br><span class="line">click_heart:</span><br><span class="line">    enable: false</span><br><span class="line">    mobile: false</span><br><span class="line"></span><br><span class="line"># Mouse click effects: words (é¼ æ¨™é»æ“Šæ•ˆæœ: æ–‡å­—)</span><br><span class="line">ClickShowText:</span><br><span class="line">    enable: false</span><br><span class="line">    text:</span><br><span class="line">        # - I</span><br><span class="line">        # - LOVE</span><br><span class="line">        # - YOU</span><br><span class="line">    fontSize: 15px</span><br><span class="line">    random: false</span><br><span class="line">    mobile: false</span><br></pre></td></tr></table></figure><p><em>æç¤ºï¼šä¸»é¢˜ä¸­å¾ˆå¤š <code>js</code> æ˜¯é€šè¿‡ CDN æœåŠ¡ä¸‹è½½çš„ï¼ŒButterfly ç”¨çš„ <code>jsdeliver</code> åœ¨å›½å†…å·²ç» g äº†ï¼Œå¦‚æœæƒ³è¦æ­£å¸¸æ˜¾ç¤ºç‰¹æ•ˆè¯·åœ¨ <code>_config.butterfly.yml</code> æ‰¾åˆ° <code>CDN</code> ã€‚</em></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line">    # The CDN provider of internal scripts (ä¸»é¡Œå…§éƒ¨ js çš„ cdn é…ç½®)</span><br><span class="line">    # option: local/jsdelivr</span><br><span class="line">    # Dev version cannot choose jsdelivr (devç‰ˆçš„ä¸»é¡Œä¸èƒ½è¨­ç½®ç‚º jsdelivr)</span><br><span class="line">    internal_provider: local</span><br><span class="line">    # The CDN provider of third party scripts (ç¬¬ä¸‰æ–¹ js çš„ cdn é…ç½®)</span><br><span class="line">    # option: local/jsdelivr</span><br><span class="line">    # when set it to local, you need to install hexo-butterfly-extjs</span><br><span class="line">    third_party_provider: local #åœ¨è¿™é‡Œæ”¹ä¸ºlocal</span><br><span class="line">    option:</span><br></pre></td></tr></table></figure><p>ä¹‹åä¾ç„¶è¦ç”¨åˆ°å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-extjs</span><br></pre></td></tr></table></figure><p>å¦‚æœæŠ¥é”™ï¼šnpm WARN deprecated <a href="mailto:&#x66;&#x6f;&#x72;&#109;&#105;&#100;&#97;&#98;&#x6c;&#x65;&#x40;&#x31;&#46;&#x32;&#46;&#x36;">&#x66;&#x6f;&#x72;&#109;&#105;&#100;&#97;&#98;&#x6c;&#x65;&#x40;&#x31;&#46;&#x32;&#46;&#x36;</a>: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: <a href="https://bit.ly/2ZEqIau">https://bit.ly/2ZEqIau</a></p><p>åˆ™å…ˆé”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå°±å¯ä»¥åœ¨æœ¬åœ°åŠ è½½ js æ–‡ä»¶äº†ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install formidable@v3</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexoæ›´æ¢ä¸»é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•ç»ƒä¹ ï¼šåªæœ‰ä¸¤ä¸ªé”®çš„é”®ç›˜ï¼ˆæ•°å­¦æ³•ï¼ŒåŠ¨æ€è§„åˆ’ï¼‰</title>
      <link href="/2022/05/26/zhi-you-liang-ge-jian-de-jian-pan-by-lee-ussa/"/>
      <url>/2022/05/26/zhi-you-liang-ge-jian-de-jian-pan-by-lee-ussa/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€.å‰è¨€"></a>ä¸€.å‰è¨€</h2><p>åˆåˆ°äº†è®°å½•ä»£ç çš„æ—¶å€™äº†ï¼Œè¿™é“é¢˜æ¥è‡ª LeetCodeï¼Œ<a href="https://leetcode.cn/problems/2-keys-keyboard/">åªæœ‰ä¸¤ä¸ªé”®çš„é”®ç›˜</a>ï¼š</p><p>æœ€åˆè®°äº‹æœ¬ä¸Šåªæœ‰ä¸€ä¸ªå­—ç¬¦ â€˜Aâ€™ ã€‚ä½ æ¯æ¬¡å¯ä»¥å¯¹è¿™ä¸ªè®°äº‹æœ¬è¿›è¡Œä¸¤ç§æ“ä½œï¼š<br>Copy Allï¼ˆå¤åˆ¶å…¨éƒ¨ï¼‰ï¼šå¤åˆ¶è¿™ä¸ªè®°äº‹æœ¬ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼ˆä¸å…è®¸ä»…å¤åˆ¶éƒ¨åˆ†å­—ç¬¦ï¼‰ã€‚<br>Pasteï¼ˆç²˜è´´ï¼‰ï¼šç²˜è´´ ä¸Šä¸€æ¬¡ å¤åˆ¶çš„å­—ç¬¦ã€‚<br>ç»™ä½ ä¸€ä¸ªæ•°å­— Â n ï¼Œä½ éœ€è¦ä½¿ç”¨æœ€å°‘çš„æ“ä½œæ¬¡æ•°ï¼Œåœ¨è®°äº‹æœ¬ä¸Šè¾“å‡º æ°å¥½ Â nÂ  ä¸ª â€˜Aâ€™ ã€‚è¿”å›èƒ½å¤Ÿæ‰“å°å‡º Â nÂ  ä¸ª â€˜Aâ€™ çš„æœ€å°‘æ“ä½œæ¬¡æ•°ã€‚</p><p>ä¸‹é¢ç»™å‡ºä¸¤ä¸ªä¾‹å­ï¼š<br><code>ç¤ºä¾‹1ï¼š</code></p><blockquote><p>è¾“å…¥ï¼š3<br>è¾“å‡ºï¼š3<br>è§£é‡Šï¼š<br>æœ€åˆ, åªæœ‰ä¸€ä¸ªå­—ç¬¦ â€˜Aâ€™ã€‚<br>ç¬¬ 1 æ­¥, ä½¿ç”¨ Copy All æ“ä½œã€‚<br>ç¬¬ 2 æ­¥, ä½¿ç”¨ Paste æ“ä½œæ¥è·å¾— â€˜AAâ€™ã€‚<br>ç¬¬ 3 æ­¥, ä½¿ç”¨ Paste æ“ä½œæ¥è·å¾— â€˜AAAâ€™ã€‚</p></blockquote><p><code>ç¤ºä¾‹2ï¼š</code></p><blockquote><p>è¾“å…¥ï¼šn &#x3D; 1<br>è¾“å‡ºï¼š0</p></blockquote><h2 id="äºŒ-é¢˜è§£"><a href="#äºŒ-é¢˜è§£" class="headerlink" title="äºŒ.é¢˜è§£"></a>äºŒ.é¢˜è§£</h2><p>é¦–å…ˆè¯´è¯´ç¬”è€…å†™è¿™é“é¢˜çš„ç»å†å§ï¼Œä¸æ€•å¤§å®¶ç¬‘è¯ï¼Œè¿™é“é¢˜æˆ‘è¶³è¶³å†™äº† 3 å°æ—¶â€¦æœ€å¼€å§‹çœ‹åˆ°è¿™é“é¢˜çš„æ—¶å€™æˆ‘æƒ³çš„æ˜¯æˆ‘å¯ä»¥å°† n ä»¥å‰çš„æ“ä½œ <code>A</code> çš„æ¬¡æ•°ä»¥æ¬¡æ•°ä¸ºé”®ç”¨ <code>Hashmap</code> å­˜èµ·æ¥ï¼Œç„¶åé‡åˆ° <code>n</code> çš„æ—¶å€™ç›´æ¥å» <code>Hashmap</code> é‡Œé¢æ‹¿ï¼Œå½“æˆ‘å»æäº¤çš„æ—¶å€™ï¼Œå‘ç°æœ‰äº›æµ‹è¯•ç”¨ä¾‹æ˜¯è¿‡ä¸äº†çš„ï¼Œæ¯”è‹¥è¯´ 741ã€‚ç„¶åæˆ‘é‡æ–°æ€è€ƒï¼Œå‘ç°å¯ä»¥ç”¨é€’å½’ï¼Œæ¯”å¦‚ <code>n = 24</code>ï¼Œä½†æ˜¯ç”±äºæ€è€ƒæ·±åº¦ä¸å¤Ÿï¼Œåˆæœ‰ä¸€äº›æƒ…å†µæ²¡è€ƒè™‘åˆ°ï¼Œå»æäº¤çš„åˆæ•°æ¬¡å¤±è´¥â€¦</p><p>ç”±äºé€’å½’ä»æœ€å¼€å§‹å°±æ²¡è€ƒè™‘åˆ°é‚£ç§æƒ…å†µï¼Œå› æ­¤æ”¹èµ·æ¥ç‰¹åˆ«éº»çƒ¦ï¼Œè€Œè¿™ä¸å¾—ä¸ä½¿æˆ‘é‡æ–°é€‰æ‹©ä¸€æ¡è·¯å‡ºå‘ã€‚æ‰€ä»¥ç”±æ­¤çœ‹æ¥å•Šï¼Œåšé¢˜ä¹‹å‰çœŸè¦é™ä¸‹å¿ƒæ¥æ€è€ƒï¼Œæ€è€ƒèŒƒå›´è¦å¹¿ä¸€ç‚¹ã€‚</p><p>æ¥ä¸‹æ¥å°±è¯´ç¬¬ä¸€ç§æ–¹æ³•ï¼Œæˆ‘ç§°ä¹‹ä¸ºæ•°å­¦è§„å¾‹æ³•ã€‚</p><h3 id="1-æ•°å­¦è§„å¾‹æ³•"><a href="#1-æ•°å­¦è§„å¾‹æ³•" class="headerlink" title="1.æ•°å­¦è§„å¾‹æ³•"></a>1.æ•°å­¦è§„å¾‹æ³•</h3><p>å…ˆä¸¾ä¸€äº›ç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">å½“è¾“å…¥ä¸åŒçš„ n æ—¶ï¼Œå¯¹åº”è¾“å‡ºçš„å€¼ï¼š</span><br><span class="line"></span><br><span class="line">1 = 0</span><br><span class="line">2 = 1 2 --&gt; 2æ¬¡//å› ä¸ºéœ€è¦å¤åˆ¶ä¸€æ¬¡ï¼Œç²˜è´´ä¸€æ¬¡ï¼Œå› æ­¤æ˜¯2</span><br><span class="line">7 = 1 2 3 4 5 6 7 --&gt; 7æ¬¡// 1 + 1 + 1 + 1 + 1 + 1 + 1 = 7</span><br><span class="line">12 = 1 2 3 6 12 --&gt; 6æ¬¡ //2 + 1 + 2 + 2 = 7</span><br><span class="line">18 = 1 2 3 6 9 18 --&gt; 8æ¬¡ //2 + 1 + 2 + 1 +2 = 8</span><br><span class="line">25 = 1 2 3 4 5 10 15 20 25 --&gt; 10æ¬¡ //2 + 1 + 1 + 2 +1 + 1 + 1 + 1 = 10</span><br><span class="line">741 = 35æ¬¡ --&gt; è¿™ä¸ªå¾…ä¼šè®²</span><br></pre></td></tr></table></figure><p>æ—¢ç„¶æ˜¯æ•°å­¦æ–¹æ³•ï¼Œå½“ç„¶è¦è¿ç”¨å¼ºå¤§çš„æ•°å­¦è§„å¾‹ï¼Œæˆ‘ä»¬ä»”ç»†è§‚å¯Ÿä¸€ç•ªä¼šå‘ç°ï¼šå¦‚æœæ˜¯è´¨æ•°é‚£ä¹ˆå®ƒçš„æœ€å°æ“ä½œæ¬¡æ•°å°±æ˜¯å®ƒæœ¬èº«ï¼Œå¯¹äºéè´¨æ•°ï¼Œæ¯”å¦‚è¯´ <code>12</code> ï¼Œä¸Šé¢å¾—å‡º <code>6</code> æ¬¡ç­”æ¡ˆçš„è¿‡ç¨‹æˆ‘ä»¬å€’ç€çœ‹åˆ†æˆ 3 ä¸ªç‰‡æ®µ,12 &lt;- 6 || 6 &lt;- 3 || 3 &lt;- 2 &lt;- 1ã€‚</p><p>é¦–å…ˆæ¥çœ‹ 12 &lt;- 6 è¿™ä¸€ä¸ªç‰‡æ®µï¼Œ<code>6</code> å¦‚æœè¦æˆä¸º <code>12</code> å¿…é¡»å…ˆå…¨éƒ¨å¤åˆ¶å†ç²˜è´´ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™é‡Œä¼šæœ‰ 2 æ¬¡æ“ä½œï¼›å†çœ‹ 6 &lt;- 3ï¼Œ<code>3</code> å¦‚æœè¦æˆä¸º <code>6</code> ä¹Ÿå¿…é¡»å…ˆå…¨éƒ¨å¤åˆ¶å†ç²˜è´´ï¼Œä¹Ÿä¼šæœ‰ 2 æ¬¡æ“ä½œï¼›æœ€åçœ‹ 3 &lt;- 2 &lt;- 1 è¿™ä¸ªç‰‡æ®µï¼Œ<code>1</code> å¦‚æœè¦æˆä¸º <code>3</code> éœ€è¦å…¨éƒ¨å¤åˆ¶ã€ç²˜è´´ã€ç²˜è´´ï¼Œä¹Ÿå°±æ˜¯è¦ 3 æ¬¡ã€‚æˆ‘ä»¬å†æ¥çœ‹çœ‹è¿™æ ·ä¸€ä¸ªä¸œè¥¿ï¼š<code>12</code> é™¤ä»¥ <code>2</code> ç­‰äº <code>6</code>ï¼Œè¿™é‡Œæ“ä½œæ¬¡æ•°+2ï¼Œ<code>6</code> é™¤ä»¥ <code>2</code> ç­‰äº <code>3</code>ï¼Œè¿™é‡Œæ“ä½œæ¬¡æ•°+2ï¼Œ<code>3</code> é™¤ä»¥ <code>3</code> ç­‰äº <code>1</code>ï¼Œè¿™é‡Œæ“ä½œæ¬¡æ•°+3ã€‚2 + 2 + 3 &#x3D; 6ã€‚ä½ ä¼šæƒŠå¥‡çš„å‘ç°ï¼šåªéœ€è¦æ‰¾åˆ°èƒ½æ•´é™¤ n çš„é™¤æ•°ï¼Œä¹‹åå…¨éƒ¨åŠ èµ·æ¥å°±ç­‰äºæœ€åç­”æ¡ˆäº†ã€‚</p><p>ä¸ç›¸ä¿¡ï¼Ÿå†æ¥è¯•ä¸€ä¸ªï¼<code>25</code> é™¤ä»¥ <code>5</code> ç­‰äº <code>5</code>ï¼Œæ“ä½œæ¬¡æ•°+5ï¼›<code>5</code> é™¤ä»¥ <code>5</code> ç­‰äº <code>1</code>ï¼Œæ“ä½œæ¬¡æ•°+5ï¼Œæœ€ç»ˆç­”æ¡ˆï¼š5 + 5 &#x3D; 10ã€‚æ˜¯ä¸æ˜¯æ„Ÿè§‰æœ‰ç‚¹ç¥å¥‡ï¼Ÿå…¶å®è¿™å°±æ˜¯è´¨å› æ•°çš„åˆ†è§£ï¼Œ<code>25</code> èƒ½åˆ†æˆ <code> 5</code> å’Œ <code>5</code>ã€‚<code>12</code> èƒ½åˆ†æˆ <code>2</code> å’Œ <code>2</code> å’Œ <code>3</code> ï¼Œå› æ­¤æœ€å°æ“ä½œæ•°ä¸º 7ã€‚å› æ­¤æœ€ä¸Šé¢çš„ <code>741</code> åˆ†è§£è´¨å› æ•°ä¸º <code>19</code> å’Œ <code>13</code> å’Œ <code>3</code>ï¼Œæ‰€ä»¥å…¶æœ€å°æ“ä½œæ•°ä¸º <code>35</code>ã€‚</p><p>è¿™ç§æ–¹æ³•æ¥è¿‘åŒç™¾ï¼Œé™„å›¾ï¼š<br><img src="https://s3.bmp.ovh/imgs/2022/05/26/226699885901c278.webp"></p><h4 id="a-æ•°å­¦è§„å¾‹æ³•ä»£ç "><a href="#a-æ•°å­¦è§„å¾‹æ³•ä»£ç " class="headerlink" title="a).æ•°å­¦è§„å¾‹æ³•ä»£ç "></a>a).æ•°å­¦è§„å¾‹æ³•ä»£ç </h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int minSteps(int n) &#123;</span><br><span class="line">        int result = 0;</span><br><span class="line">        int i;</span><br><span class="line">        //å½“ n è¢«åˆ†è§£åˆ° 1 æ—¶ï¼Œé€€å‡ºå¾ªç¯</span><br><span class="line">        while(n != 1)&#123;</span><br><span class="line">            for( i = 2; i &lt;= n; i++)&#123;</span><br><span class="line">            //éå†æ‰¾å‡ºèƒ½æ•´é™¤ n çš„ i</span><br><span class="line">                if(n % i == 0)&#123;</span><br><span class="line">                    n /= i;</span><br><span class="line">                    //resultåŠ ä¸Šèƒ½æ•´é™¤ n çš„ i</span><br><span class="line">                    result += i;</span><br><span class="line">                    i = 2;//æˆåŠŸæ•´é™¤ n åï¼Œè¿›è¡Œæ–°çš„ i å¾ªç¯ï¼Œæ‰¾å‡ºä¸‹ä¸€ä¸ªèƒ½æ•´é™¤ n çš„i</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="2-åŠ¨æ€è§„åˆ’-LeetCode-å®˜æ–¹é¢˜è§£"><a href="#2-åŠ¨æ€è§„åˆ’-LeetCode-å®˜æ–¹é¢˜è§£" class="headerlink" title="2.åŠ¨æ€è§„åˆ’(LeetCode å®˜æ–¹é¢˜è§£)"></a><a href="https://leetcode.cn/problems/2-keys-keyboard/">2.åŠ¨æ€è§„åˆ’(LeetCode å®˜æ–¹é¢˜è§£)</a></h3><h5 id="1-åŠ¨æ€è§„åˆ’æŠ€å·§"><a href="#1-åŠ¨æ€è§„åˆ’æŠ€å·§" class="headerlink" title="1.åŠ¨æ€è§„åˆ’æŠ€å·§"></a>1.åŠ¨æ€è§„åˆ’æŠ€å·§</h5><p>å…ˆç®€å•è¯´è¯´åŠ¨æ€è§„åˆ’çš„ä¸€äº›æŠ€å·§å§ã€‚</p><ul><li>ç¡®å®šå¥½ dp æ•°ç»„çš„å«ä¹‰ï¼Œä¸€å®šè¦ç†è§£ dp[i]æ‰€è¡¨ç¤ºçš„æ˜¯ä»€ä¹ˆ</li><li>åŠ¨æ€è§„åˆ’çš„æ•°æ®é€šå¸¸æ˜¯ç”±å‰é¢ä¸€ä¸ªæ•°æ®æ¨å¯¼æ¼”å˜è€Œæ¥çš„ï¼Œå› æ­¤éœ€è¦å¾—å‡ºæ¨å¯¼å…¬å¼</li><li>æœ€åå°±æ˜¯ dp æ•°ç»„çš„åˆå§‹åŒ–äº†ï¼Œè¿™ä¸ªéœ€è¦é¢å¤–æ³¨æ„ï¼Œå› ä¸ºåˆå§‹åŒ–ä¸€æ—¦æœ‰é—®é¢˜ï¼Œå°±ä¼šå¯¼è‡´æœ€ç»ˆç­”æ¡ˆå‡ºé”™</li></ul><h5 id="2-æ€è·¯"><a href="#2-æ€è·¯" class="headerlink" title="2.æ€è·¯"></a>2.æ€è·¯</h5><p>ä¸¾ä¸ªä¾‹å­ï¼Œè¿˜æ˜¯æ‹¿ <code>12</code> æ¥è¯´å§ï¼Œ<code>12 = 1 -&gt; 2 -&gt; 3 -&gt; 6 -&gt; 12</code>ï¼Œæˆ‘ä»¬ä¼šå‘ç°è¦å¾—å‡º <code>12</code> çš„æœ€å°æ“ä½œæ¬¡æ•°ï¼Œéœ€è¦çŸ¥é“ <code>6</code> çš„æœ€å°æ“ä½œæ¬¡æ•°å†åŠ ä¸Šå¤åˆ¶ç²˜è´´çš„æ¬¡æ•°ï¼ˆ2 æ¬¡ï¼‰ï¼Œè¿›è€Œéœ€è¦çŸ¥é“ <code>3</code> çš„æœ€å°æ“ä½œæ¬¡æ•°å†åŠ ä¸Šå¤åˆ¶ç²˜è´´çš„æ¬¡æ•°ï¼ˆ2 æ¬¡ï¼‰â€¦æ€»çš„æ¥è¯´å°±æ˜¯å¦‚æœè¦æ‰¾å‡º <code>i</code> ä¸ª <code>A</code> ï¼Œåˆ™å¿…å®šè¦å…ˆæ‰¾åˆ° <code>i</code> çš„å› æ•° <code>j</code> ,è€Œåé€šè¿‡ <code>i / j</code> æ¬¡å¤åˆ¶ç²˜è´´å¾—åˆ° <code>i</code> ä¸ª <code>A</code> å› æ­¤ä¼šå‘ç°è¿™ä¸ªé€’æ¨è§„å¾‹ï¼š<br><img src="https://s3.bmp.ovh/imgs/2022/05/26/a0cf0451b9b0ab5f.webp" alt="é€’æ¨å…¬å¼"><br>å…¶ä¸­ï¼Œ <code>j | i</code> è¡¨ç¤º <code>j</code> èƒ½æ•´é™¤ <code>i</code> ï¼Œ<code>i / j</code> è¡¨ç¤ºå¤åˆ¶ç²˜è´´çš„æ¬¡æ•°ã€‚å¯¹äºæ¯ä¸€ä¸ª <code>dp[i]</code> åªéœ€è¦ç­‰äºæœ€å°çš„ <code>f[j] + i / j</code>ã€‚</p><hr><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int minSteps(int n) &#123;</span><br><span class="line">        int[] f = new int[n + 1];</span><br><span class="line">        for (int i = 2; i &lt;= n; ++i) &#123;</span><br><span class="line">            f[i] = Integer.MAX_VALUE;</span><br><span class="line">            for (int j = 1; j &lt;= i; ++j) &#123;</span><br><span class="line">                if (i % j == 0) &#123;</span><br><span class="line">                    f[i] = Math.min(f[i], f[j] + i / j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return f[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> ç®—æ³•ç»ƒä¹  </tag>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•ç»ƒä¹ ï¼šå›æ–‡å­å­—ç¬¦ä¸²çš„ä¸ªæ•°ï¼ˆå¤šç§æ–¹æ³•ï¼‰</title>
      <link href="/2022/05/26/huiwenZiChuan/"/>
      <url>/2022/05/26/huiwenZiChuan/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€.å‰è¨€"></a>ä¸€.å‰è¨€</h2><p>ä»Šå¤©ä»‹ç»ä¸€é“ç›¸å¯¹ç®€å•çš„ç»ƒä¹ é¢˜ï¼ŒåŒæ ·æ˜¯æ¥è‡ª LeetCodeã€‚</p><p><a href="https://leetcode.cn/problems/a7VOhD/">å›æ–‡å­å­—ç¬¦ä¸²çš„ä¸ªæ•°ï¼Œç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·è®¡ç®—è¿™ä¸ªå­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªå›æ–‡å­å­—ç¬¦ä¸²ã€‚å…·æœ‰ä¸åŒå¼€å§‹ä½ç½®æˆ–ç»“æŸä½ç½®çš„å­ä¸²ï¼Œå³ä½¿æ˜¯ç”±ç›¸åŒçš„å­—ç¬¦ç»„æˆï¼Œä¹Ÿä¼šè¢«è§†ä½œä¸åŒçš„å­ä¸²ã€‚</a></p><p><code>ç¤ºä¾‹1ï¼š</code></p><blockquote><p>è¾“å…¥ï¼šs &#x3D; â€œabcâ€<br>è¾“å‡ºï¼š3<br>è§£é‡Šï¼šä¸‰ä¸ªå›æ–‡å­ä¸²: â€œaâ€, â€œbâ€, â€œcâ€</p></blockquote><p><code>ç¤ºä¾‹2ï¼š</code></p><blockquote><p>è¾“å…¥ï¼šs &#x3D; â€œaaaâ€<br>è¾“å‡ºï¼š6<br>è§£é‡Šï¼š6 ä¸ªå›æ–‡å­ä¸²: â€œaâ€, â€œaâ€, â€œaâ€, â€œaaâ€, â€œaaâ€, â€œaaaâ€</p></blockquote><p>é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/a7VOhD/">LeetCode</a></p><h2 id="äºŒ-é¢˜è§£"><a href="#äºŒ-é¢˜è§£" class="headerlink" title="äºŒ.é¢˜è§£"></a>äºŒ.é¢˜è§£</h2><p>å…¶å®å…³äºå›æ–‡çš„é¢˜æœ‰å¾ˆå¤šç§ï¼Œè€Œè§£æ³•æ›´æ˜¯å¤šç§å¤šæ ·ï¼Œä»Šå¤©ä»‹ç»ä¸¤ç§æ–¹æ³•ï¼Œ<code>é€’å½’</code>å’Œ<code>ä¸­å¿ƒæ‹“å±•</code>ã€‚</p><h4 id="1-é€’å½’"><a href="#1-é€’å½’" class="headerlink" title="1.é€’å½’"></a>1.é€’å½’</h4><p>ç®€å•æ¥è¯´é€’å½’å°±æ˜¯ä¸€ä¸ªå‡½æ•°è°ƒç”¨è‡ªå·±æœ¬èº«çš„è¡Œä¸ºå°±å«é€’å½’ã€‚é€’å½’å…·æœ‰ä»£ç ç®€æ´ï¼Œæ˜“è¯»çš„ç‰¹ç‚¹ï¼Œä½†æ˜¯ç¼ºç‚¹ä¹Ÿä¸å®¹å¿½è§†ï¼š</p><p>a).è¿è¡Œæ•ˆç‡è¾ƒä½ã€‚<br>b).å¯èƒ½ä¼šå¯¼è‡´æ ˆæº¢å‡ºï¼Œå¦‚æœé€’å½’æ¬¡æ•°å¤ªå¤šï¼Œéœ€è¦åœ¨å†…å­˜æ ˆä¸­åˆ†é…ç©ºé—´ä»¥ä¿å­˜å‚æ•°ä»¥åŠä¸´æ—¶å˜é‡å°±ä¼šè¿‡å¤šï¼Œå½“è¶…å‡ºæ ˆçš„å®¹é‡ï¼Œå°±ä¼šå¯¼è‡´æ ˆæº¢å‡ºã€‚</p><p>æˆ‘ä»¬æ€è·¯æ˜¯è¿™æ ·çš„ï¼šé¦–å…ˆé€šè¿‡éå†æ‰¾åˆ°æ‰€æœ‰çš„å­ä¸²ï¼Œç„¶åå†åˆ¤æ–­å­ä¸²æ˜¯å¦æ˜¯å›æ–‡ã€‚é‚£ä¹ˆæ€ä¹ˆåˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡å‘¢ï¼Ÿæ¯”å¦‚è¿™æ ·çš„ä¸€ä¸ªå­—ç¬¦ä¸²<code>abcba</code>,æˆ‘ä»¬åˆ¤æ–­å…¶æ˜¯å¦ä¸ºå›æ–‡ï¼Œå¯ä»¥å…ˆåˆ¤æ–­ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå­—ç¬¦æ˜¯å¦ç›¸åŒï¼Œå†åˆ¤æ–­ç¬¬äºŒä¸ªå­—ç¬¦å’Œå€’æ•°ç¬¬äºŒä¸ªå­—ç¬¦æ˜¯å¦ç›¸åŒâ€¦ç›´åˆ°å…¨éƒ¨åˆ¤æ–­å®Œæ¯•ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åå¤åšç€ç›¸åŒçš„å·¥ä½œï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨é€’å½’ï¼Œæ¥çœ‹çœ‹ä»£ç å§ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int countSubstrings(String s) &#123;</span><br><span class="line">        int result = 0;//æœ€ç»ˆç»“æœ</span><br><span class="line">        //ä¸¤å±‚å¾ªç¯ï¼Œä»å­—ç¬¦ä¸²é¦–éƒ¨å¼€å§‹éå†å¤„æ‰€æœ‰å­å­—ç¬¦ä¸²</span><br><span class="line">        for (int i = 0; i &lt; s.length(); i++) &#123;</span><br><span class="line">            for (int j = i; j &lt; s.length(); j++) &#123;</span><br><span class="line">                //æ¯ä¸ªå­å­—ç¬¦ä¸²è°ƒç”¨isHuiwenï¼Œè‹¥è¿”å› true åˆ™ result + 1</span><br><span class="line">                if (isHuiwen(s, i, j)) &#123;</span><br><span class="line">                    result++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">    //isHuiwenéœ€è¦ä¸‰ä¸ªå‚æ•°ï¼Œs æ˜¯å­—ç¬¦ä¸²ï¼Œi æ˜¯å­å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œj æ˜¯å­å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦</span><br><span class="line">    public static boolean isHuiwen(String s, int i, int j) &#123;</span><br><span class="line">        //ä¸¤ç§æƒ…å†µè¿”å›trueï¼ˆ1,2ï¼‰</span><br><span class="line">        //1.å½“å­å­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯å¥‡æ•°æ—¶ï¼Œæ­¤æ—¶å›æ–‡ä¸­å¿ƒåªæœ‰ä¸€ä¸ªï¼Œå½“é€’å½’åˆ° i == jæ—¶ï¼Œè¯´æ˜å…¨éƒ¨é¦–å°¾å­—ç¬¦åˆ¤æ–­å®Œæ¯•ï¼Œå…¨éƒ¨ç›¸ç­‰ï¼Œè¿”å›true</span><br><span class="line">        if (i == j) return true;</span><br><span class="line">        else &#123;</span><br><span class="line">            if (s.charAt(i) != s.charAt(j)) &#123;</span><br><span class="line">                //å¦‚æœäºŒè€…ä¸ç›¸ç­‰ï¼Œç›´æ¥è¿”å›falseï¼Œé€€å‡ºé€’å½’</span><br><span class="line">                return false;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                //2.å½“å­å­—ç¬¦ä¸²çš„é•¿åº¦ä¸ºå¶æ•°ï¼Œæ­¤æ—¶å›æ–‡ä¸­å¿ƒæ˜¯ä¸¤ä¸ªå­—ç¬¦ï¼Œç”±äºä¸Šé¢çš„ifä¸­å·²ç»åˆ¤æ–­ i å’Œ jæ˜¯ç›¸åŒçš„</span><br><span class="line">                //å› æ­¤åˆ°è¿™é‡Œä¹Ÿå°†é¦–å°¾å­—ç¬¦å…¨éƒ¨åˆ¤æ–­å®Œæ¯•ï¼Œå…¨éƒ¨ç›¸ç­‰ï¼Œè¿”å›true</span><br><span class="line">                if (i + 1 == j) &#123;</span><br><span class="line">                    return true;</span><br><span class="line">                &#125; else return isHuiwen(s, ++i, --j);</span><br><span class="line">                //å¦‚æœç¨‹åºèµ°åˆ°è¿™å„¿ï¼Œè¯´æ˜ä¸æ»¡è¶³ä¸Šé¢ä»»æ„ä¸€ç§æƒ…å†µï¼Œå› æ­¤åœ¨è°ƒç”¨å‡½æ•°è¿›ä¸€æ­¥åˆ¤æ–­ ++i å’Œ --j æ˜¯å¦ç›¸ç­‰</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¸Šé¢è¿™ç§æ–¹æ³•æ‰¾å‡ºå­å­—ç¬¦ä¸²éœ€è¦ä¸¤å±‚å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n^2) è€Œåˆ¤æ–­å®ƒæ˜¯å¦ä¸ºå›æ–‡åˆæ˜¯ O(n)ï¼Œå› æ­¤æ€»çš„å¤æ‚åº¦ä¸º O(n^3)ã€‚æ˜¾ç„¶æ•ˆç‡ä¸é«˜ï¼Œé‚£æˆ‘ä»¬å†æ¥çœ‹çœ‹<a href="https://leetcode.cn/problems/a7VOhD/solution/hui-wen-zi-zi-fu-chuan-de-ge-shu-by-leet-ejfv/">LeetCode å®˜æ–¹é¢˜è§£å§</a>ï¼â€”â€”ä¸­å¿ƒæ‹“å±•</p><h4 id="2-ä¸­å¿ƒæ‹“å±•"><a href="#2-ä¸­å¿ƒæ‹“å±•" class="headerlink" title="2.ä¸­å¿ƒæ‹“å±•"></a>2.ä¸­å¿ƒæ‹“å±•</h4><p>å¤§è‡´æ€è·¯ï¼šæˆ‘ä»¬ä»æ¯ä¸€ä¸ªå¯èƒ½æˆä¸ºå›æ–‡ä¸­å¿ƒçš„ç‚¹å¼€å§‹ï¼Œè‹¥å‰åå­—ç¬¦ç›¸ç­‰å°±æ‹“å±•ï¼Œåä¹‹ï¼Œåˆ™åœæ­¢æ‹“å±•ã€‚</p><p>å½“å­å­—ç¬¦ä¸²æ˜¯å¥‡æ•°æ—¶ï¼Œå›æ–‡ä¸­å¿ƒæ˜¯ä¸€ä¸ªï¼›å½“å­å­—ç¬¦ä¸²æ˜¯å¶æ•°ä¸ªæ—¶ï¼Œå›æ–‡ä¸­å¿ƒæ˜¯ä¸¤ä¸ªã€‚æœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥ç»Ÿä¸€äºŒè€…å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æœ‰çš„ã€‚é€šè¿‡è§„å¾‹æˆ‘ä»¬å¯ä»¥å‘ç°ï¼šæ— è®ºå­å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¶æ•°è¿˜æ˜¯å¥‡æ•°ï¼Œæˆ‘ä»¬éƒ½éœ€è¦éå† <code>2n - 1</code> æ¬¡å­—ç¬¦ä¸²ï¼Œæ¢å¥è¯è¯´å°±æ˜¯æœ‰ <code>2n - 1</code> ä¸ªå›æ–‡ä¸­å¿ƒï¼Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int countSubstrings(String s) &#123;</span><br><span class="line">        int n = s.length(), ans = 0;</span><br><span class="line">        for (int i = 0; i &lt; 2 * n - 1; ++i) &#123;</span><br><span class="line">            //å‘å‰æ‹“å±•ä»iå¼€å§‹ï¼Œå‘åæ‹“å±•ä»rå¼€å§‹</span><br><span class="line">            int l = i / 2, r = i / 2 + i % 2;</span><br><span class="line">            //å½“å­å­—ç¬¦ä¸²ä¸ªæ•°ä¸ºå¶æ•°æ—¶ï¼Œi å’Œ r ç›¸ç­‰</span><br><span class="line">            while (l &gt;= 0 &amp;&amp; r &lt; n &amp;&amp; s.charAt(l) == s.charAt(r)) &#123;</span><br><span class="line">                //å½“å‰åå­—ç¬¦ç›¸ç­‰ä¸” i å’Œ r æœªè¶Šç•Œæ—¶</span><br><span class="line">                //å¼€å§‹å‘ä¸¤è¾¹æ‹“å±•</span><br><span class="line">                --l;</span><br><span class="line">                ++r;</span><br><span class="line">                ++ans;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> ç®—æ³•ç»ƒä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¹˜ç§¯å°äº K çš„å­æ•°ç»„ï¼ˆæ»‘åŠ¨çª—å£ï¼‰</title>
      <link href="/2022/05/25/%E4%B9%98%E7%A7%AF%E5%B0%8F%E4%BA%8E-K-%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84%EF%BC%88%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%EF%BC%89/"/>
      <url>/2022/05/25/%E4%B9%98%E7%A7%AF%E5%B0%8F%E4%BA%8E-K-%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84%EF%BC%88%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€.å‰è¨€"></a>ä¸€.å‰è¨€</h2><p>ä»Šå¤©å¥‰ä¸Šçš„é¢˜æ˜¯æ¥è‡ª<a href="https://leetcode.cn/problems/subarray-product-less-than-k/">LeetCode</a>ä¸­çš„ä¸€é“ä¸­ç­‰éš¾åº¦çš„é¢˜ï¼Œä½†æ˜¯å¦‚æœäº†è§£æ»‘åŠ¨çª—å£çš„æ€æƒ³ï¼Œå…¶å®è¿™é“é¢˜ä¹Ÿæ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œé¢˜ç›®å¦‚ä¸‹ï¼š</p><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ Â <code>nums</code>Â  å’Œä¸€ä¸ªæ•´æ•° Â <code>k</code>Â ï¼Œè¯·ä½ è¿”å›å­æ•°ç»„å†…æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯ä¸¥æ ¼å°äº<code>k</code>Â  çš„è¿ç»­å­æ•°ç»„çš„æ•°ç›®ã€‚</p><div class="note success simple"><p><code>ç¤ºä¾‹ä¸€ï¼š</code></p><p>è¾“å…¥ï¼šnums &#x3D; [10,5,2,6], k &#x3D; 100<br>è¾“å‡ºï¼š8<br>è§£é‡Šï¼š8 ä¸ªä¹˜ç§¯å°äº 100 çš„å­æ•°ç»„åˆ†åˆ«ä¸ºï¼š[10]ã€[5]ã€[2],ã€[6]ã€[10,5]ã€[5,2]ã€[2,6]ã€[5,2,6]ã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯ [10,5,2] å¹¶ä¸æ˜¯ä¹˜ç§¯å°äº 100 çš„å­æ•°ç»„ã€‚</p><p><code>ç¤ºä¾‹äºŒï¼š</code></p><p>è¾“å…¥ï¼šnums &#x3D; [1,2,3], k &#x3D; 0<br>è¾“å‡ºï¼š0</p></div><hr><h2 id="äºŒ-æ€è€ƒ"><a href="#äºŒ-æ€è€ƒ" class="headerlink" title="äºŒ.æ€è€ƒ"></a>äºŒ.æ€è€ƒ</h2><p>åƒè¿™ç§ä»ä¸€ä¸ªæ•°ç»„é‡Œé¢æ‰¾ä¸€äº›å­æ•°ç»„æˆ–è€…å­å­—ç¬¦ä¸²çš„é—®é¢˜å¤§éƒ½å¯å¾€è¿™æ–¹é¢é ï¼Œä¸€èˆ¬æ¥è¯´éƒ½æ˜¯å¯ä»¥è§£å†³çš„ã€‚å› æ­¤æˆ‘ä»¬å¤§è‡´æ€è·¯æ˜¯è¿™æ ·çš„ï¼ŒåŒæ ·å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆï¼ˆä¸€ä¸ªå« leftï¼Œä¸€ä¸ªå« iï¼‰ï¼Œå®ƒä»¬éƒ½æŒ‡å‘æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚æˆ‘ä»¬ç”¨ i æŒ‡é’ˆæ¥éå†æ•°ç»„ï¼Œæ¯å½“ i æŒ‡å‘æ–°çš„å…ƒç´ æ—¶æˆ‘ä»¬éƒ½è®¡ç®— i æŒ‡é’ˆå’Œ left æŒ‡é’ˆä¹‹é—´ï¼ˆçª—å£ä¹‹é—´ï¼‰å…ƒç´ çš„ç§¯å¹¶åˆ¤æ–­ä¸€ä¸‹æ˜¯å¦å°äº kï¼Œè‹¥æˆç«‹åˆ™å½“å‰å­æ•°ç»„å°±ç¬¦åˆæ¡ä»¶ï¼Œç”¨ n æ¥è®°å½•ä¸€æ¬¡ã€‚åä¹‹ï¼Œåˆ™ i ç»§ç»­ç§»åŠ¨ä¸‹å»ã€‚</p><p>å…·ä½“çš„æˆ‘ä»¬çœ‹ç€ä»£ç æ¥è§£é‡Šï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int numSubarrayProductLessThanK(int[] nums, int k) &#123;</span><br><span class="line">        int left = 0ï¼Œi = 0;//å®šä¹‰å·¦æŒ‡é’ˆå’Œå³æŒ‡é’ˆ</span><br><span class="line">        int n = 0;//ç”¨æ¥è®°å½•å­æ•°ç»„çš„ä¸ªæ•°</span><br><span class="line">        int addtion = 1;//è¡¨ç¤ºå­æ•°ç»„ä¸­å…ƒç´ çš„ç§¯</span><br><span class="line">        while(left &lt; nums.length)&#123;//é¦–å…ˆåˆ¤æ–­å¾ªç¯æ¡ä»¶ï¼Œå½“leftæŒ‡é’ˆæŒ‡å‘numsçš„æœ€åä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå¾ªç¯ç»“æŸ</span><br><span class="line">            //å¾ªç¯è¿›æ¥åï¼Œè®¡ç®—iå’Œleftä¹‹é—´å„å…ƒç´ çš„ç§¯</span><br><span class="line">            addtion *= nums[i];</span><br><span class="line">            i++;//iæŒ‡é’ˆå‘åç§»åŠ¨</span><br><span class="line">            if (addtion &gt;= k)&#123;//è‹¥å­æ•°ç»„ä¸­çš„å„å…ƒç´ ç§¯å¤§äºk</span><br><span class="line">                left++;//è¯´æ˜å­æ•°ç»„ä¸­å…ƒç´ è¶…å‡ºæ¡ä»¶èŒƒå›´ï¼Œå°†leftæŒ‡é’ˆå‘å³ç§»åŠ¨</span><br><span class="line">                //è®©ié‡æ–°å’ŒleftæŒ‡å‘åŒä¸€å…ƒç´ ï¼Œå¼€å§‹æ–°ä¸€è½®çš„æŸ¥æ‰¾ï¼Œå› æ­¤addtionä¹Ÿè¦å½’ä¸ºåŸå§‹çŠ¶æ€</span><br><span class="line">                i = left;</span><br><span class="line">                addtion = 1;</span><br><span class="line">            &#125;else n++;//è‹¥ç¬¦åˆæ¡ä»¶ï¼Œåˆ™è®°å½•ä¸€ä¸‹ï¼Œä½¿n+1</span><br><span class="line">            //ä½†æ˜¯è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œiåˆ°leftä¹‹é—´çš„å­æ•°ç»„éƒ½ç¬¦åˆæ¡ä»¶ï¼Œè¿™æ—¶iæŒ‡å‘äº†æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ </span><br><span class="line">            if (i == nums.length)&#123;</span><br><span class="line">                //ä¸èƒ½ä½¿iè¶Šç•Œï¼Œå› æ­¤å°†ä¸¤ä¸ªæŒ‡é’ˆé‡æ–°åˆåˆ°ä¸€å—ï¼Œé‡æ–°å¼€å§‹æ–°çš„æŸ¥æ‰¾ï¼ŒåŒç†ä¾ç„¶é‡ç½®addtion</span><br><span class="line">                i = left + 1;</span><br><span class="line">                left++;</span><br><span class="line">                addtion = 1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return n;//è¿”å›æœ€åç»“æœ</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="ä¸‰-å†æ¬¡æ€è€ƒ"><a href="#ä¸‰-å†æ¬¡æ€è€ƒ" class="headerlink" title="ä¸‰.å†æ¬¡æ€è€ƒ"></a>ä¸‰.å†æ¬¡æ€è€ƒ</h2><p>å¦‚æœç†è§£äº†ä¸Šé¢è¿™ä¸ªåšæ³•çš„è¯ï¼Œé‚£è®©æˆ‘ä»¬æƒ³æƒ³æ˜¯å¦è¿˜æœ‰æ›´ä¼˜è§£å‘¢ï¼Ÿ<br>åœ¨ä¸Šé¢è¿™ä¸ªåšæ³•ä¸­ï¼Œæˆ‘ä»¬æ¯å¼€å§‹ä¸€æ¬¡æ–°çš„æŸ¥æ‰¾ï¼Œéƒ½éœ€è¦å°† i æŒ‡é’ˆå’Œ left æŒ‡é’ˆé‡æ–°æŒ‡å‘åŒä¸€ä¸ªæ–°çš„å…ƒç´ ï¼Œå¹¶ä¸” addtion ä¹Ÿéœ€è¦é‡ç½®ä¸º 1ï¼Œè¿™æ ·çœ‹æ¥è¿™å…¶ä¸­ç¡®å®æœ‰ä¸å¦¥ä¹‹å¤„ï¼Œé‚£è®©æˆ‘ä»¬æ¥çœ‹çœ‹å®˜æ–¹çš„çš„åšæ³•å§ã€‚<br><code>LeetCodeå®˜æ–¹é¢˜è§£ï¼š</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int numSubarrayProductLessThanK(int[] nums, int k) &#123;</span><br><span class="line">        int n = nums.length, ret = 0;</span><br><span class="line">        int prod = 1, i = 0;//prodç›¸å½“äºæˆ‘ä»¬ä¹‹å‰çš„addtion</span><br><span class="line">        for (int j = 0; j &lt; n; j++) &#123;</span><br><span class="line">            prod *= nums[j];</span><br><span class="line">            //å®˜æ–¹ç»™å‡ºçš„ä»£ç ä¸­ä»¥ä¸‹å’Œæˆ‘ä»¬ä¹‹å‰çš„æ–¹æ³•æœ‰ä¸€ç‚¹å·®å¼‚</span><br><span class="line">            while (i &lt;= j &amp;&amp; prod &gt;= k) &#123;</span><br><span class="line">                prod /= nums[i];</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            ret += j - i + 1;//è¿™æ˜¯iå’ŒjæŒ‡é’ˆä¹‹é—´çš„å…ƒç´ ä¸ªæ•°ï¼Œå®ƒåœ¨æ•°å€¼ä¸Šç­‰äºæ–°å¢ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ä¸ªæ•°</span><br><span class="line">        &#125;</span><br><span class="line">        return ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>æ€è·¯ä¸åˆ†æï¼šæ•´ä½“æ€æƒ³å’Œæˆ‘ä»¬æœ€å¼€å§‹è®²çš„æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡åœ¨è®°å½•å­æ•°ç»„ä¸ªæ•°å’Œé‡ç½®å„å…ƒç´ ç§¯è¿™ä¸¤éƒ¨è¿›è¡Œäº†ä¼˜åŒ–ã€‚</p><p>æˆ‘ä»¬ç€é‡è®²è¿° while ä¸­æœ‰å·®å¼‚çš„è¿™æ®µï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆç†è§£ï¼ši æŒ‡é’ˆç›¸å½“äºç¬¬ä¸€ç§æ–¹æ³•çš„ leftï¼Œj æŒ‡é’ˆç›¸å½“äºä¹‹å‰çš„ iã€‚è¿™é‡Œ while ä¸­æœ‰ä¸€ä¸ª <code>i &lt;= j</code> æ¡ä»¶ï¼Œè¿™æ˜¯ç”¨æ¥æ§åˆ¶ i æŒ‡é’ˆçš„èŒƒå›´çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ i æŒ‡é’ˆæ˜¯ä¸èƒ½è¶…è¿‡ j æŒ‡é’ˆçš„ï¼Œè¿™æ ·å°±ä¼šæœ‰ä¸€ä¸ªå¥½å¤„ï¼šå› ä¸º <code>j &lt; n</code>ï¼Œæ‰€ä»¥ i å°±ä¸ä¼šè¶…å‡ºæ•°ç»„çš„é•¿åº¦äº†ï¼Œä¹Ÿå°±èƒ½é¿å…æˆ‘ä»¬ç¬¬ä¸€ç§æ–¹æ³•è¿˜è¦ä¸“é—¨å†™ä¸ª<code>if</code>æ¥åˆ¤æ–­ i æ˜¯å¦è¶Šç•Œï¼Œç®€åŒ–äº†ä»£ç ã€‚ä»£ç è¿›å…¥å¾ªç¯åï¼Œä¹Ÿå°±æ„å‘³ç€ <code>prod &gt; k</code> äº†ï¼Œè¿™æ—¶æˆ‘ä»¬ä¸ºäº†ç¬¦åˆæ¡ä»¶ï¼Œéœ€è¦æŠŠ i æŒ‡é’ˆå‘åç§»åŠ¨ï¼Œè€Œ prod å€¼åªéœ€è¦é™¤ä»¥<code>nums[i]</code>å°±ç­‰äºæ­¤æ—¶çª—å£ä¸­å…ƒç´ çš„å€¼ã€‚è¿™å’Œæˆ‘ä»¬ç¬¬ä¸€ç§æ–¹æ³•ç›¸æ¯”å°±æ˜¾å¾—éå¸¸ä¼˜ç§€äº†ï¼Œæˆ‘ä»¬ä¹‹å‰çš„æ–¹æ³•éœ€è¦æ¯æ¬¡æŠŠ prod å€¼å½’ 1ï¼Œç„¶åç”±è¦ç»å† prod ç­‰äºåŸæ¥é‚£ä¸ªå€¼çš„è¿‡ç¨‹ï¼Œè¿™å°±æ˜¾å¾—æœ‰ç‚¹å¤šä½™äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> ç®—æ³•ç»ƒä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•ç»ƒä¹ ï¼šç»Ÿè®¡å¥½æ•°å­—çš„æ•°ç›®ï¼ˆå¿«é€Ÿå¹‚ï¼‰</title>
      <link href="/2022/05/13/fastMi/"/>
      <url>/2022/05/13/fastMi/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€.å‰è¨€"></a>ä¸€.å‰è¨€</h2><p>åˆæ˜¯åœ¨åŠ›æ‰£è¢«é¢˜æŠ˜ç£¨çš„ä¸€æ¬¡ï¼Œååå¤å¤åœ°æäº¤ï¼Œååå¤å¤çš„ä¸é€šè¿‡ï¼Œä¸è¿‡è¿˜å¥½äº†è§£åˆ°äº†å¿«é€Ÿå¹‚çš„æ€æƒ³ï¼Œè¿™ç§æ–¹å¼èƒ½å¤§å¹…æé«˜ç¨‹åºçš„è¿è¡Œé€Ÿåº¦ã€‚</p><blockquote><p>é¢˜ç›®ï¼šæˆ‘ä»¬ç§°ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²æ˜¯ å¥½æ•°å­— å½“å®ƒæ»¡è¶³ï¼ˆä¸‹æ ‡ä» 0Â  å¼€å§‹ï¼‰å¶æ•° ä¸‹æ ‡å¤„çš„æ•°å­—ä¸º å¶æ•° Â  ä¸” å¥‡æ•° Â  ä¸‹æ ‡å¤„çš„æ•°å­—ä¸º è´¨æ•° Â ï¼ˆ2ï¼Œ3ï¼Œ5Â  æˆ– Â 7ï¼‰ã€‚</p></blockquote><ul><li>æ¯”æ–¹è¯´ï¼Œâ€2582â€Â  æ˜¯å¥½æ•°å­—ï¼Œå› ä¸ºå¶æ•°ä¸‹æ ‡å¤„çš„æ•°å­—ï¼ˆ2Â  å’Œ Â 8ï¼‰æ˜¯å¶æ•°ä¸”å¥‡æ•°ä¸‹æ ‡å¤„çš„æ•°å­—ï¼ˆ5 å’Œ Â 2ï¼‰ä¸ºè´¨æ•°ã€‚ä½† Â â€œ3245â€Â  ä¸æ˜¯ å¥½æ•°å­—ï¼Œå› ä¸º Â 3Â  åœ¨å¶æ•°ä¸‹æ ‡å¤„ä½†ä¸æ˜¯å¶æ•°ã€‚<br>ç»™ä½ ä¸€ä¸ªæ•´æ•° Â nÂ ï¼Œè¯·ä½ è¿”å›é•¿åº¦ä¸º Â nÂ  ä¸”ä¸ºå¥½æ•°å­—çš„æ•°å­—å­—ç¬¦ä¸² Â  æ€»æ•° Â ã€‚ç”±äºç­”æ¡ˆå¯èƒ½ä¼šå¾ˆå¤§ï¼Œè¯·ä½ å°†å®ƒå¯¹ Â 109 + 7Â  å–ä½™åè¿”å› Â ã€‚</li></ul><p>ä¸€ä¸ª æ•°å­—å­—ç¬¦ä¸² Â  æ˜¯æ¯ä¸€ä½éƒ½ç”± Â 0Â  åˆ° 9Â  ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä¸”å¯èƒ½åŒ…å«å‰å¯¼ 0.<a href="https://leetcode.cn/problems/count-good-numbers/">(é¢˜ç›®æ¥æºï¼šLeetCodeï¼‰</a></p><h2 id="äºŒ-åˆ†æ"><a href="#äºŒ-åˆ†æ" class="headerlink" title="äºŒ.åˆ†æ"></a>äºŒ.åˆ†æ</h2><p>è¿™é“é¢˜ä¹ä¸€çœ‹ä¼¼ä¹æŒºç®€å•ï¼Œç”±äºæ˜¯è®©æˆ‘ä»¬è¿”å›å¥½æ•°å­—çš„ä¸ªæ•°ï¼Œå¯¹äºå¶æ•°ä¸‹æ ‡æ¥è¯´ç¬¦åˆæ¡ä»¶çš„æ— éå°± 0,2,4,6,8 è¿™å‡ ä¸ªæ•°å­—ï¼Œè€Œå¥‡æ•°ä¸‹æ ‡åªæœ‰ 1,3,5,7 è¿™å››ä¸ªæ•°å­—ã€‚æˆ‘ä»¬åªéœ€è¦è®¡ç®—æ¯ä¸€ä½ä¸Šç¬¦åˆæ¡ä»¶çš„æ•°å­—çš„ä¸ªæ•°ä¹‹ç§¯ï¼Œé¡¶å¤šå†æ¨¡ä¸Š 1000000007 å°±æ˜¯æœ€ç»ˆç­”æ¡ˆäº†ã€‚ä½†æ˜¯çœŸçš„æ˜¯è¿™æ ·çš„å—ï¼Ÿ</p><ul><li>æ•²å®Œä»£ç ç›´æ¥æäº¤ï¼ˆè‡ªä¿¡åŠ è”‘è§†ï¼‰</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int countGoodNumbers(long n) &#123;</span><br><span class="line">        double result = 0;</span><br><span class="line">        if (n % 2 == 0)&#123;</span><br><span class="line">            result = (Math.pow(4,n/2) * Math.pow(5,n/2)) % 1000000007;</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            result = (Math.pow(4,n/2) * Math.pow(5,n/2 + 1)) % 1000000007;</span><br><span class="line">        &#125;</span><br><span class="line">        return (int) result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¿ƒæƒ³è¿™ä¸å°±å®Œäº†å—ï¼Œå¾ˆéš¾å—ï¼Ÿä½†æ˜¯æœ€ç»ˆç»“æœå°±æ˜¯å®ƒæ­»æ´»ä¸è®©æˆ‘è¿‡ï¼Œå¡åœ¨äº† 50ï¼š<br><img src="https://s3.bmp.ovh/imgs/2022/05/12/9cda7a82442d9a34.webp" alt="è¿·èŒ«å•Š..."><br>æˆ‘***ï¼Œè¿™å“ªæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œè¿™éƒ½ä¸è®©è¿‡ï¼Ÿç¦»è°±å•Šâ€¦â€¦ æ€è€ƒä¸€ç•ªæ— æœæˆ‘åªèƒ½å»ç¿»ç¿»æºç ï¼Œè¿™ä¸€ä¸‹åˆè®©æˆ‘æœ‰äº†æ–°çš„æ”¶è·ï¼š<br><img src="https://s3.bmp.ovh/imgs/2022/05/12/7c450cf14f75d653.webp"><br>å®ƒæ˜¯ä¸€ä¸ªæœ¬åœ°æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ç”± c&#x2F;c++ç¼–å†™çš„æ–¹æ³•ï¼Œjava èƒ½æ‹¿æ¥ç”¨ï¼Œè€Œè¿™ä¸ª pow æ–¹æ³•è¿”å›å››èˆäº”å…¥åˆ°æœ€æ¥è¿‘çš„ int å€¼çš„å‚æ•°å€¼ï¼Œè€Œ int æœ€å¤šåªèƒ½è¡¨ç¤º 2147483647ï¼ˆ2 çš„ 31 æ¬¡æ–¹-1ï¼‰ï¼Œä½†æ˜¯ä»£ç é‡Œé¢çš„ 5 çš„ 50 æ¬¡æ–¹æ—©å°±è¶…è¿‡äº†å…¶æœ€å¤§å€¼ï¼Œå› æ­¤è¿™é‡Œå·²ç»æº¢å‡ºï¼Œé”™è¯¯ä¹Ÿå°±éšä¹‹äº§ç”Ÿäº†ã€‚</p><p>è¡Œï¼Œé‚£æˆ‘å°±æ¢ä¸ªæ–¹æ³•ï¼Œä¸ç”¨è¿™ä¸ª pow æ–¹æ³•ï¼Œæˆ‘è‡ªå·±å†™ä¸€ä¸ªèƒ½å¾—åˆ°æŒ‡æ•°å€¼çš„æ–¹æ³•ä¸å°±å¥½äº†å—ï¼Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * è¯´æ˜ï¼šè¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼Œæƒ³ç®€å•å‘Šè¯‰ä¸€ä¸‹å¤§å®¶è¿™ç§å¾ªç¯è®¡ç®—æ—¶ä¼šéå¸¸è€—æ—¶é—´</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class Test &#123;</span><br><span class="line">    public static long normalCal(int power, int base) &#123;</span><br><span class="line">        long result = 1;</span><br><span class="line">        for (int i = 0; i &lt; power; i++) &#123;</span><br><span class="line">            result = result * base;</span><br><span class="line">        &#125;</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        long result = normalCal(30,5 );</span><br><span class="line"></span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬æ±‚çš„æ˜¯ 5 çš„ 30 æ¬¡æ–¹ï¼Œé‚£ä¹ˆå°±ä¼šæ‰§è¡Œ 30 æ¬¡å¾ªç¯ã€‚ä¸éš¾å‘ç°å…¶æ—¶é—´å¤æ‚åº¦ä¸º O(N),å…¶ä¸­ N ä¸ºæŒ‡æ•°ã€‚åœ¨æˆ‘ä»¬è¿™æ®µä»£ç ä¸­è¿˜å¥½ï¼Œè¦æ˜¯æˆ‘æ¢æˆ 5 çš„ 100 æ¬¡æ–¹å‘¢ï¼Ÿé‚£ä¹ˆä¼šæœ‰ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>1.å‡å¦‚çœŸçš„æ˜¯ 5 çš„ 200 æ¬¡æ–¹ï¼Œå³ä½¿æˆ‘ä»¬ç”¨ long æ¥æ”¶ï¼Œç»“æœä¹Ÿä¼šæº¢å‡ºçš„ï¼Œè¿™åˆä¼šå›åˆ°å‰é¢çš„é—®é¢˜ä¸Šå»ã€‚</li><li>2.å°±ç®—æˆ‘ä»¬æƒ³å°½åŠæ³•æ­£ç¡®å¾—åˆ°äº†è¿™ä¸ªç»“æœï¼Œä½†è¿™ä¼šèŠ±è´¹å¤§é‡çš„æ—¶é—´ï¼Œè¿™æ ·æäº¤ä¸Šå»è‚¯å®šä¼šè¶…æ—¶ï¼Œæœ€ç»ˆä¹Ÿä¼šä¸æˆåŠŸã€‚<br>é‚£ä¹ˆæ˜¯å¦æœ‰ä¸€ç§äºŒè€…é—®é¢˜éƒ½è§£å†³æ‰çš„æ–¹æ¡ˆå‘¢ï¼Ÿç­”æ¡ˆè‚¯å®šæ˜¯æœ‰çš„ï¼Œè¿™å°±æ˜¯ä¹‹å‰æˆ‘ä»¬å°†è¦è¯´åˆ°çš„å¿«é€Ÿå¹‚æ€æƒ³ã€‚</li></ul><h2 id="ä¸‰-å¿«é€Ÿå¹‚æ€æƒ³"><a href="#ä¸‰-å¿«é€Ÿå¹‚æ€æƒ³" class="headerlink" title="ä¸‰.å¿«é€Ÿå¹‚æ€æƒ³"></a>ä¸‰.å¿«é€Ÿå¹‚æ€æƒ³</h2><p><em>æˆ‘ä»¬å…ˆæ¥åˆæ­¥è®¤è¯†ä¸‹å¿«é€Ÿå¹‚ï¼Œç»™å®šä¸€ä¸ª 2 çš„ 12 æ¬¡æ–¹å¼å­è®©ä½ è®¡ç®—ï¼Œä½ æ‹¿åˆ°è¿™ä¸ªé¢˜åä¼šæ€ä¹ˆæƒ³å‘¢ï¼Ÿ</em></p><ul><li>ä¸ºäº†è®¡ç®—çš„ç®€ä¾¿ï¼Œæˆ‘ä»¬é€šå¸¸å¯ä»¥å°† 2 çš„ 12 æ¬¡æ–¹è½¬æ¢ä¸º 4 çš„ 6 æ¬¡æ–¹è¿›è€Œè½¬æˆ 16 çš„ 4 æ¬¡æ–¹â€¦è¿›è¡Œè®¡ç®—ã€‚</li></ul><hr><p>1.å¿«é€Ÿå¹‚æ­£å¥½æ˜¯è¿™ç§æ€æƒ³ï¼Œåœ¨è®¡ç®—æœºä¸­ 2 çš„ 12 æ¬¡æ–¹è¦å¾ªç¯ 12 æ¬¡ï¼Œè€Œæˆ‘ä»¬é€šè¿‡å°†æŒ‡æ•°å‡åŠï¼Œåº•æ•°å¹³æ–¹çš„æ€æƒ³å¯ä»¥å‡å°‘å¾ªç¯çš„æ¬¡æ•°ï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚å°±æ¯”å¦‚ä¸Šè¿°çš„ 2 çš„ 12 æ¬¡æ–¹ï¼šæˆ‘ä»¬é€šè¿‡å¿«é€Ÿå¹‚çš„æ€æƒ³æ€è€ƒå®ƒæ˜¯è¿™æ ·çš„ï¼š2 çš„ 12 æ¬¡æ–¹ -&gt; 4 çš„ 6 æ¬¡æ–¹ -&gt; 16 çš„ 3 æ¬¡æ–¹ -&gt; 256 çš„ 1 æ¬¡æ–¹ ä¹˜ä»¥ 16ã€‚å‰è€…å¾ªç¯äº† 12 æ¬¡ï¼Œè€Œåè€…åªéœ€è¦å¾ªç¯ 4 æ¬¡ï¼Œè¦æ˜¯æœ‰æ›´é«˜æŒ‡æ•°è®¡ç®—ï¼Œåˆ™èƒ½èŠ‚çœå¾ªç¯çš„æ¬¡æ•°ä¹Ÿå°±ä¸è¨€è€Œå–»äº†ã€‚</p><p>é‚£æˆ‘ä»¬æ€ä¹ˆè§£å†³å› ä¸ºè®¡ç®—å‡ºçš„å€¼è¿‡å¤§è€Œæº¢å‡ºå¯¼è‡´å‡ºé”™çš„é—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹æ¨¡çš„è¿ç®—è§„å¾‹å§ï¼š<br><code>a). (a+b)%p=(a%p+b%p)%p</code><br><code>b). (a-b)%p=(a%p-b%p)%p</code><br><code>c). (a*b)%p=(a%p * b%p)%p</code> 2.åœ¨è¿™é‡Œåªéœ€è¦ç”¨åˆ°ç¬¬ä¸‰æ¡ç»“è®ºï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è®¡ç®—è¿‡ç¨‹ä¸­å°±å¼€å§‹ä¸æ–­å–æ¨¡ï¼Œè€Œä¸æ˜¯ç­‰åˆ°æœ€ç»ˆç»“æœå‡ºæ¥ä¹‹åå†æ¨¡è¿ç®—ï¼Œè¿™æ ·å°±èƒ½é¿å…æœ€ç»ˆç­”æ¡ˆå¤ªå¤§å¯¼è‡´å‡ºé”™çš„é—®é¢˜äº†ã€‚</p><p>å› æ­¤åœ¨è¿›è¡Œå¹‚è¿ç®—æ—¶æˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public long myAns(lon base, long index) &#123;</span><br><span class="line">    int k = 1000000007;</span><br><span class="line">    long result = 1;</span><br><span class="line">    while (index &gt; 0) &#123;//å½“æŒ‡æ•°å‡åˆ°1æ—¶è·³å‡ºå¾ªç¯</span><br><span class="line">        if (index % 2 == 1) &#123;</span><br><span class="line">            //å¥‡æ•°å¾€è¿™å„¿èµ°ï¼Œç”±äºè¿™é‡Œæ˜¯å¥‡æ•°ï¼ŒæŒ‡æ•°å‡åŠä¼šæœ‰ä½™æ•°ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€å¤šä¹˜ä»¥ä¸€ä¸ªåŸæ¥çš„resultå°±è¡Œäº†</span><br><span class="line">            index = index - 1;</span><br><span class="line">            result = result * base % k;//ä¹˜ä¸ŠåŸæ¥çš„åº•æ•°</span><br><span class="line">            base = base * base % k;//åº•æ•°å¹³æ–¹</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            //å¶æ•°æ¥è¿™é‡Œï¼Œè¿™é‡Œå°±æ˜¯æ­£å¸¸çš„æŒ‡æ•°å‡åŠï¼Œåº•æ•°å¹³æ–¹</span><br><span class="line">            index = index / 2;</span><br><span class="line">            base = (base * base) % k;</span><br><span class="line">        &#125;</span><br><span class="line">    //æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ç§æ–¹å¼èŠ‚çº¦çš„å¾ªç¯æ¬¡æ•°æ˜¯æŒ‡æ•°çº§çš„</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å®ä¸Šé¢è¿™ä¸ªä»£ç è¿˜èƒ½æ›´ç²¾ç®€ä¸€äº›ï¼Œæˆ‘ä»¬è¿˜èƒ½å¯¹å®ƒè¿›è¡Œä¼˜åŒ–ã€‚<br>æˆ‘ä»¬æ¥çœ‹çœ‹æ•´é“é¢˜çš„å…¨éƒ¨ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    //ä¼˜åŒ–åçš„ä»£ç ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯è¿›è¡Œå¹‚è¿ç®—</span><br><span class="line">    public long findMyResult(long base, long index) &#123;</span><br><span class="line">        long result = 1;</span><br><span class="line">        while(index&gt; 0)&#123;</span><br><span class="line">            if(power % 2 == 1)&#123;</span><br><span class="line">                result = result * base % 1000000007;</span><br><span class="line">            &#125;</span><br><span class="line">            index = index / 2;//å¥‡æ•°é™¤ä»¥2ä¼šèˆå»å°æ•°ç‚¹åé¢çš„æ•°ï¼Œèƒ½è‡ªåŠ¨å®ç°å‡1æ“ä½œ</span><br><span class="line">            base = base * base % 1000000007;</span><br><span class="line">        &#125;</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public int countGoodNumbers(long n) &#123;</span><br><span class="line">        if(n % 2 == 0)&#123;</span><br><span class="line">            long result =  findMyResult(4,n/2) % 1000000007;</span><br><span class="line">            result = (result * findMyResult(5,n/2)) % 1000000007;</span><br><span class="line">            return (int) result;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            long result = (findMyResult(4,n/2) % 1000000007);</span><br><span class="line">            result = (result * findMyResult(5,n/2 + 1)) %  1000000007;</span><br><span class="line">            return (int) result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Œ ~</p>]]></content>
      
      
      <categories>
          
          <category> Diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> ç®—æ³•ç»ƒä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello Hexoï¼ä¸€æ¬¾é«˜æ•ˆçš„ä¸ªäººåšå®¢æ¡†æ¶</title>
      <link href="/2022/05/12/mypost/"/>
      <url>/2022/05/12/mypost/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€.å‰è¨€"></a>ä¸€.å‰è¨€</h2><h4 id="ä»€ä¹ˆæ˜¯-Hexoï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-Hexoï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ Hexoï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ Hexoï¼Ÿ</h4><blockquote><p>Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚Hexo ä½¿ç”¨ Â <a href="http://daringfireball.net/projects/markdown/">Markdown</a>ï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚</p></blockquote><p>ç°åœ¨ç½‘ä¸Šå¤§å¤šæ•°çš„åšå®¢ç³»ç»Ÿå…¶å®éƒ½æ˜¯åˆ«äººçš„æ¡†æ¶ï¼Œæ¯”è¾ƒæµè¡Œçš„æ¡†æ¶æœ‰ WordPressï¼Œ halo ï¼Œ hugo è¿˜æœ‰æˆ‘ä»¬ä»Šå¤©è¦è®²çš„ Hexoã€‚</p><h2 id="äºŒ-å®‰è£…å‡†å¤‡"><a href="#äºŒ-å®‰è£…å‡†å¤‡" class="headerlink" title="äºŒ.å®‰è£…å‡†å¤‡"></a>äºŒ.å®‰è£…å‡†å¤‡</h2><ul><li>æœ¬æ–‡éƒ¨åˆ†ä»£ç å¯èƒ½å¤±æ•ˆï¼Œå…·ä½“ä»¥<a href="https://hexo.io/zh-cn/docs/">å®˜ç½‘ | Hexo</a>ä¸ºå‡†<br>ç”±äº Hexo æ˜¯åŸºäº Node.js çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å…ˆä¸‹è½½ Node.jsï¼Œå¦å¤–åªéœ€è¦å®‰è£… git å·¥å…·å°± ok äº†ã€‚</li></ul><h4 id="1-å®‰è£…Node-js"><a href="#1-å®‰è£…Node-js" class="headerlink" title="1.å®‰è£…Node.js"></a>1.å®‰è£…<a href="https://nodejs.org/en/">Node.js</a></h4><p>å‚»ç“œå¼å®‰è£…ï¼Œä¸€ç›´ next å³å¯ã€‚å¦‚æœ‰ç–‘æƒ‘è¯·è‡ªè¡Œä¸Šç½‘æœç´¢ï¼Œç½‘ä¸Šå®‰è£…æ•™ç¨‹å¾ˆå…¨ï¼Œç›¸ä¿¡å¤§å®¶ä¸ä¼šåœ¨è¿™è€½æå¤ªå¤šæ—¶é—´ã€‚å®‰è£…å®Œæˆåæˆ‘ä»¬ä»»æ„ä½ç½®å•å‡»é¼ æ ‡å³é”®ä¼šæœ‰ä¸€ä¸ª Git Bash Hereï¼Œç‚¹å‡»åå°±ä¼šå¼¹å‡º git å‘½ä»¤æ¡†äº†ã€‚<br><em>æ³¨æ„ï¼šè‹¥æƒ³è¦åé¢ä¸‹è½½é€Ÿåº¦æ›´å¿«ï¼Œè¯·æ‰“å¼€ git è¾“å…¥ä»¥ä¸‹å‘½ä»¤</em></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry &quot;https://registry.npm.taobao.org&quot;</span><br></pre></td></tr></table></figure><h4 id="2-å®‰è£…Git"><a href="#2-å®‰è£…Git" class="headerlink" title="2.å®‰è£…Git "></a>2.å®‰è£…<a href="https://git-scm.com/">Git </a></h4><p>ä¸ŠåŒã€‚</p><h2 id="ä¸‰-Hexo-å®‰è£…"><a href="#ä¸‰-Hexo-å®‰è£…" class="headerlink" title="ä¸‰.Hexo å®‰è£…"></a>ä¸‰.Hexo å®‰è£…</h2><p>å®Œæˆä¸Šè¿°æ“ä½œåå³å¯å¼€å§‹å®‰è£… Hexoã€‚æˆ‘ä»¬é€šè¿‡ npm æ¥å®‰è£… hexoã€‚æ¡Œé¢é¼ æ ‡å•æœºå³é”®ï¼Œæ‰“å¼€ Git Bash Hereã€‚</p><ul><li>é”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure><ul><li>ä¹‹ååœ¨æŒ‡å®šè·¯å¾„æ–°å»ºæ–‡ä»¶å¤¹ï¼ˆè‹±æ–‡åï¼‰ï¼Œå³é”®æ‰“å¼€ git å‘½ä»¤æ¡†ï¼Œè¾“å…¥æŒ‡ä»¤ï¼š</li></ul><blockquote><p>è¸©å‘ç‚¹ï¼šåƒä¸‡è¦åœ¨ä½ åˆšå»ºå¥½çš„æ–‡ä»¶å¤¹ä¸­æ‰“å¼€ git å‘½ä»¤æ¡†ï¼</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œ Hexo å°±å½»åº•å®‰è£…å®Œæ¯•äº†ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åˆšåˆšçš„æ–‡ä»¶å¤¹é‡Œé¢æ–°å¢äº†å¾ˆå¤šæ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹ï¼š<br><img src="https://s3.bmp.ovh/imgs/2022/05/12/d1f38c45ad2cbd15.jpg" alt="æ–‡ä»¶å¤¹æ¦‚è§ˆ"></p><h2 id="å››-Hexo-ä½¿ç”¨"><a href="#å››-Hexo-ä½¿ç”¨" class="headerlink" title="å››.Hexo ä½¿ç”¨"></a>å››.Hexo ä½¿ç”¨</h2><h4 id="1-è‡ªå®šä¹‰é…ç½®"><a href="#1-è‡ªå®šä¹‰é…ç½®" class="headerlink" title="1.è‡ªå®šä¹‰é…ç½®"></a>1.è‡ªå®šä¹‰é…ç½®</h4><p>æ‰“å¼€_config.yml è¿›è¡ŒåŸºç¡€é…ç½®ï¼Œæ¯”å¦‚ä¿®æ”¹ä½ çš„åšå®¢çš„åå­—ä¹‹ç±»çš„ï¼Œè¯¦æƒ…è§<a href="https://hexo.io/zh-cn/docs/">å®˜ç½‘ | Hexo</a><br><img src="https://s3.bmp.ovh/imgs/2022/05/12/3696058c67c12c00.webp"></p><h4 id="2-åˆ›å»ºæ–‡ç« "><a href="#2-åˆ›å»ºæ–‡ç« " class="headerlink" title="2.åˆ›å»ºæ–‡ç« "></a>2.åˆ›å»ºæ–‡ç« </h4><p>a).å…ˆæ•´ä½“è¯´ä¸€ä¸‹å„ä¸ªæ–‡ä»¶æ˜¯å¹²å˜›çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ _config.yml  //è¿™ä¸ªæ˜¯é…ç½®æ–‡ä»¶ï¼Œç”¨äºä¿®æ”¹æ–‡ç« æ•°æ®çš„ï¼Œç‚¹è¿›å»ä¹‹åé‡Œé¢ä¼šæœ‰è¯¦ç»†æ³¨è§£</span><br><span class="line">â”œâ”€â”€ package.json //åº”ç”¨ç¨‹åºä¿¡æ¯ï¼Œä¾èµ–çš„æ¨¡å—åˆ—è¡¨</span><br><span class="line">â”œâ”€â”€ scaffolds //åŒ…å«ä¸‰ä¸ªæ–‡ç« æ¨¡æ¿ï¼Œåˆ†åˆ«æ˜¯draftï¼Œpageï¼Œpostã€‚åšå®¢çš„å®šåˆ¶ä¿®æ”¹ä¼šå¯¹æ¨¡æ¿è¿›è¡Œä¿®æ”¹ã€‚</span><br><span class="line">â”œâ”€â”€ source //æˆ‘ä»¬å†™çš„æ–‡ç« æ–‡ä»¶å¤¹å°±å­˜åœ¨è¿™é‡Œï¼ŒåŒ…æ‹¬æˆ‘ä»¬çš„ Markdown æ–‡ç¨¿ï¼Œè¿™é‡Œé¢ä¸€èˆ¬ä¹Ÿå¯ä»¥æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ç”¨æ¥æ”¾ä¸€äº›æˆ‘ä»¬åšå®¢ä¸­éœ€è¦ç”¨åˆ°çš„å›¾ç‰‡</span><br><span class="line">|   â”œâ”€â”€ _drafts //å°±æ˜¯è‰ç¨¿</span><br><span class="line">|   â””â”€â”€ _posts //è¿™å°±æ˜¯å­˜æ–‡ç« çš„æ–‡ä»¶å¤¹</span><br><span class="line">â””â”€â”€ themes //ç”¨äºä¿®æ”¹Hexoä¸»é¢˜çš„</span><br></pre></td></tr></table></figure><p>b).æˆ‘ä»¬è¿›å…¥æ ¹ç›®å½•ï¼Œå°±æ˜¯ä½ åˆšåˆšæ–°å»ºçš„æ–‡ä»¶å¤¹çš„åå­—<br><img src="https://s3.bmp.ovh/imgs/2022/05/12/7fb240132cd720cd.webp"></p><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä¸è®¾ç½® Â <code>layout</code>Â ï¼Œé»˜è®¤ä½¿ç”¨ Â <a href="https://hexo.io/zh-cn/docs/configuration">_config.yml</a>Â  ä¸­çš„ Â <code>default_layout</code>Â  å‚æ•°ä»£æ›¿ï¼ˆé»˜è®¤æ˜¯ postï¼‰ã€‚å¦‚æœæ ‡é¢˜åŒ…å«ç©ºæ ¼çš„è¯ï¼Œè¯·ä½¿ç”¨å¼•å·æ‹¬èµ·æ¥ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new &quot;My First Post&quot;</span><br></pre></td></tr></table></figure><p>ä¹‹åæˆ‘ä»¬ä»æ ¹ç›®å½•ä¾æ¬¡ç‚¹å‡» source â€“&gt; _posts â€“&gt; My First Post.md ç¼–è¾‘æ–‡ä»¶ã€‚<br>è¿›å…¥ä¹‹åä»–æ˜¯é•¿è¿™æ ·çš„ï¼š<br><img src="https://s3.bmp.ovh/imgs/2022/05/12/d1f38c45ad2cbd15.jpg"><br><code>---</code> ä¹‹é—´æ˜¯ front-matterï¼Œæ˜¯æˆ‘ä»¬æ¯ç¯‡æ–‡ç« çš„ä¸€äº›å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œå•ç‹¬è¿›è¡Œè®¾ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨_config.yml ä¸­ç»Ÿä¸€é…ç½®ã€‚è€Œåœ¨<code>---</code>ä¹‹å¤–çš„åœ°æ–¹å°±æ˜¯æˆ‘ä»¬å†™è‡ªå·±åšå®¢å†…å®¹çš„ä½ç½®äº†ã€‚éœ€è¦æ³¨æ„è¦ç”¨ MarkDown è¯­æ³•å“¦ã€‚<br>c).å†™å®Œä¿å­˜ä¹‹åï¼Œåœ¨æ ¹ç›®å½•å†æ¬¡æ‰“å¼€ git å‘½ä»¤æ¡†è¾“å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br></pre></td></tr></table></figure><ul><li>æ¯æ¬¡è¿è¡Œå‰å»ºè®® clean ä¸€ä¸‹ç¼“å­˜ï¼Œå…å¾—å‡ºç°ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜</li></ul><p>d).è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œç”Ÿæˆé™æ€ç½‘é¡µæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g</span><br></pre></td></tr></table></figure><p>e).æœ€åï¼Œè¾“å…¥ä¸‹åˆ—ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo s</span><br></pre></td></tr></table></figure><p>æ•²å®Œå›è½¦åå°±åœ¨æœ¬åœ°æœåŠ¡å™¨ä¸Šè¿è¡Œäº†ï¼Œä½ çš„åšå®¢å°±å¯ä»¥åœ¨æœ¬åœ°æµè§ˆäº†ï¼Œæ–¹æ³•ï¼šåœ¨æµè§ˆå™¨ url æ¡†ä¸­è¾“å…¥ <a href="http://localhost:4000/">http://localhost:4000</a> å³å¯æŸ¥çœ‹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexoå®‰è£… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è½»æ¾ç†è§£JDBCå¹¶ä½¿ç”¨</title>
      <link href="/2022/05/08/%E8%BD%BB%E6%9D%BE%E7%90%86%E8%A7%A3JDBC%E5%B9%B6%E4%BD%BF%E7%94%A8/"/>
      <url>/2022/05/08/%E8%BD%BB%E6%9D%BE%E7%90%86%E8%A7%A3JDBC%E5%B9%B6%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€.å‰è¨€"></a>ä¸€.å‰è¨€</h2><p>æœ€è¿‘å­¦ä¹ äº† JDBCï¼Œè§‰å¾—éå¸¸é‡è¦ï¼Œå› æ­¤è¿å¿™ç†¬å¤œè®°å½•ä¸‹æ¥ã€‚</p><h2 id="äºŒ-ä»€ä¹ˆæ˜¯-JDBCï¼Ÿ"><a href="#äºŒ-ä»€ä¹ˆæ˜¯-JDBCï¼Ÿ" class="headerlink" title="äºŒ.ä»€ä¹ˆæ˜¯ JDBCï¼Ÿ"></a>äºŒ.ä»€ä¹ˆæ˜¯ JDBCï¼Ÿ</h2><blockquote><p>JDBCï¼ˆJava Data Base Connectivity,java æ•°æ®åº“è¿æ¥ï¼‰æ˜¯ä¸€ç§ç”¨äºæ‰§è¡Œ<a href="https://so.csdn.net/so/search?q=SQL%E8%AF%AD%E5%8F%A5&spm=1001.2101.3001.7020">SQL è¯­å¥</a>çš„ Java APIï¼Œå¯ä»¥ä¸ºå¤šç§å…³ç³»æ•°æ®åº“æä¾›ç»Ÿä¸€è®¿é—®ï¼Œå®ƒç”±ä¸€ç»„ç”¨ Java è¯­è¨€ç¼–å†™çš„ç±»å’Œæ¥å£ç»„æˆã€‚</p></blockquote><p>å…·ä½“æ¥è¯´å°±æ˜¯ Java ä¸ºäº†èƒ½å¤Ÿè®©ç”¨æˆ·æ“ä½œä¸åŒçš„æ•°æ®åº“è€Œç¼–å†™å‡ºæ¥çš„ä¸€å¥—æ ‡å‡†æ¥å£ï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨å®ƒä»è€Œèƒ½å¤Ÿæ“ä½œä¸åŒçš„æ•°æ®åº“ã€‚è€Œåƒ MySQLï¼ŒSQLiteï¼ŒSQLService ä¸åŒçš„å‚å•†ä¸ºäº†èƒ½è®© Java æ“ä½œè‡ªå·±å®¶çš„æ•°æ®åº“ä¹Ÿéœ€è¦å®ç° Java æä¾›çš„æ¥å£ï¼Œè¿™äº›å®ç°äº† JDBC æ¥å£çš„ç±»æ‰“æˆä¸€ä¸ª jar åŒ…ï¼Œä¹Ÿå°±æ˜¯æˆ‘å¾…ä¼šæåˆ°çš„æ•°æ®åº“é©±åŠ¨ã€‚</p><h2 id="ä¸‰-JDBC-çš„äº”ä¸ªæ­¥éª¤"><a href="#ä¸‰-JDBC-çš„äº”ä¸ªæ­¥éª¤" class="headerlink" title="ä¸‰.JDBC çš„äº”ä¸ªæ­¥éª¤"></a>ä¸‰.JDBC çš„äº”ä¸ªæ­¥éª¤</h2><p><em>1.æ³¨å†Œé©±åŠ¨</em><br><em>2.å»ºç«‹ Java ä¸æ•°æ®åº“çš„è”ç³»</em><br><em>3.è·å¾—å¯æ“ä½œçš„æ•°æ®åº“å¯¹è±¡</em><br><em>4.æ‰§è¡Œ SQL è¯­å¥</em><br><em>5.æŸ¥çœ‹ç»“æœ</em></p><h2 id="å››-è¡¥å……ï¼š"><a href="#å››-è¡¥å……ï¼š" class="headerlink" title="å››.è¡¥å……ï¼š"></a>å››.è¡¥å……ï¼š</h2><h4 id="1-connection"><a href="#1-connection" class="headerlink" title="1.connection"></a>1.connection</h4><h5 id="a-è§£é‡Šï¼š"><a href="#a-è§£é‡Šï¼š" class="headerlink" title="a).è§£é‡Šï¼š"></a>a).è§£é‡Šï¼š</h5><p>Connection ä¸ç‰¹å®šæ•°æ®åº“çš„è¿æ¥ï¼ˆä¼šè¯ï¼‰ï¼Œåœ¨è¿æ¥ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œ sql è¯­å¥å¹¶è¿”å›ç»“æœã€‚</p><h5 id="b-å¸¸ç”¨æ–¹æ³•ï¼š"><a href="#b-å¸¸ç”¨æ–¹æ³•ï¼š" class="headerlink" title="b).å¸¸ç”¨æ–¹æ³•ï¼š"></a>b).å¸¸ç”¨æ–¹æ³•ï¼š</h5><ul><li>createStatement()ï¼šåˆ›å»ºå‘æ•°æ®åº“å‘é€ sql çš„ statement å¯¹è±¡ã€‚</li><li>prepareStatement(sql) ï¼šåˆ›å»ºå‘æ•°æ®åº“å‘é€é¢„ç¼–è¯‘ sql çš„ PrepareSatement å¯¹è±¡ã€‚</li><li>prepareCall(sql)ï¼šåˆ›å»ºæ‰§è¡Œå­˜å‚¨è¿‡ç¨‹ callableStatement å¯¹è±¡ã€‚</li><li>setAutoCommit(booleanÂ autoCommit)ï¼šè®¾ç½®äº‹åŠ¡æ˜¯å¦è‡ªåŠ¨æäº¤ã€‚</li><li>commit() ï¼šåœ¨é“¾æ¥ä¸Šæäº¤äº‹åŠ¡ã€‚</li><li>rollback() ï¼šåœ¨æ­¤é“¾æ¥ä¸Šå›æ»šäº‹åŠ¡ã€‚</li></ul><h4 id="2-statement"><a href="#2-statement" class="headerlink" title="2.statement"></a>2.statement</h4><h5 id="a-è§£é‡Šï¼š-1"><a href="#a-è§£é‡Šï¼š-1" class="headerlink" title="a).è§£é‡Šï¼š"></a>a).è§£é‡Šï¼š</h5><p>ç”¨äºæ‰§è¡Œé™æ€ SQL è¯­å¥å¹¶è¿”å›å®ƒæ‰€ç”Ÿæˆç»“æœçš„å¯¹è±¡ã€‚ä¸‰ç§ Statement ç±»ï¼š</p><ul><li>Statementï¼šç”± createStatement åˆ›å»ºï¼Œç”¨äºå‘é€ç®€å•çš„ SQL è¯­å¥ï¼ˆä¸å¸¦å‚æ•°ï¼‰ã€‚</li><li>PreparedStatement ï¼šç»§æ‰¿è‡ª Statement æ¥å£ï¼Œç”± preparedStatement åˆ›å»ºï¼Œç”¨äºå‘é€å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°çš„ SQL è¯­å¥ã€‚PreparedStatement å¯¹è±¡æ¯” Statement å¯¹è±¡çš„æ•ˆç‡æ›´é«˜ï¼Œå¹¶ä¸”å¯ä»¥é˜²æ­¢ SQL æ³¨å…¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬éƒ½ä½¿ç”¨ PreparedStatementã€‚</li><li>CallableStatementï¼šç»§æ‰¿è‡ª PreparedStatement æ¥å£ï¼Œç”±æ–¹æ³• prepareCall åˆ›å»ºï¼Œç”¨äºè°ƒç”¨å­˜å‚¨è¿‡ç¨‹ã€‚</li></ul><h5 id="b-å¸¸ç”¨æ–¹æ³•ï¼š-1"><a href="#b-å¸¸ç”¨æ–¹æ³•ï¼š-1" class="headerlink" title="b).å¸¸ç”¨æ–¹æ³•ï¼š"></a>b).å¸¸ç”¨æ–¹æ³•ï¼š</h5><ul><li>execute(StringÂ sql):è¿è¡Œè¯­å¥ï¼Œè¿”å›æ˜¯å¦æœ‰ç»“æœé›†</li><li>executeQuery(StringÂ sql)ï¼šè¿è¡Œ select è¯­å¥ï¼Œè¿”å› ResultSet ç»“æœé›†ã€‚</li><li>executeUpdate(StringÂ sql)ï¼šè¿è¡Œ insert&#x2F;update&#x2F;delete æ“ä½œï¼Œè¿”å›æ›´æ–°çš„è¡Œæ•°ã€‚</li><li>addBatch(StringÂ sql) ï¼šæŠŠå¤šæ¡ sql è¯­å¥æ”¾åˆ°ä¸€ä¸ªæ‰¹å¤„ç†ä¸­ã€‚</li><li>executeBatch()ï¼šå‘æ•°æ®åº“å‘é€ä¸€æ‰¹ sql è¯­å¥æ‰§è¡Œã€‚</li></ul><h2 id="äº”-Java-æ“ä½œæ•°æ®åº“å®æˆ˜"><a href="#äº”-Java-æ“ä½œæ•°æ®åº“å®æˆ˜" class="headerlink" title="äº”.Java æ“ä½œæ•°æ®åº“å®æˆ˜"></a>äº”.Java æ“ä½œæ•°æ®åº“å®æˆ˜</h2><h4 id="1-æ³¨å†Œé©±åŠ¨"><a href="#1-æ³¨å†Œé©±åŠ¨" class="headerlink" title="1.æ³¨å†Œé©±åŠ¨"></a>1.æ³¨å†Œé©±åŠ¨</h4><p>a).æ™®é€šæ–¹å¼æ³¨å†Œé©±åŠ¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DriverManager.registerDriver(new com.mysql.jdbc.Driver);</span><br></pre></td></tr></table></figure><p>b).åˆ©ç”¨åå°„ï¼Œç”¨ç±»åŠ è½½å™¨çš„æ–¹å¼æ³¨å†Œé©±åŠ¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br></pre></td></tr></table></figure><h4 id="2-å»ºç«‹-Java-ä¸æ•°æ®åº“çš„è”ç³»"><a href="#2-å»ºç«‹-Java-ä¸æ•°æ®åº“çš„è”ç³»" class="headerlink" title="2.å»ºç«‹ Java ä¸æ•°æ®åº“çš„è”ç³»"></a>2.å»ºç«‹ Java ä¸æ•°æ®åº“çš„è”ç³»</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/database&quot;, &quot;root&quot;, &quot;24694&quot;);</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å›ºå®šå†™æ³•ï¼Œä»£è¡¨äº†ä½ è¿æ¥çš„æ˜¯å“ªä¸ªæ•°æ®åº“ï¼Œè¿™é‡Œæ˜¯ MySQL<br><em>è¯´æ˜ï¼šjdbc:mysql ç±»ä¼¼äºç½‘ç»œåè®® httpsï¼Œè¿™æ˜¯å›ºå®šå†™æ³•ã€‚è€Œ port ä»£è¡¨ç«¯å£å·</em><br>ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•°æ®åº“ç”¨æˆ·å<br>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æ•°æ®åº“å¯†ç </p><h4 id="3-è·å¾—å¯æ“ä½œçš„æ•°æ®åº“å¯¹è±¡"><a href="#3-è·å¾—å¯æ“ä½œçš„æ•°æ®åº“å¯¹è±¡" class="headerlink" title="3.è·å¾—å¯æ“ä½œçš„æ•°æ®åº“å¯¹è±¡"></a>3.è·å¾—å¯æ“ä½œçš„æ•°æ®åº“å¯¹è±¡</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stmt = conn.createStatement();</span><br></pre></td></tr></table></figure><h4 id="4-æ‰§è¡Œ-SQL-è¯­å¥"><a href="#4-æ‰§è¡Œ-SQL-è¯­å¥" class="headerlink" title="4.æ‰§è¡Œ SQL è¯­å¥"></a>4.æ‰§è¡Œ SQL è¯­å¥</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//æ‰§è¡ŒSQLè¯­å¥ï¼Œä¼šè¿”å›ä¿®æ”¹è¯­å¥çš„æ¡æ•°ï¼Œå› ä¸ºåªæ¶‰åŠåˆ°ä¸€æ¡æ“ä½œï¼Œæ‰€ä»¥ä¼šè¿”å›1</span><br><span class="line">String sql = &quot;insert into test(age,name,local) values(50,&#x27;cofbro&#x27;,&#x27;China&#x27;)&quot;;</span><br><span class="line">int num = stmt.execute(sql);</span><br></pre></td></tr></table></figure><p>ä¸‹é¢ç›´æ¥è´´ä¸Šå®Œæ•´ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">public class DatabaseDemo &#123;</span><br><span class="line">    Connection conn = null;</span><br><span class="line">    Statement stmt = null;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            //æ³¨å†Œé©±åŠ¨</span><br><span class="line">            DriverManager.registerDriver(new com.mysql.jdbc.Driver);</span><br><span class="line">            //å»ºç«‹JVMä¸æ•°æ®åº“çš„è¿æ¥</span><br><span class="line">            conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/database&quot;, &quot;root&quot;, &quot;24694&quot;);</span><br><span class="line">            //è·å–æ•°æ®åº“æ“ä½œå¯¹è±¡</span><br><span class="line">            stmt = conn.createStatement();</span><br><span class="line">            //æ‰§è¡ŒSQLè¯­å¥ï¼Œä¼šè¿”å›ä¿®æ”¹è¯­å¥çš„æ¡æ•°ï¼Œå› ä¸ºåªæ¶‰åŠåˆ°ä¸€æ¡æ“ä½œï¼Œæ‰€ä»¥ä¼šè¿”å›1</span><br><span class="line">            String sql = &quot;insert into test(age,name,local) values(50,&#x27;cofbro&#x27;,&#x27;China&#x27;)&quot;;</span><br><span class="line">            int num = stmt.execute(sql);</span><br><span class="line">            //æŸ¥çœ‹æ˜¯å¦ä¿®æ”¹æˆåŠŸ</span><br><span class="line">            System.out.println(num == 1 ? &quot;ä¿å­˜æˆåŠŸ&quot; : &quot;ä¿å­˜å¤±è´¥&quot;);</span><br><span class="line">        &#125; catch (SQLException e) &#123;</span><br><span class="line">            //è‹¥æœ‰å¼‚å¸¸ï¼Œæ‰“å°å‡ºå¼‚å¸¸ä¿¡æ¯</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            //é‡Šæ”¾èµ„æº</span><br><span class="line">            if (stnt != null) &#123;</span><br><span class="line">                try &#123;</span><br><span class="line">                    //å…ˆå…³å°çš„ï¼Œæ‰èƒ½å…³ä¸Šå¤§çš„</span><br><span class="line">                    stmt.close();</span><br><span class="line">                &#125; catch (SQLException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                try &#123;</span><br><span class="line">                    if (conn != null)&#123;</span><br><span class="line">                        conn.close();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;catch (SQLException e)&#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AndroidåŠ¨æ€å¹¿æ’­(android8.0)</title>
      <link href="/2022/05/07/Android%E5%8A%A8%E6%80%81%E5%B9%BF%E6%92%AD-android8-0/"/>
      <url>/2022/05/07/Android%E5%8A%A8%E6%80%81%E5%B9%BF%E6%92%AD-android8-0/</url>
      
        <content type="html"><![CDATA[<h2 id="Android-å¹¿æ’­äº‹ä»¶"><a href="#Android-å¹¿æ’­äº‹ä»¶" class="headerlink" title="Android å¹¿æ’­äº‹ä»¶"></a>Android å¹¿æ’­äº‹ä»¶</h2><h3 id="1-å¹¿æ’­æ³¨å†Œåˆ†ç±»"><a href="#1-å¹¿æ’­æ³¨å†Œåˆ†ç±»" class="headerlink" title="(1).å¹¿æ’­æ³¨å†Œåˆ†ç±»"></a>(1).å¹¿æ’­æ³¨å†Œåˆ†ç±»</h3><h4 id="a-åŠ¨æ€æ³¨å†Œ-åœ¨-UI-ä¸­æ³¨å†Œçš„å¹¿æ’­ï¼Œä¾‹å¦‚ï¼š"><a href="#a-åŠ¨æ€æ³¨å†Œ-åœ¨-UI-ä¸­æ³¨å†Œçš„å¹¿æ’­ï¼Œä¾‹å¦‚ï¼š" class="headerlink" title="(a).åŠ¨æ€æ³¨å†Œ åœ¨ UI ä¸­æ³¨å†Œçš„å¹¿æ’­ï¼Œä¾‹å¦‚ï¼š"></a>(a).åŠ¨æ€æ³¨å†Œ åœ¨ UI ä¸­æ³¨å†Œçš„å¹¿æ’­ï¼Œä¾‹å¦‚ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">IntentFilter intentFilter = new IntentFilter();</span><br><span class="line">//å®ç°äº†Parcelableæ¥å£ï¼Œå¯ç”¨äºè¿‡æ»¤å¹¿æ’­</span><br><span class="line">intentFilter.addAction(Constants.ACTION_SEND_MSG);</span><br><span class="line">//è®¾ç½®è¿‡æ»¤å™¨ï¼Œè§„å®šèƒ½æ¥å—çš„å¹¿æ’­ä¿¡å·</span><br><span class="line">MessageReceiver messageReceiver = new MessageReceiver();</span><br><span class="line">this.registerReceiver(messageReceiver,intentFilter);</span><br><span class="line">//æ³¨å†Œå¹¿æ’­</span><br></pre></td></tr></table></figure><h4 id="b-é™æ€æ³¨å†Œ"><a href="#b-é™æ€æ³¨å†Œ" class="headerlink" title="(b).é™æ€æ³¨å†Œ"></a>(b).é™æ€æ³¨å†Œ</h4><p>éœ€è¦åœ¨ manifest ä¸­è¿›è¡Œæ³¨å†Œï¼ˆåœ¨å®‰å“ 8.0 åç³»ç»ŸåºŸé™¤äº†å¤§éƒ¨åˆ†é™æ€å¹¿æ’­ï¼Œæœ€å¥½ä½¿ç”¨åŠ¨æ€æ³¨å†Œï¼‰ã€‚</p><h3 id="2-å¹¿æ’­ç±»å‹åˆ†ç±»"><a href="#2-å¹¿æ’­ç±»å‹åˆ†ç±»" class="headerlink" title="(2).å¹¿æ’­ç±»å‹åˆ†ç±»"></a>(2).å¹¿æ’­ç±»å‹åˆ†ç±»</h3><h4 id="a-ç³»ç»Ÿå¹¿æ’­"><a href="#a-ç³»ç»Ÿå¹¿æ’­" class="headerlink" title="(a).ç³»ç»Ÿå¹¿æ’­"></a>(a).ç³»ç»Ÿå¹¿æ’­</h4><p>ç³»ç»Ÿä¸­å·²ç»å®šä¹‰çš„å¹¿æ’­ï¼Œæ­¤ç±»å¹¿æ’­åªèƒ½ç”±ç³»ç»Ÿå‘å‡ºï¼Œå¹¶ä¸”éœ€è¦åœ¨ intent-filter ä¸­åŠ ä¸Šç³»ç»Ÿå·²ç»å†™çš„ actionã€‚</p><h4 id="b-è‡ªå®šä¹‰å¹¿æ’­"><a href="#b-è‡ªå®šä¹‰å¹¿æ’­" class="headerlink" title="(b).è‡ªå®šä¹‰å¹¿æ’­"></a>(b).è‡ªå®šä¹‰å¹¿æ’­</h4><pre><code>é¡¾åæ€ä¹‰ï¼Œæ˜¯ç”¨æˆ·è‡ªå·±å®šä¹‰çš„å¹¿æ’­ã€‚</code></pre><h3 id="3-åŠ¨æ€å®ç°å¹¿æ’­"><a href="#3-åŠ¨æ€å®ç°å¹¿æ’­" class="headerlink" title="(3).åŠ¨æ€å®ç°å¹¿æ’­"></a>(3).åŠ¨æ€å®ç°å¹¿æ’­</h3><h4 id="a-æˆ‘ä»¬é¦–å…ˆéœ€è¦ä¸€ä¸ªå¹¿æ’­æ¥æ”¶ç±»"><a href="#a-æˆ‘ä»¬é¦–å…ˆéœ€è¦ä¸€ä¸ªå¹¿æ’­æ¥æ”¶ç±»" class="headerlink" title="(a)æˆ‘ä»¬é¦–å…ˆéœ€è¦ä¸€ä¸ªå¹¿æ’­æ¥æ”¶ç±»"></a>(a)æˆ‘ä»¬é¦–å…ˆéœ€è¦ä¸€ä¸ªå¹¿æ’­æ¥æ”¶ç±»</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> public class MessageReceiver extends BroadcastReceiver&#123;</span><br><span class="line">        //æ–°å»ºä¸€ä¸ªè‡ªå·±çš„å¹¿æ’­æ¥å—ç±»ç»§æ‰¿è‡ªBroadcastReceiver</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public void onReceive(Context context, Intent intent) &#123;</span><br><span class="line">            //é‡å†™onReceiveæ–¹æ³•ï¼Œæ­¤æ–¹æ³•å†™è‡ªå·±éœ€è¦å®ç°çš„é€»è¾‘</span><br><span class="line">            String detail = intent.getStringExtra(Constants.KEY_CONTENT);</span><br><span class="line">            Toast.makeText(SecondActivity.this, detail, Toast.LENGTH_SHORT).show();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="a-å…¶æ¬¡æ³¨å†ŒåŠ¨æ€å¹¿æ’­"><a href="#a-å…¶æ¬¡æ³¨å†ŒåŠ¨æ€å¹¿æ’­" class="headerlink" title="(a)å…¶æ¬¡æ³¨å†ŒåŠ¨æ€å¹¿æ’­"></a>(a)å…¶æ¬¡æ³¨å†ŒåŠ¨æ€å¹¿æ’­</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MessageReceiver messageReceiver = new MessageReceiver();</span><br><span class="line">this.registerReceiver(messageReceiver,intentFilter);</span><br></pre></td></tr></table></figure><h4 id="c-æœ€åéœ€è¦é€šè¿‡-send-æ–¹æ³•å‘é€ä¸€ä¸ªå¹¿æ’­ä¾›å¹¿æ’­æ¥æ”¶è€…æ¥å—"><a href="#c-æœ€åéœ€è¦é€šè¿‡-send-æ–¹æ³•å‘é€ä¸€ä¸ªå¹¿æ’­ä¾›å¹¿æ’­æ¥æ”¶è€…æ¥å—" class="headerlink" title="(c)æœ€åéœ€è¦é€šè¿‡ send æ–¹æ³•å‘é€ä¸€ä¸ªå¹¿æ’­ä¾›å¹¿æ’­æ¥æ”¶è€…æ¥å—"></a>(c)æœ€åéœ€è¦é€šè¿‡ send æ–¹æ³•å‘é€ä¸€ä¸ªå¹¿æ’­ä¾›å¹¿æ’­æ¥æ”¶è€…æ¥å—</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public void send(View v)&#123;</span><br><span class="line">       String content = mInputBox.getText().toString();</span><br><span class="line">       //è·å–è¾“å…¥æ¡†ä¸­çš„å€¼</span><br><span class="line">       Intent intent = new Intent();</span><br><span class="line">       intent.setAction(Constants.ACTION_SEND_MSG);</span><br><span class="line">       //è®¾ç½®actionå‘é€å“ªä¸ªå¹¿æ’­ï¼ŒConstantç±»ä¸­ä¹¦å†™çš„æ˜¯å¸¸é‡</span><br><span class="line">       intent.putExtra(Constants.KEY_CONTENT,content);</span><br><span class="line">       //é€šè¿‡intentæºå¸¦é¢å¤–æ•°æ®</span><br><span class="line">       sendBroadcast(intent);</span><br><span class="line">       //å‘é€å¹¿æ’­</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>æ•´ä¸ªè¿‡ç¨‹å®Œæ¯•</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•ç»ƒä¹ ï¼šæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²ï¼ˆæ»‘åŠ¨çª—å£ï¼‰</title>
      <link href="/2022/05/07/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0%EF%BC%9A%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2%EF%BC%88%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%EF%BC%89/"/>
      <url>/2022/05/07/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0%EF%BC%9A%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2%EF%BC%88%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€.å‰è¨€"></a>ä¸€.å‰è¨€</h2><p>ä»Šå¤©é‡åˆ°äº†è¿™ç§æ‰¾å‡ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²çš„ç®—æ³•é¢˜ï¼Œå°ç¼–æ€æ¥æƒ³å»ä¾æ—§æ²¡æœ‰æƒ³åˆ°æœ‰ä»€ä¹ˆå¥½æ–¹æ³•ï¼Œç›´åˆ°çœ‹åˆ°äº†å¤§ä½¬çš„ç®—æ³•ï¼Œæä¸ºéœ‡æ’¼ï¼Œæƒ³å†™ç¯‡åšå®¢ï¼Œè®°å½•ä¸‹æ¥ã€‚</p><p>é¢˜ç›®å¦‚ä¸‹ï¼šç»™å‡ºä¸€ç»„å­—ç¬¦ä¸²ï¼Œå¦‚ s &#x3D; â€œ adsjkhf â€ï¼Œè¿”å›å€¼ä¸º 7ï¼Œs &#x3D; â€œabbâ€ï¼Œè¿”å›å€¼ä¸º 2ï¼Œs &#x3D; â€œaabâ€ï¼Œè¿”å›å€¼ä¸º 2ã€‚è¯·åˆ¤æ–­æ­¤å­—ç¬¦ä¸²ä¸­æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²ã€‚</p><h2 id="äºŒ-è¡¥å……"><a href="#äºŒ-è¡¥å……" class="headerlink" title="äºŒ.è¡¥å……"></a>äºŒ.è¡¥å……</h2><p>Java HashMap ä¸­çš„æ–¹æ³•ï¼š</p><p>get() æ–¹æ³•è·å–æŒ‡å®š key å¯¹åº”å¯¹ valueï¼šmap.get(key)</p><p>put() æ–¹æ³•å°†æŒ‡å®šçš„é”®&#x2F;å€¼å¯¹æ’å…¥åˆ° HashMap ä¸­ï¼šmap.put(key,value)</p><p>containsKey()æ–¹æ³•å¦‚æœ map ä¸­å­˜åœ¨æŒ‡å®šçš„ key å¯¹åº”çš„æ˜ å°„å…³ç³»è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</p><h2 id="ä¸‰-é¢˜è§£"><a href="#ä¸‰-é¢˜è§£" class="headerlink" title="ä¸‰.é¢˜è§£"></a>ä¸‰.é¢˜è§£</h2><p>æœ¬é¢˜ä¸»è¦é€šè¿‡æ»‘åŠ¨çª—å£çš„æ€æƒ³è§£å†³ã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯æ»‘åŠ¨çª—å£å‘¢ï¼Ÿå…¶å®å°±æ˜¯ç±»ä¼¼äºä¸¤ä¸ªå‰åæŒ‡é’ˆï¼Œä¸¤ä¸ªæŒ‡é’ˆä¸æ–­å‘åç§»ï¼Œæˆ‘ä»¬åªå…³æ³¨æŒ‡é’ˆä¸­é—´çš„æ•°ï¼Œæœ€åè¿”å›æŒ‡é’ˆä¸­é—´çš„å…ƒç´ çš„ä¸ªæ•°ã€‚</p><h4 id="1-åˆ†æ"><a href="#1-åˆ†æ" class="headerlink" title="(1) åˆ†æ"></a>(1) åˆ†æ</h4><p>æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ª map å®¹å™¨ç”¨äºå­˜æ”¾å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œç„¶åä»å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ a å¼€å§‹ï¼ˆ i &#x3D; 0 ï¼‰å¼€å§‹æ‰¾ï¼Œæ­¤æ—¶ map é‡Œé¢æ˜¯æ²¡æœ‰è¿™ä¸ªå…ƒç´ çš„ï¼Œå› æ­¤æˆ‘ä»¬æŠŠ a å­˜æ”¾è¿› map ä¸­ï¼Œç»§ç»­æ‰§è¡Œæ­¤æ“ä½œç›´åˆ°å‡ºç° map ä¸­æœ‰ç›¸åŒçš„å­—ç¬¦ï¼Œæ­¤æ—¶åªéœ€æŠŠ left æŒ‡é’ˆæŒ‡å‘ç›¸åŒå…ƒç´ çš„åä¸€ä½ï¼Œä¸¤ä¸ªæŒ‡é’ˆä¸­é—´çš„éƒ¨åˆ†å°±æ˜¯ä¸é‡å¤å­—ç¬¦çš„å­ä¸²ï¼Œæ­¤æ—¶è¿™ä¸ªå­ä¸²çš„é•¿åº¦å°±ä¸º i - left + 1ã€‚æˆ‘ä»¬åªéœ€è¦ç”¨è¿™ä¸ªæ–¹æ³•å¾€åçœ‹å»ï¼ˆéšç€ i å¢åŠ ï¼Œå³åæŒ‡é’ˆå‘åæŒ‡å»ï¼‰ï¼Œå¯»æ‰¾æ˜¯å¦æœ‰æ¯”å½“å‰å­ä¸²é•¿åº¦æ›´å¤§çš„ï¼Œè‹¥é‡åˆ°åˆ™å°†ç°åœ¨çš„é•¿åº¦æ›¿æ¢å³å¯ã€‚</p><p>æ³¨æ„ï¼šå­—ç¬¦ä¸²å¯èƒ½æ˜¯è¿™æ ·çš„ â€“&gt; â€œ abbacâ€ã€‚æŒ‰ç…§æˆ‘ä»¬çš„æ–¹æ³•ï¼Œä¼šå…ˆå°† ab å­˜å…¥åˆ°æˆ‘ä»¬çš„ map å½“ä¸­ï¼Œæ­¤æ—¶ left &#x3D; 0ï¼Œå½“ i&#x3D;2 æ—¶ï¼Œç”±äº map ä¸­å·²ç»æœ‰ bï¼Œå› æ­¤ left å°†ç­‰äº get(b) + 1 &#x3D; 2ã€‚éšå i æŒ‡é’ˆå‘åæŒ‡å»åˆé‡åˆ° map å·²æœ‰å…ƒç´  aï¼ŒæŒ‰ç…§å‰é¢çš„ç®—æ³•ï¼Œæ­¤åˆ» left &#x3D; get(a) + 1 &#x3D; 1,ä½†å®é™…ä¸Š left ä¸ä¼šå˜ï¼Œä»ç„¶ç­‰äº 2ï¼Œå› æ­¤åœ¨æ±‚ left å€¼æ—¶æ€»åº”è¯¥å–æœ€å¤§çš„é‚£ä¸ªã€‚</p><h4 id="2-ä»£ç è¯¦è§£"><a href="#2-ä»£ç è¯¦è§£" class="headerlink" title="(2) ä»£ç è¯¦è§£"></a>(2) ä»£ç è¯¦è§£</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public int lengthOfLongestSubstring(String s) &#123;</span><br><span class="line"></span><br><span class="line">       int maxLen = 0;//è®°å½•æœ€é•¿çš„çš„æ— é‡å¤å­—ç¬¦ä¸²çš„é•¿åº¦</span><br><span class="line"></span><br><span class="line">        int left = 0;//å‰æŒ‡é’ˆ</span><br><span class="line"></span><br><span class="line">        HashMap&lt;Character,Integer&gt; map = new HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        for (int i=0;i&lt;s.length();i++)&#123;</span><br><span class="line"></span><br><span class="line">            if (map.containsKey(s.charAt(i)))&#123;    //è‹¥mapä¸­æœ‰æ­¤å…ƒç´ åˆ™æ‰§è¡Œä¸‹é¢ä»£ç </span><br><span class="line"></span><br><span class="line">                left = Math.max(left,map.get(s.charAt(i))+1);  //ä¸Šé¢å·²ç»è§£é‡Šï¼Œæ­¤å¤„åº”ä¸€ç›´å–è¾ƒå¤§çš„left</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            map.put(s.charAt(i),i);       //å°†sä¸­çš„ç¬¬iä¸ªå…ƒç´ å­˜å…¥mapä¸­</span><br><span class="line"></span><br><span class="line">            maxLen = Math.max(maxLen,i -left + 1);  //maxLenå³ä¸ºä¸¤ä¸ªæŒ‡é’ˆä¸­é—´çš„å…ƒç´ ä¸ªæ•°</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return maxLen;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="3-å›¾è§£"><a href="#3-å›¾è§£" class="headerlink" title="(3) å›¾è§£"></a>(3) å›¾è§£</h4><p>æœ€åˆ left&#x3D;0ï¼Œi&#x3D;0ï¼Œmap ä¸­æ— ä»»ä½•å…ƒç´ ï¼Œæ­¤æ—¶ map ä¸­å°†æ·»åŠ  a å­—ç¬¦</p><p>æ­¤æ—¶ i&#x3D;1ï¼Œmap ä¸­å°†æ·»åŠ  b å­—ç¬¦</p><p>æ­¤æ—¶ i&#x3D;2ï¼Œmap ä¸­å°†æ·»åŠ  c å­—ç¬¦</p><p>æ­¤æ—¶ i&#x3D;3ï¼Œæ£€æµ‹åˆ° map ä¸­å·²æœ‰ aï¼Œleft å°†æŒ‡å‘åˆ° map ä¸­çš„ a çš„åä¸€ä½ b<br>ä»¥æ­¤ç±»æ¨éå†å®Œå­—ç¬¦ä¸²ç›´åˆ° i &#x3D; s.length()ï¼Œè¿”å›æœ€åçš„ maxLen å³ä¸ºæœ€ç»ˆç­”æ¡ˆã€‚</p>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> ç®—æ³•ç»ƒä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‘å…‹æ¯”å¤§å°(Java&amp;Kotlin)</title>
      <link href="/2022/05/06/My-New-Post/"/>
      <url>/2022/05/06/My-New-Post/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€.å‰è¨€"></a>ä¸€.å‰è¨€</h2><p>æƒ³è¦å…·å¤‡é¢å‘å¯¹è±¡çš„æ€ç»´ï¼Œå¤šå†™ä»£ç å¿…ä¸å¯å°‘ï¼Œä»Šå¤©è®°å½•çš„æ˜¯ä¸€ä¸ªèƒ½è¿…é€Ÿä½¿å¤§å®¶å»ºç«‹èµ·é¢å‘å¯¹è±¡æ€ç»´çš„ä¸€ä¸ªå° Demo<span id="more"></span>ï¼šä»ä¸€å‰¯æ‰‘å…‹ä¸­æŠ½å‡º 2 å¼ ç‰Œæ¥è¿›è¡Œæ¯”è¾ƒï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><div class="note success flat"><p><em>1.æ­¤å‰¯ç‰Œå¤§å°é¡ºåºä¸º 2 &lt; 3 &lt; 4 &lt; 5 &lt; 6 &lt; 7 &lt; 8 &lt; 9 &lt; 10 &lt; J &lt; Q &lt; K &lt; A.</em><br><em>2.è‹¥ç‚¹æ•°ç›¸åŒåˆ™æ¯”è¾ƒèŠ±è‰² â™  &lt; â™¥ &lt; â™£ &lt; â™¦ .</em><br><em>æ³¨æ„ï¼šä¸€å‰¯æ‰‘å…‹ä¸­æ²¡æœ‰ç›¸åŒçš„ä¸¤å¼ ç‰Œ.</em></p></div><h2 id="äºŒ-æ€è€ƒ"><a href="#äºŒ-æ€è€ƒ" class="headerlink" title="äºŒ.æ€è€ƒ"></a>äºŒ.æ€è€ƒ</h2><p>æ—¢ç„¶è®²åˆ°é¢å‘å¯¹è±¡çš„æ€ç»´ï¼Œé‚£ä¹ˆåœ¨æ•²ä»£ç å‰ä¸€å®šè¦å¥½å¥½æ€è€ƒä¸‹æ¯”è¾ƒä¸¤å¼ æ‰‘å…‹æ‰€åŒ…å«çš„åŠ¨ä½œå’Œäº‹ç‰©æœ‰å“ªäº›ï¼Ÿé¦–å…ˆå¯ä»¥ç¡®å®šçš„æ˜¯éœ€è¦ä¸€å‰¯æ‰‘å…‹ï¼Œé‚£ä¹ˆè¿™å›ºç„¶æ˜¯ä¸€ç±»ï¼ˆPoker ç±»ï¼‰ï¼Œåªæœ‰æœ‰äº†æ‰‘å…‹æˆ‘ä»¬æ‰èƒ½æ¯”å¤§å°ï¼Œç„¶è€Œæ‰‘å…‹å°±åªæ˜¯æ‰‘å…‹å—ï¼Œæ‰‘å…‹ä¸­åŒ…å«äº†å“ªäº›ä¸œè¥¿ ?ç‚¹æ•°å’ŒèŠ±è‰²ï¼Ÿé‚£ä¹ˆè¿™åˆæ˜¯ä¸¤ç±»ï¼ˆPokerNumber ç±»å’Œ PokerSuit ç±»ï¼‰ï¼Œç”±äºæ‰‘å…‹ç‰Œæ˜¯ç”±ç‚¹æ•°å’ŒèŠ±è‰²ç»„æˆçš„ï¼Œé‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´ PokerNumber ç±»å’Œ PokerSuiit ç±»ä¸ Poker ç±»æ˜¯èšåˆå…³ç³»ã€‚æˆ‘ä»¬æ˜ç™½äº†æ‰‘å…‹çš„ç»„æˆï¼Œé‚£ä¹ˆåˆæ˜¯æ€æ ·å°†ç‰Œå‘å‡ºå»ä»è€Œæ¯”è¾ƒå¤§å°çš„å‘¢ï¼Ÿè¿™é‡Œå°±éœ€è¦ä¸€ä¸ª PokerManager æ¥åˆå§‹åŒ–æ‰‘å…‹ï¼ˆæˆ‘ä»¬çš„ç›®çš„æ˜¯å®ä¾‹åŒ–å¯¹è±¡åå°±èƒ½å°†ç‰Œåˆå§‹åŒ–ï¼Œæ­£å¥½å¯ä»¥ç”¨æ„é€ æ–¹æ³•ï¼‰å¹¶å°†å…¶å‘å‡ºå»ã€‚</p><p>æ•´ä¸ªè¿‡ç¨‹çš„ UML å›¾å¦‚ä¸‹ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/28033194-5c1753dbcb4edc77.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•´ä¸ªUMLæ¦‚è§ˆ"></p><ul><li>ç®€å•ä»‹ç»ä¸€ä¸‹è¿‡ç¨‹ï¼šæˆ‘ä»¬æ˜¯é€šè¿‡ PokerNumber å’Œ PokerSuit æ¥ç»„æˆå•ä¸€çš„æ‰‘å…‹ç‰Œçš„ï¼Œè€Œè¿™ä¸€å¼ æ‰‘å…‹æ˜¯è¦è¢«æ”¶åˆ°ä¸€èµ·ç»„æˆä¸€å‰¯æ‰‘å…‹ï¼Œæ¢å¥è¯è¯´å°±æ˜¯éœ€è¦è¢« PokerManager é›†ä¸­èµ·æ¥ç»Ÿä¸€åˆ›å»ºç®¡ç†ã€‚åœ¨ PokerManager ä¸­å®šä¹‰ä¸¤ä¸ªæ•°ç»„åˆ†åˆ«å‚¨å­˜ç‚¹æ•°å’ŒèŠ±è‰²ã€‚æˆ‘ä»¬çŸ¥é“ PokerManager ä¸­æœ‰å¾ˆå¤š Pokerï¼Œé‚£ Poker åˆæ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Œè¿™å°±éœ€è¦å‰©ä¸‹çš„ä¸¤ä¸ªç±»ç»„æˆå®ƒäº†ï¼šPokerNumber å’Œ PokerSuitã€‚åˆ†åˆ«ä»£è¡¨æ‰‘å…‹ç‚¹æ•°å’ŒèŠ±è‰²ï¼Œè¿™æ ·ä¸€å¼ æ‰‘å…‹å°±è¯ç”Ÿäº†ã€‚</li></ul><h4 id="1-åˆ›å»º-PokerNumber-ç±»ä¸-PokerSuit-ç±»"><a href="#1-åˆ›å»º-PokerNumber-ç±»ä¸-PokerSuit-ç±»" class="headerlink" title="1.åˆ›å»º PokerNumber ç±»ä¸ PokerSuit ç±»"></a>1.åˆ›å»º PokerNumber ç±»ä¸ PokerSuit ç±»</h4><p>ä¸ºä»€ä¹ˆè¦åˆ›å»ºè¿™ä¸¤ç±»å‘¢ï¼Ÿæ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦åœ¨åˆ›å»ºèŠ±è‰²å’Œç‚¹æ•°çš„æ—¶å€™å°±è¦ä¸ºä¹‹åæ¯”å¤§å°åšå‡†å¤‡ã€‚æˆ‘ä»¬ä¸€æ—¦å°†ç‚¹æ•°å’ŒèŠ±è‰²ç¡®å®šä¸ºå­—ç¬¦ä¸²ç±»å‹çš„æ—¶å€™ï¼Œå°±æ— æ³•é€šè¿‡ String æ¥æ¯”å¤§å°ï¼Œåªèƒ½å†å¼•å…¥ä¸€ä¸ªå˜é‡ tagï¼ˆtag ä¸ºèŠ±è‰²æ•°ç»„å’Œç‚¹æ•°æ•°ç»„çš„ç´¢å¼•ï¼‰ï¼Œé€šè¿‡ tag æ¥æ¯”è¾ƒï¼Œå› æ­¤è¦æŠŠè¿™ä¸¤ä¸ªå±æ€§åˆ†è£…èµ·æ¥æˆä¸ºä¸€ä¸ªç±»ã€‚</p><h5 id="a-PokerNumber-ç±»"><a href="#a-PokerNumber-ç±»" class="headerlink" title="a).PokerNumber ç±»"></a>a).PokerNumber ç±»</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">public class PokerNumber &#123;</span><br><span class="line">    private String number;</span><br><span class="line">    private int tag;</span><br><span class="line"></span><br><span class="line">    public PokerNumber(String number, int tag) &#123;</span><br><span class="line">        this.number = number;</span><br><span class="line">        this.tag = tag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getNumber() &#123;</span><br><span class="line">        return number;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setNumber(String number) &#123;</span><br><span class="line">        this.number = number;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int getTag() &#123;</span><br><span class="line">        return tag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setTag(int tag) &#123;</span><br><span class="line">        this.tag = tag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="b-PokerSuit-ç±»"><a href="#b-PokerSuit-ç±»" class="headerlink" title="b).PokerSuit ç±»"></a>b).PokerSuit ç±»</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">public class PokerSuit &#123;</span><br><span class="line">    private String suit;</span><br><span class="line">    private int tag;</span><br><span class="line"></span><br><span class="line">    public PokerSuit(String suit, int tag) &#123;</span><br><span class="line">        this.suit = suit;</span><br><span class="line">        this.tag = tag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getSuit() &#123;</span><br><span class="line">        return suit;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setSuit(String suit) &#123;</span><br><span class="line">        this.suit = suit;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int getTag() &#123;</span><br><span class="line">        return tag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setTag(int tag) &#123;</span><br><span class="line">        this.tag = tag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-åˆ›å»º-Poker-ç±»"><a href="#2-åˆ›å»º-Poker-ç±»" class="headerlink" title="2.åˆ›å»º Poker ç±»"></a>2.åˆ›å»º Poker ç±»</h4><p>Poker ç±»ä¸­åŒ…å« PokerNumber å’Œ PokerSuit å±æ€§ã€‚æ­¤å¤–è¿˜åº”åœ¨æ­¤ç±»å†™å‡ºæ¯”è¾ƒæ‰‘å…‹å¤§å°çš„æ–¹æ³•å¹¶ä¸”é‡å†™ toString()æ–¹æ³•ä¿®æ”¹ poker è¾“å‡ºæ ¼å¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public class Poker &#123;</span><br><span class="line">    private PokerNumber pokerNumber;</span><br><span class="line">    private PokerSuit pokerSuit;</span><br><span class="line">    //åˆå§‹åŒ–pokerçš„ä¸¤ä¸ªå±æ€§ -&gt; ç‚¹æ•°å’ŒèŠ±è‰²</span><br><span class="line">    public Poker(PokerNumber pokerNumber, PokerSuit pokerSuit) &#123;</span><br><span class="line">        this.pokerNumber = pokerNumber;</span><br><span class="line">        this.pokerSuit = pokerSuit;</span><br><span class="line">    &#125;</span><br><span class="line">    //æ¯”è¾ƒæ‰‘å…‹ç‰Œå¤§å°</span><br><span class="line">    public boolean compareTo(Poker poker)&#123;</span><br><span class="line">        if (this.pokerNumber.getTag() == poker.pokerNumber.getTag())&#123;</span><br><span class="line">            //ç‚¹æ•°ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œè‹¥å‰è€…èŠ±è‰²å¤§ä¸åè€…èŠ±è‰²åˆ™è¿”å›true</span><br><span class="line">            return this.pokerSuit.getTag() &gt; poker.pokerSuit.getTag();</span><br><span class="line">        //ç‚¹æ•°å¤§ä¸åè€…ï¼Œåˆ™è¿”å›true</span><br><span class="line">        &#125;else return this.pokerNumber.getTag() &gt; poker.pokerNumber.getTag();</span><br><span class="line">    &#125;</span><br><span class="line">     //é‡å†™toString() æ ¼å¼åŒ–pokerçš„è¾“å‡ºæ ¼å¼</span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return</span><br><span class="line">                 pokerNumber.getNumber() +</span><br><span class="line">                 pokerSuit.getSuit();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-åˆ›å»º-PokerManager-ç±»"><a href="#3-åˆ›å»º-PokerManager-ç±»" class="headerlink" title="3.åˆ›å»º PokerManager ç±»"></a>3.åˆ›å»º PokerManager ç±»</h4><p>PokerManager ç±»ç”¨äºé›†ä¸­åˆ›å»ºå’Œç®¡ç†æ‰‘å…‹ã€‚å¹¶ä¸”æˆ‘ä»¬è¦é€šè¿‡æ­¤ç±» getPoker æ–¹æ³•å¾—åˆ°ä¸€å¼ å…·ä½“æ‰‘å…‹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public class PokerManager &#123;</span><br><span class="line">    ArrayList&lt;Poker&gt; pokers = new ArrayList&lt;&gt;();//åˆ›å»ºPokerç±»é›†åˆå­˜æ”¾æ¯ä¸€å¼ æ‰‘å…‹</span><br><span class="line">    public PokerManager()&#123;</span><br><span class="line">        String[] numbers = &#123;&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;J&quot;, &quot;Q&quot;, &quot;K&quot;, &quot;A&quot;&#125;;</span><br><span class="line">        String[] suits = &#123;&quot;â™¦&quot;, &quot;â™£&quot;, &quot;â™¥&quot;, &quot;â™ &quot;&#125;;</span><br><span class="line">        for (int i = 0; i &lt; numbers.length; i++)&#123;</span><br><span class="line">            for (int j = 0; j&lt; suits.length; j++)&#123;</span><br><span class="line">                //é€šè¿‡ä¸¤å±‚forå¾ªç¯åˆ›å»ºæ‰‘å…‹ï¼Œå¤–å±‚å¾ªç¯ç¡®å®šç‚¹æ•°ï¼Œå†…å±‚å¾ªç¯ç¡®å®šèŠ±è‰²</span><br><span class="line">                pokers.add(new Poker(new PokerNumber(numbers[i],i),new PokerSuit(suits[j],j)));</span><br><span class="line">                //å°†åˆ›å»ºå‡ºæ¥çš„æ‰‘å…‹å­˜è¿›pokersé›†åˆé‡Œ</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //å–å‡ºæ‰‘å…‹çš„æ–¹æ³•</span><br><span class="line">    public Poker getPoker()&#123;</span><br><span class="line">        Random r = new Random();</span><br><span class="line">        int index = r.nextInt(pokers.size());</span><br><span class="line">        //å¾—åˆ°[0,pokersé›†åˆé•¿åº¦]å¤§å°çš„éšæœºæ•°</span><br><span class="line">        Poker poker = pokers.get(index);//æ‹¿åˆ°å¯¹åº”ç´¢å¼•å¤„çš„æ‰‘å…‹</span><br><span class="line">        pokers.remove(index);//å»é‡ï¼Œå·²ç»æ‹¿åˆ°è¿‡çš„æ‰‘å…‹ç‰Œåº”ä»è¿™å‰¯ç‰Œä¸­åˆ å»</span><br><span class="line">        return poker;//è¿”å›æ‰‘å…‹å¯¹è±¡</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-åˆ›å»º-Test-ç±»ï¼Œæµ‹è¯•ä»£ç "><a href="#4-åˆ›å»º-Test-ç±»ï¼Œæµ‹è¯•ä»£ç " class="headerlink" title="4.åˆ›å»º Test ç±»ï¼Œæµ‹è¯•ä»£ç "></a>4.åˆ›å»º Test ç±»ï¼Œæµ‹è¯•ä»£ç </h4><p>æ¥ä¸‹æ¥å°±æ˜¯è¿è¡Œä»£ç ï¼ŒæŸ¥çœ‹ç»“æœæ˜¯å¦ä¸é¢„æœŸç›¸ç¬¦</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public class Test &#123;</span><br><span class="line"></span><br><span class="line">    private static Poker poker2;</span><br><span class="line">    private static Poker poker1;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        PokerManager pokerManager = new PokerManager();</span><br><span class="line">        //å®ä¾‹åŒ–å¯¹è±¡ï¼Œå¾—åˆ°ä¸¤å¼ æ‰‘å…‹ç‰Œ</span><br><span class="line">        poker1 = pokerManager.getPoker();</span><br><span class="line">        poker2 = pokerManager.getPoker();</span><br><span class="line">        //è°ƒç”¨compareToæ–¹æ³•åˆ¤æ–­å¤§å°ï¼Œå¹¶è¾“å‡ºåˆ¤å®šç»“æœ</span><br><span class="line">        if (poker1.compareTo(poker2))&#123;</span><br><span class="line">            System.out.println(poker1 + &quot;&gt;&quot; + poker2);</span><br><span class="line">        &#125;else</span><br><span class="line">            System.out.println(poker1 + &quot;&lt;&quot; + poker2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-è¿è¡Œç»“æœ"><a href="#5-è¿è¡Œç»“æœ" class="headerlink" title="5.è¿è¡Œç»“æœ"></a>5.è¿è¡Œç»“æœ</h4><p><img src="https://upload-images.jianshu.io/upload_images/28033194-2822d9331ccc07e5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><br><img src="https://upload-images.jianshu.io/upload_images/28033194-b8bd69732e47bcdd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><br><img src="https://upload-images.jianshu.io/upload_images/28033194-cd7f119357feecb3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p><p>å…ˆè®°å½•åˆ° Javaâ€¦</p>]]></content>
      
      
      <categories>
          
          <category> Diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Kotlin </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
